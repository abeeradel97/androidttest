define("modules/clean/react/comments2/transforms",["require","exports","tslib","modules/core/user_i18n"],function(e,t,n,r){"use strict";function o(e){return{id:e.account_id,name:{display:e.display_name,initials:r.getInitials(e.display_name),public:r.getShortName(e.display_name)},photoUrl:e.photo_circle_url}}function i(e,t){if(!t.length)return{metadata:[],text:e};for(var n=[],o=[],i=0,a=0,s=t;a<s.length;a++){var l=s[a],c=void 0,u=void 0;"accountId"in l?(c=r.getShortName(l.displayName),u={type:"id",identifier:l.accountId}):(c=l.email,u={type:"email",identifier:l.email}),c&&(c="@"+c,n.push(c),o.push({location:{start:i,end:i+c.length},type:"mention",user:u}),i+=c.length+1)}return n.push(e),{text:n.join(" "),metadata:o}}function a(e){return{id:e.dbx_account_id,email:e.email,name:{display:e.name,initials:r.getInitials(e.name),public:r.getShortName(e.name)},photoUrl:e.photo_url||e.avatar_url}}Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importStar(r),t.dbxUserToIUser=o,t.sharingTextAndUsersToICommentContent=i,t.contactToIMentionUser=a}),define("modules/clean/react/folder_overview/content_references",["require","exports","tslib","external/react-redux","react","retrieval-components/pinned-item","modules/clean/browse_uri_interface","modules/clean/react/browse/models","modules/clean/react/folder_overview/data/action_creators","modules/clean/react/folder_overview/data/selectors","modules/clean/react/folder_overview/logging","modules/clean/react/icon/file_folder_icon","modules/clean/react/icon/folder_icon","modules/clean/web_user_action_events","modules/core/browser","modules/core/i18n"],function(e,t,n,r,o,i,a,s,l,c,u,p,d,f,m,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=n.__importDefault(o),l=n.__importStar(l),m=n.__importStar(m);var h=function(){var e=c.makeSelectors();return function(t,n){return{user:c.user(t),folderFileId:e.folderFileId(t,n),pinnedItems:e.pinnedItems(t,n)}}},v={removeContentReferences:l.removeContentReferences},y=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handlePinnedItemUnpin=function(e){var n=t.props.folderFileId;n&&t.props.removeContentReferences({folderFileId:n,fileIds:[e.file_id],componentNamespace:t.props.componentNamespace}),u.logFolderOverviewAction(f.WebUserActionLogEvent.FOLDER_OVERVIEW_UNPIN,t.props.user.id,e)},t.handlePinnedItemClick=function(e){u.logFolderOverviewAction(f.WebUserActionLogEvent.FOLDER_OVERVIEW_PIN_CLICK,t.props.user.id,e),void 0!==e.ns_id?t.props.onNavigateToFileOrFolder(e):m.redirect(a.href_for_file(t.props.user,e))},t}return n.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,r=t.user,l=t.pinnedItems,c=t.isReadOnly;return l&&l.length?o.default.createElement("div",{className:"folder-overview__content-references"},l.map(function(t){if(t.isDeleted||!t.fq_path)return null;var l={className:"folder-overview__content-reference",filename:s.File.getFilename(t),fqPath:t.fq_path,onClick:function(){return e.handlePinnedItemClick(t)},url:a.href_for_file(r,t),subtitle:s.File.getCategoryDescription(t)};if(c||(l=n.__assign({},l,{menuOptions:c?void 0:[{key:"unpin",label:g._("Unpin")}],onMenuOptionClick:function(n){switch(n){case"unpin":e.handlePinnedItemUnpin(t)}},menuLabel:""})),t.is_dir)return o.default.createElement(i.PinnedItem,n.__assign({},l,{key:t.file_id,isFolder:!0,folderIcon:d.convertLegacyFolderIconToSpectrum(t.icon,"large")}));var u=n.__assign({},l,{thumbnailUrl:p.getThumbnailUrlForItem(t.thumbnail_url_tmpl,256)});return o.default.createElement(i.PinnedItem,n.__assign({key:t.file_id},u))})):null},t})(o.default.PureComponent);t.FolderOverviewContentReferencesComponent=y,t.FolderOverviewContentReferences=r.connect(h,v)(y)}),define("modules/clean/react/folder_overview/description",["require","exports","tslib","draft-js","external/classnames","external/lodash","external/react-redux","react","spectrum/icon_action","spectrum/icon_admin","spectrum_comments/folder_overview_editor","modules/clean/filepath","modules/clean/react/browse/data/selectors","modules/clean/react/comments2/data/mentions_api","modules/clean/react/folder_overview/api","modules/clean/react/folder_overview/constants","modules/clean/react/folder_overview/data/action_creators","modules/clean/react/folder_overview/data/selectors","modules/clean/react/folder_overview/examples_modal","modules/clean/react/folder_overview/logging","modules/clean/react/folder_overview/placeholder","modules/clean/react/folder_overview/utils","modules/clean/react/snackbar","modules/clean/sharing/browse_exports","modules/clean/web_user_action_events","modules/core/browser","modules/core/browser_detection","modules/core/exception"],function(e,t,n,r,o,i,a,s,l,c,u,p,d,f,m,g,h,v,y,_,b,S,C,w,E,T,k,x){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=n.__importDefault(o),i=n.__importStar(i),s=n.__importDefault(s),p=n.__importStar(p),d=n.__importStar(d),m=n.__importStar(m),h=n.__importStar(h),T=n.__importStar(T),k=n.__importStar(k);var O=function(){var e=v.makeSelectors();return function(t,n){return{user:v.user(t),browseContext:d.context(t),author:e.descriptionAuthor(t),folderFileId:e.folderFileId(t,n),folderNsId:e.folderNsId(t,n),sharedFolderId:e.sharedFolderId(t,n),sharedFolderPath:e.sharedFolderPath(t,n),content:e.descriptionContent(t,n),rootSharedFolderName:e.sharedFolderName(t,n),hasUnsavedDraft:e.hasUnsavedDescriptionDraft(t,n),descriptionHasFocus:e.descriptionHasFocus(t,n)}}},D={addLoadedComponent:h.addLoadedComponent,updateFolderData:h.updateFolderDataCache,saveDescriptionDraft:h.saveDescriptionDraft,setDescriptionHasFocus:h.setDescriptionHasFocus},M=(function(e){function t(t){var o=e.call(this,t)||this;return o.immediatelySaveDescriptionDraft=function(){o.delayedSaveDescriptionDraft.cancel(),o.saveDescriptionDraft()},o.saveDescriptionDraft=function(){var e=o.props,t=e.hasUnsavedDraft,n=e.saveDescriptionDraft,r=e.folderFileId,i=e.componentNamespace,a=e.user;if(t){n({folderFileId:r,componentNamespace:i});var s="BROWSE"===i?E.ActionSurfaceLogValue.CENTER_PANE:E.ActionSurfaceLogValue.RIGHT_SIDEBAR,l="search-sidebar"===i?E.RetrievalSourceValue.SEARCH:E.RetrievalSourceValue.BROWSE;_.logFolderOverviewAction(E.WebUserActionLogEvent.FOLDER_OVERVIEW_DESCRIPTION_SAVE,a.id,null,{action_surface:s,retrieval_source:l})}},o.handleBeforeUnload=function(e){o.immediatelySaveDescriptionDraft(),o.props.hasUnsavedDraft&&(e.preventDefault(),e.returnValue="")},o.handleDescriptionMention=function(e){return"email"===e.type&&e.identifier===o.props.user.email||"id"===e.type&&e.identifier===o.props.user.id.toString()?Promise.resolve({userInFolder:!0,shouldShowSharePopup:!1}):o.props.user.cdm_tmf_path&&p.paths_are_equal(o.props.user.cdm_tmf_path,o.props.path)?(C.Snackbar.fail(g.ERROR_SHARE_MEMBER_FOLDER,"folder-overview-mention"),Promise.resolve({userInFolder:!1,shouldShowSharePopup:!1})):m.getFolderAccess({userId:o.props.user.id,sharedFolderId:o.props.sharedFolderId,accountEmail:"email"===e.type?e.identifier:void 0,accountId:"id"===e.type?e.identifier:void 0}).then(function(e){return{userInFolder:e.has_access,shouldShowSharePopup:!e.has_access}}).catch(function(e){var t=o.props.canShareFolder;return t||C.Snackbar.fail(g.ERROR_SHARE_NO_PERMISSION,"folder-overview-mention"),{userInFolder:!1,shouldShowSharePopup:t}})},o.handleDescriptionShare=function(e,t,n,r){w.asyncShowPrefilledShareModal({user:o.props.user,sharePrefillEmails:[e.identifier],content:{fqPath:o.props.sharedFolderPath,isFolder:!0},extras:{onSuccessSharing:function(){o.handleDescriptionMention(e).then(function(e){return e.userInFolder&&r()})},recipientMessage:o.generateShareMessage(t)}})},o.generateShareMessage=function(e){return o.props.sharedFolderPath&&!p.paths_are_equal(o.props.sharedFolderPath,o.props.path)?e&&e.length?g.SHARING_MODAL_MESSAGE_PARENT_FOLDER.format({user_name:e,folder_name:S.pathFromSharingFolder(o.props.sharedFolderPath,o.props.path)}):g.SHARING_MODAL_MESSAGE_PARENT_FOLDER_NO_NAME.format({folder_name:S.pathFromSharingFolder(o.props.sharedFolderPath,o.props.path)}):e&&e.length?g.SHARING_MODAL_MESSAGE_SAME_FOLDER.format({user_name:e}):g.SHARING_MODAL_MESSAGE_SAME_FOLDER_NO_NAME},o.stateFromProps=function(e){try{return{editorState:e.content?r.EditorState.createWithContent(r.convertFromRaw(e.content)):r.EditorState.createEmpty()}}catch(t){return x.reportException({err:t,tags:["folder-overview","browse"],severity:"user-error",exc_extra:{description:e.content}}),{editorState:r.EditorState.createEmpty()}}},o.handleDescriptionUpdated=function(){var e=void 0;(o.props.content||""!==o.state.editorState.getCurrentContent().getPlainText().trim())&&(e=r.convertToRaw(o.state.editorState.getCurrentContent())),o.props.updateFolderData({fileId:o.props.folderFileId,folderData:{descriptionDraft:e?JSON.stringify(e):void 0}}),o.delayedSaveDescriptionDraft()},o.handleEditorStateChange=function(e){o.props.isReadOnly||(o.props.setDescriptionHasFocus({componentNamespace:o.props.componentNamespace,descriptionHasFocus:e.getSelection().getHasFocus()}),o.setState({editorState:e}),o.throttledUpdateDescription())},o.handleOpenLink=function(e){window.open(e)},o.handleMentionsQueryUpdated=function(e){o.mentionsApi&&(e.trim().length?o.mentionsApi.query(e,function(e){o.setState({mentionsQueryCache:o.fixNamesForMentionsQueryCache(e)})}):o.setState({mentionsQueryCache:o.fixNamesForMentionsQueryCache(o.mentionsApi.getMatchesWithStarterSuggestions())}))},o.fixNamesForMentionsQueryCache=function(e){var t={};return Object.keys(e).forEach(function(r){t[r]=e[r].map(function(e){return n.__assign({},e,{name:n.__assign({},e.name,{public:e.name.display||e.name.public})})})}),t},o.handleShare=function(e,t,n){var r=e.identifier;o.handleDescriptionShare(e,o.getNameFromMentionsCache(r),t,n)},o.getNameFromMentionsCache=function(e){for(var t=Object.keys(o.state.mentionsQueryCache),n=0,r=t;n<r.length;n++)for(var i=r[n],a=0,s=o.state.mentionsQueryCache[i];a<s.length;a++){var l=s[a];if(l.email===e)return l.name.display}return""},o.shouldShowPlaceholder=function(){var e=o.state.editorState,t=e.getCurrentContent();return!t.hasText()&&"unstyled"===t.getFirstBlock().getType()&&!e.getSelection().getHasFocus()},o.setDraftRef=function(e){o.draftRef=e},o.focusEditor=function(){o.draftRef&&o.draftRef.focusEditor()},o.handleFolderExamplesButtonClick=function(e){e&&e.stopPropagation(),"V3"===o.props.expFolderOverview?y.OverviewExamplesModal.show():T.open_tab(g.FOLDER_EXAMPLES_LINK_URI);var t="search-sidebar"===o.props.componentNamespace?E.RetrievalSourceValue.SEARCH:E.RetrievalSourceValue.BROWSE;_.logFolderOverviewAction(E.WebUserActionLogEvent.FOLDER_OVERVIEW_EXAMPLES_CLICK,o.props.user.id,null,{retrieval_source:t})},o.getToolbarScrollContainerEl=function(){return o.props.limitedWidth?null:document.documentElement},o.state=o.stateFromProps(t),o.delayedSaveDescriptionDraft=i.debounce(o.saveDescriptionDraft,g.DESCRIPTION_SAVE_DELAY_MS),o.throttledUpdateDescription=i.throttle(o.handleDescriptionUpdated,100),t.isReadOnly||(o.mentionsApi=f.mentionsApi(t.user,!0)),o}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.props.addLoadedComponent({componentNamespace:this.props.componentNamespace,component:"draftjs"}),window.addEventListener("beforeunload",this.handleBeforeUnload)},t.prototype.componentWillReceiveProps=function(e){(!p.paths_are_equal(e.path,this.props.path)&&(e.folderFileId||e.folderNsId)||!this.props.folderNsId&&!this.props.folderFileId&&e.folderNsId)&&this.immediatelySaveDescriptionDraft(),e.descriptionKey===this.props.descriptionKey||this.state.editorState.getSelection().getHasFocus()||this.setState(this.stateFromProps(e)),this.mentionsApi||e.isReadOnly||(this.mentionsApi=f.mentionsApi(this.props.user))},t.prototype.componentWillUnmount=function(){window.removeEventListener("beforeunload",this.handleBeforeUnload),this.props.hasUnsavedDraft&&this.immediatelySaveDescriptionDraft()},Object.defineProperty(t.prototype,"editorFeatures",{get:function(){switch(this.props.expFolderOverview){case"V1":return{inlineToolbar:!0};case"V2":return{inlineToolbar:!0,tasks:!0,mentions:!0};case"V3":return{restylingWithFixedToolbar:!0,tasks:!0,mentions:!0};default:return{}}},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.isReadOnly,r=e.showReadOnlyIcon,i=e.author,a=e.hasUnsavedDraft,p=e.showDraftIcon,d=e.showExamplesInPlaceholder,f=e.expFolderOverview,m=this.state.editorState,h=this.shouldShowPlaceholder(),v=k.mac?"command":"control",y=n.__assign({},g.FOLDER_OVERVIEW_EDITOR_STRINGS,{folderOverviewToolbar:n.__assign({},g.FOLDER_OVERVIEW_EDITOR_STRINGS.folderOverviewToolbar,{altKey:k.mac?g.OPT_KEY:g.ALT_KEY,accelKey:k.mac?g.CMD_KEY:g.CTRL_KEY})});return s.default.createElement(s.default.Fragment,null,t&&r&&"V3"===f&&s.default.createElement(l.IconAction,{name:"permissions",className:"folder-overview__inline-readonly-icon"}),s.default.createElement("div",{className:o.default({"folder-overview__description":!0,"folder-overview__placeholder":h,"folder-overview__fixed-toolbar":this.editorFeatures.restylingWithFixedToolbar})},t&&r&&"V3"!==f?s.default.createElement(l.IconAction,{name:"permissions",className:"folder-overview__readonly-icon"}):a&&p?s.default.createElement(c.IconAdmin,{name:"edit-group",className:"folder-overview__draft-icon"}):null,h&&s.default.createElement("div",{onClick:this.focusEditor,onKeyDown:this.focusEditor,tabIndex:0,role:"button",className:"folder-overview__placeholder-wrapper"},s.default.createElement(b.FolderOverviewPlaceholder,{onExampleButtonClick:this.handleFolderExamplesButtonClick,showExamplesAsButton:"V3"===f,showExamples:!t&&d,isReadOnly:this.props.isReadOnly})),s.default.createElement(u.FolderOverviewEditor,{author:i,features:this.editorFeatures,localization:y,editorState:m,readOnly:t,onEditorStateChange:this.handleEditorStateChange,onOpenLink:this.handleOpenLink,onMentionsQueryUpdated:this.handleMentionsQueryUpdated,enableEmailMention:!0,mentionShareFlowHandlers:{onMention:this.handleDescriptionMention,onShare:this.handleShare},mentionsMatches:this.state.mentionsQueryCache,rootSharedFolderName:this.props.rootSharedFolderName,toolbarButtonOnboarding:this.handleFolderExamplesButtonClick,setDraftRef:this.setDraftRef,getToolbarScrollContainerEl:this.getToolbarScrollContainerEl,limitedWidth:this.props.limitedWidth,toolbarHeightWithMargin:0,toolbarTopMargin:this.props.toolbarTopMargin,accelKey:v,hideAllToolbars:k.iOS})))},t})(s.default.PureComponent);t.FolderOverviewDescriptionComponent=M,t.FolderOverviewDescription=a.connect(O,D)(M)}),define("modules/clean/react/folder_overview/last_edit",["require","exports","tslib","external/react-redux","react","spectrum-collab-browse/last_edit","modules/clean/datetime","modules/clean/react/css","modules/clean/react/folder_overview/constants","modules/clean/react/folder_overview/data/action_creators","modules/clean/react/folder_overview/data/selectors","modules/clean/react/folder_overview/data/types","modules/clean/react/folder_overview/utils"],function(e,t,n,r,o,i,a,s,l,c,u,p,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=n.__importDefault(o),c=n.__importStar(c);var f=function(){var e=u.makeSelectors();return function(t,n){return{user:u.user(t),folderFileId:e.folderFileId(t,n),lastModifiedTime:e.lastModifiedTime(t,n),lastModifiedUser:e.lastModifiedUser(t,n),lastModifiedUserId:e.lastModifiedUserId(t,n),descriptionSaveState:e.descriptionSaveState(t,n),isFolderOverviewEmpty:e.isFolderOverviewEmpty(t,n),descriptionHasFocus:e.descriptionHasFocus(t,n)}}},m={reloadDescription:c.reloadDescription},g=(function(e){function t(t){var n=e.call(this,t)||this;return n.stateFromProps=function(e){return void 0===e&&(e=n.props),{message:n.createMessage(e),conflictPopup:n.createConflictPopup(e)}},n.onTimeout=function(){n.setState(n.stateFromProps()),n.updateTimer=setTimeout(n.onTimeout,3e4)},n.createMessage=function(e){if(!e.lastModifiedTime)return"";var t=a.ago(1e3*e.lastModifiedTime,!1,!0,!1);return e.isFolderOverviewEmpty?e.lastModifiedUserId===e.user.account_id?l.DESCRIPTION_LAST_EDIT_EMPTY_YOU.format({time_ago:t}):e.lastModifiedUser?l.DESCRIPTION_LAST_EDIT_EMPTY.format({time_ago:t,name:e.lastModifiedUser.name.display_name}):"":e.lastModifiedUserId===e.user.account_id?l.DESCRIPTION_LAST_EDIT_YOU.format({time_ago:t}):e.lastModifiedUser?l.DESCRIPTION_LAST_EDIT.format({time_ago:t,name:e.lastModifiedUser.name.display_name}):""},n.handleLastEditDismiss=function(){n.props.reloadDescription({folderFileId:n.props.folderFileId,componentNamespace:n.props.componentNamespace})},n.createConflictPopup=function(e){if(e.descriptionSaveState===p.DescriptionSaveState.CONFLICT){if(e.lastModifiedUserId===e.user.account_id)return{title:l.CONFLICT_POPUP_TITLE_YOU,message:l.CONFLICT_POPUP_CONTENT_YOU,dismissButtonLabel:l.CONFLICT_POPUP_BUTTON,onDismissHandler:n.handleLastEditDismiss,userInitials:d.userInitials(e.user),userPhotoUrl:e.user.photo_url};if(e.lastModifiedUser)return{title:l.CONFLICT_POPUP_TITLE.format({user:e.lastModifiedUser.name.display_name}),message:l.CONFLICT_POPUP_CONTENT,dismissButtonLabel:l.CONFLICT_POPUP_BUTTON,onDismissHandler:n.handleLastEditDismiss,userInitials:d.userInitials(e.lastModifiedUser),userPhotoUrl:e.lastModifiedUser.profile_photo_url}}},n.state=n.stateFromProps(t),n}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.updateTimer=setTimeout(this.onTimeout,3e4)},t.prototype.componentWillUnmount=function(){clearTimeout(this.updateTimer)},t.prototype.componentWillReceiveProps=function(e){this.setState(this.stateFromProps(e))},t.prototype.render=function(){return this.state.message?o.default.createElement(i.LastEditComponent,{lastEditMessage:this.state.message,conflictPopup:this.state.conflictPopup,isEditorFocused:this.props.descriptionHasFocus,userEditingMessage:l.FOLDER_OVERVIEW_EDITOR_EDITING}):null},t})(o.default.PureComponent);t.FolderOverviewLastEditComponent=g,t.FolderOverviewLastEdit=r.connect(f,m)(s.requireCssWithComponent(g,["/static/js/spectrum-collab-browse/index.web-vflMjiB5M.css"]))}),define("modules/clean/react/folder_overview/pin_to_modal",["require","exports","tslib","react","spectrum/modal","retrieval-components/folder-list","modules/clean/filepath","modules/clean/logging/hive/schemas/web-modal-activity","modules/clean/react/folder_overview/constants","modules/clean/react/modal","modules/clean/ux_analytics_modal_tracking","modules/clean/ux_analytics_utils","modules/clean/viewer","modules/clean/web_modal_activity_logger","modules/core/i18n"],function(e,t,n,r,o,i,a,s,l,c,u,p,d,f,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importDefault(r),a=n.__importStar(a),c=n.__importStar(c);var g=(function(e){function t(t){var n=e.call(this,t)||this;return n.makeFoldersFromProps=function(e){void 0===e&&(e=n.props);var t=a.normalize(e.path).split("/"),r=[],o="";return t.forEach(function(t){o=a.normalize(o+"/"+t),r.push({path:o,name:a.paths_are_equal("/",t)?a.filename("",d.Viewer.get_root_name(e.user)):t,icon:e.user.is_cdm_member&&a.paths_are_equal(o,e.user.cdm_tmf_path)?"folder_team_member-small":"folder-small",isClickable:!e.isCurrentPathReadOnly||!a.paths_are_equal(o,e.path),hasSubfolders:!1,subtitle:a.paths_are_equal(o,e.path)?m._("This folder"):void 0})}),r.reverse(),r},n.close=function(){n.setState({isOpen:!1}),p.dispatchModalClosed()},n.handleSuccess=function(){n.logger.log(s.ModalEventName.SUCCESS),n.props.onFolderSelected(n.state.selectedPath),n.close()},n.handleCancel=function(){n.close()},n.handleReady=function(){n.logger.log(s.ModalEventName.READY),p.dispatchModalOpened()},n.handleRequestClose=function(){n.logger.log(s.ModalEventName.CLOSE),n.close()},n.handlePrimaryButtonClick=function(e){n.logger.log(s.ModalEventName.PRIMARY_CLICK,{path:e})},n.handleSecondaryButtonClick=function(){n.logger.log(s.ModalEventName.SECONDARY_CLICK)},n.handleFolderSelected=function(e){n.setState({selectedPath:e})},n.handlePrimaryAction=function(){n.handlePrimaryButtonClick(),n.handleSuccess()},n.handleSecondaryAction=function(){n.handleSecondaryButtonClick(),n.handleCancel()},n.state={isOpen:!0,selectedPath:a.normalize(t.isCurrentPathReadOnly?a.parent_dir(t.path):t.path),folders:n.makeFoldersFromProps(t)},n}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.logger=new f.WebModalActivityLogger(s.ModalName.FOLDER_OVERVIEW_PIN_TO),this.logger.log(s.ModalEventName.SHOW)},Object.defineProperty(t.prototype,"title",{get:function(){return 1===this.props.files.length?l.PIN_TO_MODAL_TITLE_SINGLE.format({name:a.filename(this.props.files[0].fq_path)}):l.PIN_TO_MODAL_TITLE_MULTIPLE.format({num:this.props.files.length})},enumerable:!0,configurable:!0}),t.prototype.render=function(){return r.default.createElement(o.UtilityModal,{className:"folder-overview__pin-to-modal",onReady:this.handleReady,primaryAction:m._("Pin"),secondaryAction:m._("Cancel"),onPrimaryAction:this.handlePrimaryAction,onSecondaryAction:this.handleSecondaryAction,title:this.title,ariaLabel:this.title,open:this.state.isOpen,onRequestClose:this.handleRequestClose,appElement:document.getElementById("embedded-app"),shouldRequestCloseOnActions:!1,bodyId:"folder-overview-pin-to-modal",shouldFocusAfterRender:!0},r.default.createElement(i.FolderList,{folders:this.state.folders,onFolderSelected:this.handleFolderSelected,selectedPath:this.state.selectedPath}),r.default.createElement(u.UXAnalyticsModalTracking,{id:"folder-overview-pin-to"}))},t.show=function(e){c.Modal.showInstance(r.default.createElement(t,n.__assign({},e)))},t})(r.default.PureComponent);t.FolderOverviewPinToModal=g}),define("retrieval-components/folder-list",["require","exports","tslib","tslib","react","classnames","spectrum/media_table","spectrum/table","spectrum/icon_content","spectrum/icon_arrow","retrieval-components/truncated-string"],function(e,t,n,r,o,i,a,s,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importStar(r),o=n.__importDefault(o),i=n.__importDefault(i);var p=(function(e){function t(t){var n=e.call(this,t)||this;return n.handleSelect=function(e,t){n.props.onFolderSelected(e.path)},n.handleHover=function(e,t){n.setState({focusedPath:e.path})},n.state={},n}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.folders,i=t.selectedPath,a=(t.onFolderSelected,t.ref,t.contentOverride),l=t.header,c=r.__rest(t,["folders","selectedPath","onFolderSelected","ref","contentOverride","header"]);return o.default.createElement(s.Table,r.__assign({columnFlex:["1 1","0 0 64px"],"aria-rowcount":n.length,"aria-colcount":1},c),l,o.default.createElement(s.TableBody,{className:"rc-folder-list"},a||n.map(function(t,n){return o.default.createElement(d,{key:n,folder:t,index:n,onFolderSelect:e.handleSelect,onHover:e.handleHover,isSelected:t.path===i,isFocused:t.path===e.state.focusedPath,autoFocus:t.path===i})})))},t})(o.default.PureComponent);t.FolderList=p;var d=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onFolderSelect(t.props.folder,t.props.index)},t.handleMouseOver=function(){t.props.onHover(t.props.folder,t.props.index)},t.handleFocus=function(){t.props.onHover(t.props.folder,t.props.index)},t.handleKeyDown=function(e){switch(e.keyCode){case 13:t.props.onFolderSelect(t.props.folder,t.props.index)}},t}return r.__extends(t,e),Object.defineProperty(t.prototype,"rowProps",{get:function(){var e=this.props,t=e.folder,n=e.isSelected,o=e.isFocused,a=(e.index,e.onFolderSelect,e.onHover,r.__rest(e,["folder","isSelected","isFocused","index","onFolderSelect","onHover"])),s=r.__assign({},a,{className:i.default({"rc-folder-list__row":!0,"rc-folder-list__row--read-only":!t.isClickable,"rc-folder-list__row--focused":o,"rc-folder-list__row--selected":n}),variant:n?"selected":"default",role:"row",doubleLine:!!t.subtitle});return t.isClickable&&(s=r.__assign({},s,{onClick:this.handleClick,onMouseOver:this.handleMouseOver,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,tabIndex:0})),s},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.folder,t=this.rowProps,n=(t.ref,r.__rest(t,["ref"]));return o.default.createElement(a.MediaRow,r.__assign({},n),o.default.createElement(a.MediaCell,{key:e.path,icon:o.default.createElement(l.IconContent,{name:e.icon,disabled:!e.isClickable}),title:o.default.createElement(u.TruncatedString,{text:e.name,variant:u.TruncatedStringVariant.TRUNCATED_STRING_END}),subtitle:e.subtitle}),o.default.createElement(a.MediaCell,{key:"has_subdirs",icon:e.hasSubfolders&&e.isClickable?o.default.createElement(c.IconArrow,{name:"right"}):void 0}))},t})(o.default.PureComponent);t.FolderListRow=d}),define("retrieval-components/pinned-item",["require","exports","tslib","react","classnames","retrieval-components/thumbnail-icon","retrieval-components/truncated-string","spectrum/icon_content","spectrum/overflow_button","spectrum/popover"],function(e,t,n,r,o,i,a,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importDefault(r),o=n.__importDefault(o);var u=function(e){return"menuOptions"in e},p=function(e){return!!e.isFolder};t.PinnedItem=function(e){var t=function(t){t.preventDefault(),e.onClick()};return r.default.createElement("div",{className:o.default(["rc-pinned-item__wrapper",e.className])},r.default.createElement("a",{className:"rc-pinned-item",href:e.url,onClick:t,"data-fqpath":e.fqPath,"data-isdir":p(e),tabIndex:0},r.default.createElement("div",{className:"rc-pinned-item__file-icon"},p(e)?r.default.createElement("span",null,r.default.createElement(s.IconContent,{name:e.folderIcon})):r.default.createElement(i.ThumbnailIcon,{path:e.filename,variant:"large",thumbnailUrl:e.thumbnailUrl})),r.default.createElement("div",{className:"rc-pinned-item__info"},r.default.createElement(a.TruncatedString,{text:e.filename,className:"rc-pinned-item__name",variant:p(e)?a.TruncatedStringVariant.TRUNCATED_STRING_LAST_WORD:a.TruncatedStringVariant.TRUNCATED_STRING_FILE_EXTENSION}),r.default.createElement("span",{className:"rc-pinned-item__subtitle"},e.subtitle))),u(e)?r.default.createElement(c.Popover,{className:"rc-pinned-item__menu-button",onSelection:e.onMenuOptionClick},r.default.createElement(c.PopoverTrigger,null,r.default.createElement(l.OverflowButton,{tagName:"span","aria-label":e.menuLabel,size:"small"})),r.default.createElement(c.PopoverContent,{attachment:"left"},e.menuOptions.map(function(e){var t=e.key,n=e.label,o=e.isDisabled;return r.default.createElement(c.PopoverContentItem,{key:t,value:t,disabled:o},n)}))):null)}}),define("retrieval-components/thumbnail-icon",["require","exports","tslib","tslib","react","spectrum/file_icon"],function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importStar(r),o=n.__importDefault(o);var a=(function(e){function t(t){var n=e.call(this,t)||this;return n.addEventListeners=function(){n.thumbnail&&(n.removeEventListeners(),n.thumbnail.addEventListener("load",n.handleImageLoaded),n.thumbnail.addEventListener("error",n.handleImageError))},n.removeEventListeners=function(){n.thumbnail&&(n.thumbnail.removeEventListener("load",n.handleImageLoaded),n.thumbnail.removeEventListener("error",n.handleImageError))},n.handleImageLoaded=function(){n.setState({thumbnailLoadingState:"loaded"}),n.removeEventListeners()},n.handleImageError=function(){n.setState({thumbnailLoadingState:"error"})},n.setThumnailRef=function(e){n.thumbnail=e,n.addEventListeners()},n.className=function(){return["rc-thumbnail-icon","rc-thumbnail-icon--"+(n.props.variant||"small"),n.props.className].join(" ")},n.state={thumbnailLoadingState:n.props.thumbnailUrl?"loading":"loaded"},n}return r.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){this.props.thumbnailUrl!==e.thumbnailUrl&&(this.removeEventListeners(),this.setState({thumbnailLoadingState:e.thumbnailUrl?"loading":"loaded"}),e.thumbnailUrl&&this.addEventListeners())},t.prototype.componentWillUnmount=function(){this.removeEventListeners()},t.prototype.render=function(){return o.default.createElement("div",{className:this.className()},"loading"===this.state.thumbnailLoadingState?o.default.createElement("img",{key:"loader",src:this.props.thumbnailUrl,ref:this.setThumnailRef,className:"rc-thumbnail-icon__loader","aria-hidden":!0}):null,this.props.thumbnailUrl&&"loaded"===this.state.thumbnailLoadingState?o.default.createElement("img",{src:this.props.thumbnailUrl}):null,this.props.thumbnailUrl&&"loaded"===this.state.thumbnailLoadingState?null:o.default.createElement(i.FileIcon,{key:"thumbnail",path:this.props.path,variant:this.props.variant,className:"rc-thumbnail-icon__file-icon"}))},t})(o.default.PureComponent);t.ThumbnailIcon=a}),define("retrieval-components/truncated-string",["require","exports","tslib","tslib","react","classnames","spectrum/tooltip","spectrum/dimensions"],function(e,t,n,r,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importStar(r),o=n.__importDefault(o),i=n.__importDefault(i);var l;(function(e){e.TRUNCATED_STRING_END="TRUNCATED_STRING_END",e.TRUNCATED_STRING_START="TRUNCATED_STRING_START",e.TRUNCATED_STRING_MIDDLE="TRUNCATED_STRING_MIDDLE",e.TRUNCATED_STRING_LAST_WORD="TRUNCATED_STRING_LAST_WORD",e.TRUNCATED_STRING_FILE_EXTENSION="TRUNCATED_STRING_FILE_EXTENSION"})(t.TruncatedStringVariant||(t.TruncatedStringVariant={})),t.TruncatedStringVariantClass=(l={},l[t.TruncatedStringVariant.TRUNCATED_STRING_END]="rc-truncated-string--end",l[t.TruncatedStringVariant.TRUNCATED_STRING_START]="rc-truncated-string--start",l[t.TruncatedStringVariant.TRUNCATED_STRING_MIDDLE]="rc-truncated-string--middle",l[t.TruncatedStringVariant.TRUNCATED_STRING_LAST_WORD]="rc-truncated-string--last-word",l[t.TruncatedStringVariant.TRUNCATED_STRING_FILE_EXTENSION]="rc-truncated-string--file-extension",l);var c=(function(e){function n(n){var r=e.call(this,n)||this;return r.setCalculator=function(e){r.calculator=e},r.setWrapper=function(e){r.wrapper=e},r.updateTooltip=function(){if(r.calculator&&r.wrapper){var e=r.calculator.getBoundingClientRect().width,t=r.wrapper.getBoundingClientRect().width;r.setState({showTooltip:e>t})}},r.debouncedUpdateTooltip=function(){"clearTimeout"in window&&"setTimeout"in window&&(clearTimeout(r.updateTooltipTimeout),r.updateTooltipTimeout=setTimeout(function(){return r.updateTooltip()},50))},r.calculatePiecesFromProps=function(e){void 0===e&&(e=r.props);var n=e.text;switch(e.variant){case t.TruncatedStringVariant.TRUNCATED_STRING_END:case t.TruncatedStringVariant.TRUNCATED_STRING_START:default:return[n];case t.TruncatedStringVariant.TRUNCATED_STRING_MIDDLE:var o=Math.floor(2*n.length/3),i=n.indexOf(" ",o);return[n.substr(0,i),n.substr(i)];case t.TruncatedStringVariant.TRUNCATED_STRING_LAST_WORD:var a=n.trim().split(" "),s=a.pop();return[a.join(" "),s].filter(function(e){return!!e});case t.TruncatedStringVariant.TRUNCATED_STRING_FILE_EXTENSION:var a=n.trim().split(".");if(a.length<=1)return[n];var s=a.pop();return[a.join("."),"."+s]}},r.state={pieces:r.calculatePiecesFromProps(n),showTooltip:!1},r}return r.__extends(n,e),n.prototype.componentDidMount=function(){this.updateTooltip()},n.prototype.componentWillReceiveProps=function(e){this.setState({pieces:this.calculatePiecesFromProps(e),showTooltip:!1})},n.prototype.componentDidUpdate=function(){},n.prototype.render=function(){var e=this,n=this.props,r=n.className,l=n.variant,c=n.text,u=this.state,p=u.pieces,d=u.showTooltip;return o.default.createElement(a.Tooltip,{positioning:"below",tooltipContent:c,showOnMouseMove:d,wrapperClassName:"rc-truncated-string__tooltip"},o.default.createElement(s.Dimensions,null,function(n){n.width;return e.debouncedUpdateTooltip(),o.default.createElement("span",{className:i.default(["rc-truncated-string",r,t.TruncatedStringVariantClass[l]]),ref:e.setWrapper},o.default.createElement("span",{className:"rc-truncated-string__calculator","aria-hidden":!0,ref:e.setCalculator},c),p.map(function(e,t){return o.default.createElement("span",{key:t,className:i.default({
"rc-truncated-string__piece":!0,"rc-truncated-string__piece--last-piece":0!==t&&t===p.length-1})},e)}))}))},n})(o.default.PureComponent);t.TruncatedString=c}),(function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("immutable"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define("draft-js",["immutable","react","react-dom"],t):"object"==typeof exports?exports.Draft=t(require("immutable"),require("react"),require("react-dom")):e.Draft=t(e.Immutable,e.React,e.ReactDOM)})(this,function(e,t,n){return(function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)})([function(e,t,n){"use strict";var r=n(64),o=n(17),i=n(5),a=n(65),s=n(12),l=n(25),c=n(26),u=n(39),p=n(67),d=n(40),f=n(22),m=n(4),g=n(41),h=n(3),v=n(27),y=n(44),_=n(15),b=n(86),S=n(45),C=n(87),w=n(10),E=n(46),T=n(110),k={Editor:p,EditorBlock:d,EditorState:h,CompositeDecorator:a,Entity:f,EntityInstance:g,BlockMapBuilder:o,CharacterMetadata:i,ContentBlock:s,ContentState:l,SelectionState:_,AtomicBlockUtils:r,KeyBindingUtil:v,Modifier:m,RichUtils:y,DefaultDraftBlockRenderMap:c,DefaultDraftInlineStyle:u,convertFromHTML:S,convertFromRaw:C,convertToRaw:b,genKey:w,getDefaultKeyBinding:E,getVisibleSelectionRect:T};e.exports=k},function(e,t,n){"use strict";function r(e,t,n,r,i,a,s,l){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,a,s,l],p=0;c=new Error(t.replace(/%s/g,function(){return u[p++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(e){};o=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")},e.exports=r},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){return E.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function i(e,t){return e.getBlockMap().map(function(n){return m.generate(e,n,t)}).toOrderedMap()}function a(e,t,n,r){var o=e.getCurrentContent().set("entityMap",n),i=o.getBlockMap();return e.getImmutable().get("treeMap").merge(t.toSeq().filter(function(e,t){return e!==i.get(t)}).map(function(e){return m.generate(o,e,r)}))}function s(e,t,n,r,o){return n.merge(t.toSeq().filter(function(t){return r.getDecorations(t,e)!==o.getDecorations(t,e)}).map(function(t){return m.generate(e,t,r)}))}function l(e,t){return t!==e.getLastChangeType()||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}function c(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);return r>0?o.getInlineStyleAt(r-1):o.getLength()?o.getInlineStyleAt(0):p(e,n)}function u(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);return r<o.getLength()?o.getInlineStyleAt(r):r>0?o.getInlineStyleAt(r-1):p(e,n)}function p(e,t){var n=e.getBlockMap().reverse().skipUntil(function(e,n){return n===t}).skip(1).skipUntil(function(e,t){return e.getLength()}).first();return n?n.getInlineStyleAt(n.getLength()-1):_()}var d=n(7),f=d||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=n(38),g=n(25),h=n(81),v=n(2),y=n(15),_=v.OrderedSet,b=v.Record,S=v.Stack,C={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:S(),selection:null,treeMap:null,undoStack:S()},w=b(C),E=(function(){function e(t){r(this,e),this._immutable=t}return e.createEmpty=function(t){return e.createWithContent(g.createFromText(""),t)},e.createWithContent=function(t,n){var r=t.getBlockMap().first().getKey();return e.create({currentContent:t,undoStack:S(),redoStack:S(),decorator:n||null,selection:y.createEmpty(r)})},e.create=function(t){var n=t.currentContent;return new e(new w(f({},t,{treeMap:i(n,t.decorator),directionMap:h.getDirectionMap(n)})))},e.set=function(t,n){return new e(t.getImmutable().withMutations(function(e){var r=e.get("decorator"),o=r;null===n.decorator?o=null:n.decorator&&(o=n.decorator);var l=n.currentContent||t.getCurrentContent();if(o!==r){var c,u=e.get("treeMap");return c=o&&r?s(l,l.getBlockMap(),u,o,r):i(l,o),void e.merge({decorator:o,treeMap:c,nativelyRenderedContent:null})}l!==t.getCurrentContent()&&e.set("treeMap",a(t,l.getBlockMap(),l.getEntityMap(),o)),e.merge(n)}))},e.prototype.toJS=function(){return this.getImmutable().toJS()},e.prototype.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.prototype.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.prototype.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.prototype.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.prototype.getSelection=function(){return this.getImmutable().get("selection")},e.prototype.getDecorator=function(){return this.getImmutable().get("decorator")},e.prototype.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.prototype.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.prototype.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.prototype.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},e.setInlineStyleOverride=function(t,n){return e.set(t,{inlineStyleOverride:n})},e.prototype.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?c(t,n):u(t,n)},e.prototype.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.prototype.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.prototype.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent(),t=e.getBlockMap(),n=t.last(),r=n.getLength();return this.getSelection().hasEdgeWithin(n.getKey(),r,r)},e.prototype.getDirectionMap=function(){return this.getImmutable().get("directionMap")},e.acceptSelection=function(e,t){return o(e,t,!1)},e.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),o(e,t,!0)},e.moveSelectionToEnd=function(t){var n=t.getCurrentContent(),r=n.getLastBlock(),o=r.getKey(),i=r.getLength();return e.acceptSelection(t,new y({anchorKey:o,anchorOffset:i,focusKey:o,focusOffset:i,isBackward:!1}))},e.moveFocusToEnd=function(t){var n=e.moveSelectionToEnd(t);return e.forceSelection(n,n.getSelection())},e.push=function(t,n,r){if(t.getCurrentContent()===n)return t;var o="insert-characters"!==r,i=h.getDirectionMap(n,t.getDirectionMap());if(!t.getAllowUndo())return e.set(t,{currentContent:n,directionMap:i,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:null});var a=t.getSelection(),s=t.getCurrentContent(),c=t.getUndoStack(),u=n;a!==s.getSelectionAfter()||l(t,r)?(c=c.push(s),u=u.set("selectionBefore",a)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(u=u.set("selectionBefore",s.getSelectionBefore()));var p=t.getInlineStyleOverride();["adjust-depth","change-block-type","split-block"].indexOf(r)===-1&&(p=null);var d={currentContent:u,directionMap:i,undoStack:c,redoStack:S(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:p};return e.set(t,d)},e.undo=function(t){if(!t.getAllowUndo())return t;var n=t.getUndoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),i=h.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:i,undoStack:n.shift(),redoStack:t.getRedoStack().push(o),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:o.getSelectionBefore()})},e.redo=function(t){if(!t.getAllowUndo())return t;var n=t.getRedoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),i=h.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:i,undoStack:t.getUndoStack().push(o),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},e.prototype.getImmutable=function(){return this._immutable},e})();e.exports=E},function(e,t,n){"use strict";var r=n(5),o=n(66),i=n(11),a=n(2),s=n(85),l=n(106),c=n(24),u=n(111),p=n(112),d=n(1),f=n(123),m=n(59),g=n(125),h=n(127),v=a.OrderedSet,y={replaceText:function(e,t,n,o,i){var a=m(e,t),s=g(a,t),l=r.create({style:o||v(),entity:i||null});return p(s,s.getSelectionAfter(),n,l)},insertText:function(e,t,n,r,o){return t.isCollapsed()||d(!1,"Target range must be collapsed for `insertText`."),y.replaceText(e,t,n,r,o)},moveText:function(e,t,n){var r=c(e,t),o=y.removeRange(e,t,"backward");return y.replaceWithFragment(o,n,r)},replaceWithFragment:function(e,t,n){var r=m(e,t),o=g(r,t);return u(o,o.getSelectionAfter(),n)},removeRange:function(e,t,n){var r=void 0,o=void 0,a=void 0,s=void 0;t.getIsBackward()&&(t=t.merge({anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:!1})),r=t.getAnchorKey(),o=t.getFocusKey(),a=e.getBlockForKey(r),s=e.getBlockForKey(o);var c=t.getStartOffset(),u=t.getEndOffset(),p=a.getEntityAt(c),d=s.getEntityAt(u-1);if(r===o&&p&&p===d){return g(e,l(e.getEntityMap(),a,s,t,n))}var f=t;return i.draft_segmented_entities_behavior&&(f=l(e.getEntityMap(),a,s,t,n)),g(m(e,f),f)},splitBlock:function(e,t){var n=m(e,t),r=g(n,t);return h(r,r.getSelectionAfter())},applyInlineStyle:function(e,t,n){return o.add(e,t,n)},removeInlineStyle:function(e,t,n){return o.remove(e,t,n)},setBlockType:function(e,t,n){return f(e,t,function(e){return e.merge({type:n,depth:0})})},setBlockData:function(e,t,n){return f(e,t,function(e){return e.merge({data:n})})},mergeBlockData:function(e,t,n){return f(e,t,function(e){return e.merge({data:e.getData().merge(n)})})},applyEntity:function(e,t,n){return s(m(e,t),t,n)}};e.exports=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(2),s=a.Map,l=a.OrderedSet,c=a.Record,u=l(),p={style:u,entity:null},d=c(p),f=(function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.getStyle=function(){return this.get("style")},t.prototype.getEntity=function(){return this.get("entity")},t.prototype.hasStyle=function(e){return this.getStyle().includes(e)},t.applyStyle=function(e,n){var r=e.set("style",e.getStyle().add(n));return t.create(r)},t.removeStyle=function(e,n){var r=e.set("style",e.getStyle().remove(n));return t.create(r)},t.applyEntity=function(e,n){var r=e.getEntity()===n?e:e.set("entity",n);return t.create(r)},t.create=function(e){if(!e)return m;var n={style:u,entity:null},r=s(n).merge(e),o=g.get(r);if(o)return o;var i=new t(r);return g=g.set(r,i),i},t})(d),m=new f,g=s([[s(p),m]]);f.EMPTY=m,e.exports=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(5),s=n(2),l=n(18),c=s.List,u=s.Map,p=s.OrderedSet,d=s.Record,f=s.Repeat,m=p(),g={parent:null,characterList:c(),data:u(),depth:0,key:"",text:"",type:"unstyled",children:c(),prevSibling:null,nextSibling:null},h=function(e,t){return e.getStyle()===t.getStyle()},v=function(e,t){return e.getEntity()===t.getEntity()},y=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=c(f(a.EMPTY,n.length))),e},_=(function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return r(this,t),o(this,e.call(this,y(n)))}return i(t,e),t.prototype.getKey=function(){return this.get("key")},t.prototype.getType=function(){return this.get("type")},t.prototype.getText=function(){return this.get("text")},t.prototype.getCharacterList=function(){return this.get("characterList")},t.prototype.getLength=function(){return this.getText().length},t.prototype.getDepth=function(){return this.get("depth")},t.prototype.getData=function(){return this.get("data")},t.prototype.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():m},t.prototype.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},t.prototype.getChildKeys=function(){return this.get("children")},t.prototype.getParentKey=function(){return this.get("parent")},t.prototype.getPrevSiblingKey=function(){return this.get("prevSibling")},t.prototype.getNextSiblingKey=function(){return this.get("nextSibling")},t.prototype.findStyleRanges=function(e,t){l(this.getCharacterList(),h,e,t)},t.prototype.findEntityRanges=function(e,t){l(this.getCharacterList(),v,e,t)},t})(d(g));e.exports=_},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,s,l=n(e),c=1;c<arguments.length;c++){r=Object(arguments[c]);for(var u in r)i.call(r,u)&&(l[u]=r[u]);if(o){s=o(r);for(var p=0;p<s.length;p++)a.call(r,s[p])&&(l[s[p]]=r[s[p]])}}return l}},function(e,t){"use strict";var n=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")};e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r){if(e===n)return!0;if(!n.startsWith(e))return!1;var o=n.slice(e.length);return!!t&&(o=r?r(o):o,a.contains(o,t))}function o(e){return"Windows"===i.platformName?e.replace(/^\s*NT/,""):e}var i=n(133),a=n(134),s=n(147),l=n(148),c={isBrowser:function(e){return r(i.browserName,i.browserFullVersion,e)},isBrowserArchitecture:function(e){return r(i.browserArchitecture,null,e)},isDevice:function(e){return r(i.deviceName,null,e)},isEngine:function(e){return r(i.engineName,i.engineVersion,e)},isPlatform:function(e){return r(i.platformName,i.platformFullVersion,e,o)},isPlatformArchitecture:function(e){return r(i.platformArchitecture,null,e)}};e.exports=s(c,l)},function(e,t){"use strict";function n(){for(var e=void 0;void 0===e||r.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*o).toString(32);return r[e]=!0,e}var r={},o=Math.pow(2,24);e.exports=n},function(e,t,n){"use strict";var r=n(77);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){return e.getStyle()===t.getStyle()}function s(e,t){return e.getEntity()===t.getEntity()}var l=n(5),c=n(2),u=n(18),p=c.List,d=c.Map,f=c.OrderedSet,m=c.Record,g=c.Repeat,h=f(),v={key:"",type:"unstyled",text:"",characterList:p(),depth:0,data:d()},y=m(v),_=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=p(g(l.EMPTY,n.length))),e},b=(function(e){function t(n){return r(this,t),o(this,e.call(this,_(n)))}return i(t,e),t.prototype.getKey=function(){return this.get("key")},t.prototype.getType=function(){return this.get("type")},t.prototype.getText=function(){return this.get("text")},t.prototype.getCharacterList=function(){return this.get("characterList")},t.prototype.getLength=function(){return this.getText().length},t.prototype.getDepth=function(){return this.get("depth")},t.prototype.getData=function(){return this.get("data")},t.prototype.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():h},t.prototype.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},t.prototype.findStyleRanges=function(e,t){u(this.getCharacterList(),a,e,t)},t.prototype.findEntityRanges=function(e,t){u(this.getCharacterList(),s,e,t)},t})(y);e.exports=b},function(e,t,n){"use strict";function r(e){return 55296<=e&&e<=57343}function o(e,t){if(0<=t&&t<e.length||p(!1,"isSurrogatePair: Invalid index %s for string length %s.",t,e.length),t+1===e.length)return!1;var n=e.charCodeAt(t),r=e.charCodeAt(t+1);return 55296<=n&&n<=56319&&56320<=r&&r<=57343}function i(e){return d.test(e)}function a(e,t){return 1+r(e.charCodeAt(t))}function s(e){if(!i(e))return e.length;for(var t=0,n=0;n<e.length;n+=a(e,n))t++;return t}function l(e,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!i(e))return e.substr(t,n);var r=e.length;if(r<=0||t>r||n<=0)return"";var o=0;if(t>0){for(;t>0&&o<r;t--)o+=a(e,o);if(o>=r)return""}else if(t<0){for(o=r;t<0&&0<o;t++)o-=a(e,o-1);o<0&&(o=0)}var s=r;if(n<r)for(s=o;n>0&&s<r;n--)s+=a(e,s);return e.substring(o,s)}function c(e,t,n){t=t||0,n=void 0===n?1/0:n||0,t<0&&(t=0),n<0&&(n=0);var r=Math.abs(n-t);return t=t<n?t:n,l(e,t,r)}function u(e){for(var t=[],n=0;n<e.length;n+=a(e,n))t.push(e.codePointAt(n));return t}var p=n(1),d=/[\uD800-\uDFFF]/,f={getCodePoints:u,getUTF16Length:a,hasSurrogateUnit:i,isCodeUnitInSurrogateRange:r,isSurrogatePair:o,strlen:s,substring:c,substr:l};e.exports=f},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(2),s=a.Record,l={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1},c=s(l),u=(function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},t.prototype.getAnchorKey=function(){return this.get("anchorKey")},t.prototype.getAnchorOffset=function(){return this.get("anchorOffset")},t.prototype.getFocusKey=function(){return this.get("focusKey")},t.prototype.getFocusOffset=function(){return this.get("focusOffset")},t.prototype.getIsBackward=function(){return this.get("isBackward")},t.prototype.getHasFocus=function(){return this.get("hasFocus")},t.prototype.hasEdgeWithin=function(e,t,n){var r=this.getAnchorKey(),o=this.getFocusKey();if(r===o&&r===e){var i=this.getStartOffset();return t<=this.getEndOffset()&&i<=n}if(e!==r&&e!==o)return!1;var a=e===r?this.getAnchorOffset():this.getFocusOffset();return t<=a&&n>=a},t.prototype.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},t.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},t.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},t.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},t.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},t.createEmpty=function(e){return new t({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},t})(c);e.exports=u},function(e,t){"use strict";function n(e){return"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}).map(r).join(" "):Array.prototype.map.call(arguments,r).join(" ")}function r(e){return e.replace(/\//g,"-")}e.exports=n},function(e,t,n){"use strict";var r=n(2),o=r.OrderedMap,i={createFromArray:function(e){return o(e.map(function(e){return[e.getKey(),e]}))}};e.exports=i},function(e,t){"use strict";function n(e,t,n,r){if(e.size){var o=0;e.reduce(function(e,i,a){return t(e,i)||(n(e)&&r(o,a),o=a),i}),n(e.last())&&r(o,e.count())}}e.exports=n},function(e,t){"use strict";function n(e){return"handled"===e||e===!0}e.exports=n},function(e,t,n){"use strict";function r(e,t,n){var r=e.getSelection(),i=e.getCurrentContent(),a=r;if(r.isCollapsed()){if("forward"===n){if(e.isSelectionAtEndOfContent())return i}else if(e.isSelectionAtStartOfContent())return i;if(a=t(e),a===r)return i}return o.removeRange(i,a,n)}var o=n(4);e.exports=r},function(e,t){e.exports=n},function(e,t,n){"use strict";function r(e,t){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+t+'" instead.')}var o=n(7),i=o||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(41),s=n(2),l=n(1),c=s.Map,u=c(),p=0,d={getLastCreatedEntityKey:function(){return r("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),d.__getLastCreatedEntityKey()},create:function(e,t,n){return r("DraftEntity.create","contentState.createEntity"),d.__create(e,t,n)},add:function(e){return r("DraftEntity.add","contentState.addEntity"),d.__add(e)},get:function(e){return r("DraftEntity.get","contentState.getEntity"),d.__get(e)},mergeData:function(e,t){return r("DraftEntity.mergeData","contentState.mergeEntityData"),d.__mergeData(e,t)},replaceData:function(e,t){return r("DraftEntity.replaceData","contentState.replaceEntityData"),d.__replaceData(e,t)},__getLastCreatedEntityKey:function(){return""+p},__create:function(e,t,n){return d.__add(new a({type:e,mutability:t,data:n||{}}))},__add:function(e){var t=""+ ++p;return u=u.set(t,e),t},__get:function(e){var t=u.get(e);return t||l(!1,"Unknown DraftEntity key: %s.",e),t},__mergeData:function(e,t){var n=d.__get(e),r=i({},n.getData(),t),o=n.set("data",r);return u=u.set(e,o),o},__replaceData:function(e,t){var n=d.__get(e),r=n.set("data",t);return u=u.set(e,r),r}};e.exports=d},function(e,t){"use strict";var n={encode:function(e,t,n){return e+"-"+t+"-"+n},decode:function(e){var t=e.split("-"),n=t[0],r=t[1],o=t[2];return{blockKey:n,decoratorKey:parseInt(r,10),leafKey:parseInt(o,10)}}};e.exports=n},function(e,t,n){"use strict";var r=n(58),o=n(59),i=function(e,t){var n=t.getStartKey(),i=t.getStartOffset(),a=t.getEndKey(),s=t.getEndOffset(),l=o(e,t),c=l.getBlockMap(),u=c.keySeq(),p=u.indexOf(n),d=u.indexOf(a)+1;return r(c.slice(p,d).map(function(e,t){var r=e.getText(),o=e.getCharacterList();return n===a?e.merge({text:r.slice(i,s),characterList:o.slice(i,s)}):t===n?e.merge({text:r.slice(i),characterList:o.slice(i)}):t===a?e.merge({text:r.slice(0,s),characterList:o.slice(0,s)}):e}))};e.exports=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(17),s=n(5),l=n(12),c=n(6),u=n(22),p=n(11),d=n(2),f=n(15),m=n(10),g=n(31),h=d.List,v=d.Record,y=d.Repeat,_=p.draft_tree_data_support,b={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null},S=_?c:l,C=v(b),w=(function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.getEntityMap=function(){return u},t.prototype.getBlockMap=function(){return this.get("blockMap")},t.prototype.getSelectionBefore=function(){return this.get("selectionBefore")},t.prototype.getSelectionAfter=function(){return this.get("selectionAfter")},t.prototype.getBlockForKey=function(e){return this.getBlockMap().get(e)},t.prototype.getKeyBefore=function(e){return this.getBlockMap().reverse().keySeq().skipUntil(function(t){return t===e}).skip(1).first()},t.prototype.getKeyAfter=function(e){return this.getBlockMap().keySeq().skipUntil(function(t){return t===e}).skip(1).first()},t.prototype.getBlockAfter=function(e){return this.getBlockMap().skipUntil(function(t,n){return n===e}).skip(1).first()},t.prototype.getBlockBefore=function(e){return this.getBlockMap().reverse().skipUntil(function(t,n){return n===e}).skip(1).first()},t.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray()},t.prototype.getFirstBlock=function(){return this.getBlockMap().first()},t.prototype.getLastBlock=function(){return this.getBlockMap().last()},t.prototype.getPlainText=function(e){return this.getBlockMap().map(function(e){return e?e.getText():""}).join(e||"\n")},t.prototype.getLastCreatedEntityKey=function(){return u.__getLastCreatedEntityKey()},t.prototype.hasText=function(){var e=this.getBlockMap();return e.size>1||e.first().getLength()>0},t.prototype.createEntity=function(e,t,n){return u.__create(e,t,n),this},t.prototype.mergeEntityData=function(e,t){return u.__mergeData(e,t),this},t.prototype.replaceEntityData=function(e,t){return u.__replaceData(e,t),this},t.prototype.addEntity=function(e){return u.__add(e),this},t.prototype.getEntity=function(e){return u.__get(e)},t.createFromBlockArray=function(e,n){var r=Array.isArray(e)?e:e.contentBlocks,o=a.createFromArray(r),i=o.isEmpty()?new f:f.createEmpty(o.first().getKey());return new t({blockMap:o,entityMap:n||u,selectionBefore:i,selectionAfter:i})},t.createFromText=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,r=e.split(n),o=r.map(function(e){return e=g(e),new S({key:m(),text:e,type:"unstyled",characterList:h(y(s.EMPTY,e.length))})});return t.createFromBlockArray(o)},t})(C);e.exports=w},function(e,t,n){"use strict";var r=n(2),o=r.Map,i=n(14),a=n(16),s=i.createElement("ul",{className:a("public/DraftStyleDefault/ul")}),l=i.createElement("ol",{className:a("public/DraftStyleDefault/ol")}),c=i.createElement("pre",{className:a("public/DraftStyleDefault/pre")}),u=o({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:s},"ordered-list-item":{element:"li",wrapper:l},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:c},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=u},function(e,t,n){"use strict";var r=n(9),o=r.isPlatform("Mac OS X"),i={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return o&&e.altKey},hasCommandModifier:function(e){return o?!!e.metaKey&&!e.altKey:i.isCtrlKeyCommand(e)}};e.exports=i},function(e,t,n){"use strict";function r(e){for(var t=e;t&&t!==document.documentElement;){var n=o(t);if(null!=n)return n;t=t.parentNode}return null}var o=n(52);e.exports=r},function(e,t){"use strict";function n(e,t){var n;if(t.isCollapsed()){var o=t.getAnchorKey(),i=t.getAnchorOffset();return i>0?(n=e.getBlockForKey(o).getEntityAt(i-1),n!==e.getBlockForKey(o).getEntityAt(i)?null:r(e.getEntityMap(),n)):null}var a=t.getStartKey(),s=t.getStartOffset(),l=e.getBlockForKey(a);return n=s===l.getLength()?null:l.getEntityAt(s),r(e.getEntityMap(),n)}function r(e,t){if(t){return"MUTABLE"===e.__get(t).getMutability()?t:null}return null}e.exports=n},function(e,t){"use strict";function n(e,t){var n=e.getSelection(),r=e.getCurrentContent(),o=n.getStartKey(),i=n.getStartOffset(),a=o,s=0;if(t>i){var l=r.getKeyBefore(o);if(null==l)a=o;else{a=l;s=r.getBlockForKey(l).getText().length}}else s=i-t;return n.merge({focusKey:a,focusOffset:s,isBackward:!0})}e.exports=n},function(e,t){"use strict";function n(e){return e.replace(r,"")}var r=new RegExp("\r","g");e.exports=n},function(e,t){"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},function(e,t,n){"use strict";function r(e,t){var n=i.get(e,t);return"auto"===n||"scroll"===n}var o=n(140),i={get:o,getScrollParent:function(e){if(!e)return null;for(var t=e.ownerDocument;e&&e!==t.body;){if(r(e,"overflow")||r(e,"overflowY")||r(e,"overflowX"))return e;e=e.parentNode}return t.defaultView||t.parentWindow}};e.exports=i},function(e,t,n){"use strict";function r(e){return"LTR"===e||"RTL"===e}function o(e){return r(e)||c(!1,"`dir` must be a strong direction to be converted to HTML Direction"),"LTR"===e?"ltr":"rtl"}function i(e,t){return r(e)||c(!1,"`dir` must be a strong direction to be converted to HTML Direction"),r(t)||c(!1,"`otherDir` must be a strong direction to be converted to HTML Direction"),e===t?null:o(e)}function a(e){u=e}function s(){a("LTR")}function l(){return u||this.initGlobalDir(),u||c(!1,"Global direction not set."),u}var c=n(1),u=null,p={NEUTRAL:"NEUTRAL",LTR:"LTR",RTL:"RTL",isStrong:r,getHTMLDir:o,getHTMLDirIfDifferent:i,setGlobalDir:a,initGlobalDir:s,getGlobalDir:l};e.exports=p},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!o(e)&&(o(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var o=n(145);e.exports=r},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";function r(e){var t=o(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var n=i(e),r=e===t?e.ownerDocument.documentElement:e,a=e.scrollWidth-r.clientWidth,s=e.scrollHeight-r.clientHeight
;return n.x=Math.max(0,Math.min(n.x,a)),n.y=Math.max(0,Math.min(n.y,s)),n}var o=n(137),i=n(141);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=[];return s(e.map(function(e){return e.getStyle()}).toList(),o,p,function(e,r){n.push(new f({start:e+t,end:r+t}))}),l(n)}function o(e,t){return e===t}var i=n(2),a=n(36),s=n(18),l=i.List,c=i.Repeat,u=i.Record,p=a.thatReturnsTrue,d={start:null,end:null},f=u(d),m={start:null,end:null,decoratorKey:null,leaves:null},g=u(m),h={generate:function(e,t,n){var i=t.getLength();if(!i)return l.of(new g({start:0,end:0,decoratorKey:null,leaves:l.of(new f({start:0,end:0}))}));var a=[],u=n?n.getDecorations(t,e):l(c(null,i)),d=t.getCharacterList();return s(u,o,p,function(e,t){a.push(new g({start:e,end:t,decoratorKey:u.get(e),leaves:r(d.slice(e,t).toList(),e)}))}),l(a)},getFingerprint:function(e){return e.map(function(e){var t=e.get("decoratorKey");return(null!==t?t+"."+(e.get("end")-e.get("start")):"")+"."+e.get("leaves").size}).join("-")}};e.exports=h},function(e,t){"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),s=a||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(73),c=n(23),u=n(14),p=n(21),d=n(61),f=n(33),m=n(62),g=n(34),h=n(16),v=n(138),y=n(37),_=n(142),b=n(1),S=n(8),C=function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t},w=(function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||C(e.selection,e.block.getKey())&&e.forceSelection},t.prototype.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=p.findDOMNode(this),r=f.getScrollParent(n),o=y(r),i=void 0;if(r===window){var a=v(n);i=a.y+a.height-_().height,i>0&&window.scrollTo(o.x,o.y+i+10)}else{n instanceof HTMLElement||b(!1,"blockNode is not an HTMLElement");i=n.offsetHeight+n.offsetTop-(r.offsetHeight+o.y),i>0&&d.setTop(r,d.getTop(r)+i+10)}}},t.prototype._renderChildren=function(){var e=this,t=this.props.block,n=t.getKey(),r=t.getText(),o=this.props.tree.size-1,i=C(this.props.selection,n);return this.props.tree.map(function(a,p){var d=a.get("leaves"),f=d.size-1,h=d.map(function(a,s){var d=c.encode(n,p,s),m=a.get("start"),g=a.get("end");return u.createElement(l,{key:d,offsetKey:d,block:t,start:m,selection:i?e.props.selection:null,forceSelection:e.props.forceSelection,text:r.slice(m,g),styleSet:t.getInlineStyleAt(m),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:p===o&&s===f})}).toArray(),v=a.get("decoratorKey");if(null==v)return h;if(!e.props.decorator)return h;var y=S(e.props.decorator),_=y.getComponentForKey(v);if(!_)return h;var b=y.getPropsForKey(v),C=c.encode(n,p,0),w=r.slice(d.first().get("start"),d.last().get("end")),E=g.getHTMLDirIfDifferent(m.getDirection(w),e.props.direction);return u.createElement(_,s({},b,{contentState:e.props.contentState,decoratedText:w,dir:E,key:C,entityKey:t.getEntityAt(a.get("start")),offsetKey:C}),h)}).toArray()},t.prototype.render=function(){var e=this.props,t=e.direction,n=e.offsetKey,r=h({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===t,"public/DraftStyleDefault/rtl":"RTL"===t});return u.createElement("div",{"data-offset-key":n,className:r},this._renderChildren())},t})(u.Component);e.exports=w},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(2),s=a.Record,l=s({type:"TOKEN",mutability:"IMMUTABLE",data:Object}),c=(function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.getType=function(){return this.get("type")},t.prototype.getMutability=function(){return this.get("mutability")},t.prototype.getData=function(){return this.get("data")},t})(l);e.exports=c},function(e,t,n){"use strict";function r(e,t){var n=t?u.exec(e):l.exec(e);return n?n[0]:e}var o=n(130),i=o.getPunctuation(),a="\\s|(?![_])"+i,s="^(?:"+a+")*(?:[']|(?!"+a+").)*(?:(?!"+a+").)",l=new RegExp(s),c="(?:(?!"+a+").)(?:[']|(?!"+a+").)*(?:"+a+")*$",u=new RegExp(c),p={getBackward:function(e){return r(e,!0)},getForward:function(e){return r(e,!1)}};e.exports=p},function(e,t){"use strict";var n={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}};e.exports=n},function(e,t,n){"use strict";var r=n(4),o=n(3),i=(n(15),n(83)),a=n(8),s={currentBlockContainsLink:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some(function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()})},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t){switch(t){case"bold":return s.toggleInlineStyle(e,"BOLD");case"italic":return s.toggleInlineStyle(e,"ITALIC");case"underline":return s.toggleInlineStyle(e,"UNDERLINE");case"code":return s.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return s.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return s.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=o.push(e,t,"insert-characters");return o.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),i=n.getBlockBefore(r);if(i&&"atomic"===i.getType()){var a=n.getBlockMap().delete(i.getKey()),l=n.merge({blockMap:a,selectionAfter:t});if(l!==n)return o.push(e,l,"remove-range")}var c=s.tryToRemoveBlockStyle(e);return c?o.push(e,c,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),i=t.getStartKey(),a=n.getBlockForKey(i),s=a.getLength();if(t.getStartOffset()<s)return null;var l=n.getBlockAfter(i);if(!l||"atomic"!==l.getType())return null;var c=t.merge({focusKey:l.getKey(),focusOffset:l.getLength()}),u=r.removeRange(n,c,"forward");return u!==n?o.push(e,u,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),a=r.getAnchorKey();if(a!==r.getFocusKey())return t;var s=t.getCurrentContent(),l=s.getBlockForKey(a),c=l.getType();if("unordered-list-item"!==c&&"ordered-list-item"!==c)return t;e.preventDefault();var u=s.getBlockBefore(a);if(!u)return t;var p=u.getType();if("unordered-list-item"!==p&&"ordered-list-item"!==p)return t;var d=l.getDepth();if(!e.shiftKey&&d===n)return t;n=Math.min(u.getDepth()+1,n);var f=i(s,r,e.shiftKey?-1:1,n);return o.push(t,f,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),i=n.getStartKey(),s=n.getEndKey(),l=e.getCurrentContent(),c=n;if(i!==s&&0===n.getEndOffset()){var u=a(l.getBlockBefore(s));s=u.getKey(),c=c.merge({anchorKey:i,anchorOffset:n.getStartOffset(),focusKey:s,focusOffset:u.getLength(),isBackward:!1})}if(l.getBlockMap().skipWhile(function(e,t){return t!==i}).reverse().skipWhile(function(e,t){return t!==s}).some(function(e){return"atomic"===e.getType()}))return e;var p=l.getBlockForKey(i).getType()===t?"unstyled":t;return o.push(e,r.setBlockType(l,c,p),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?s.toggleBlockType(e,"code-block"):s.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),i=e.getCurrentInlineStyle();if(n.isCollapsed())return o.setInlineStyleOverride(e,i.has(t)?i.remove(t):i.add(t));var a,s=e.getCurrentContent();return a=i.has(t)?r.removeInlineStyle(s,n,t):r.applyInlineStyle(s,n,t),o.push(e,a,"change-inline-style")},toggleLink:function(e,t,n){var i=r.applyEntity(e.getCurrentContent(),t,n);return o.push(e,i,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var o=t.getAnchorKey(),i=e.getCurrentContent(),a=i.getBlockForKey(o),s=i.getFirstBlock();if(a.getLength()>0&&a!==s)return null;var l=a.getType(),c=i.getBlockBefore(o);if("code-block"===l&&c&&"code-block"===c.getType()&&0!==c.getLength())return null;if("unstyled"!==l)return r.setBlockType(i,t,"unstyled")}return null}};e.exports=s},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o,i=a||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(7),s=n(5),l=n(12),c=n(6),u=n(26),p=n(22),d=n(11),f=n(2),m=n(2),g=m.Set,h=n(131),v=n(16),y=n(10),_=n(51),b=n(1),S=n(31),C=d.draft_tree_data_support,w=f.List,E=f.OrderedSet,T=new RegExp("\r","g"),k=new RegExp("\n","g"),x=new RegExp("&nbsp;","g"),O=new RegExp("&#13;?","g"),D=new RegExp("&#8203;?","g"),M=["bold","bolder","500","600","700","800","900"],F=["light","lighter","100","200","300","400"],L={b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE"},N=(o={},r(o,v("public/DraftStyleDefault/depth0"),0),r(o,v("public/DraftStyleDefault/depth1"),1),r(o,v("public/DraftStyleDefault/depth2"),2),r(o,v("public/DraftStyleDefault/depth3"),3),r(o,v("public/DraftStyleDefault/depth4"),4),o),R=["className","href","rel","target","title"],P=["alt","className","height","src","width"],A=void 0,I={text:"",inlines:[],entities:[],blocks:[]},B={children:w(),depth:0,key:"",type:""},K=function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null},U=function(e){var t=e.get("unstyled").element,n=g([]);return e.forEach(function(e){e.aliasedElements&&e.aliasedElements.forEach(function(e){n=n.add(e)}),n=n.add(e.element)}),n.filter(function(e){return e&&e!==t}).toArray().sort()},j=function(e,t,n){for(var r=0;r<n.length;r++){var o=n[r](e,t);if(o)return o}return null},H=function(e,t,n){var r=n.filter(function(t){return t.element===e||t.wrapper===e||t.aliasedElements&&t.aliasedElements.some(function(t){return t===e})}).keySeq().toSet().toArray().sort();switch(r.length){case 0:return"unstyled";case 1:return r[0];default:return j(e,t,[K])||"unstyled"}},V=function(e,t,n){var r=L[e];if(r)n=n.add(r).toOrderedSet();else if(t instanceof HTMLElement){var o=t;n=n.withMutations(function(e){var t=o.style.fontWeight,n=o.style.fontStyle,r=o.style.textDecoration;M.indexOf(t)>=0?e.add("BOLD"):F.indexOf(t)>=0&&e.remove("BOLD"),"italic"===n?e.add("ITALIC"):"normal"===n&&e.remove("ITALIC"),"underline"===r&&e.add("UNDERLINE"),"line-through"===r&&e.add("STRIKETHROUGH"),"none"===r&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))}).toOrderedSet()}return n},W=function(e,t,n){var r=e.text.slice(-1),o=t.text.slice(0,1);if("\r"!==r||"\r"!==o||n||(e.text=e.text.slice(0,-1),e.inlines.pop(),e.entities.pop(),e.blocks.pop()),"\r"===r){if(" "===t.text||"\n"===t.text)return e;" "!==o&&"\n"!==o||(t.text=t.text.slice(1),t.inlines.shift(),t.entities.shift())}return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks)}},z=function(e,t){return t.some(function(t){return e.indexOf("<"+t)!==-1})},G=function(e){e instanceof HTMLAnchorElement||b(!1,"Link must be an HTMLAnchorElement.");var t=e.protocol;return"http:"===t||"https:"===t||"mailto:"===t},q=function(e){var t=new Array(1);return e&&(t[0]=e),i({},I,{text:" ",inlines:[E()],entities:t})},X=function(){return i({},I,{text:"\n",inlines:[E()],entities:new Array(1)})},Z=function(){return i({},B,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},Y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{text:"\r",inlines:[E()],entities:new Array(1),blocks:[Z({parent:n,key:y(),type:e,depth:Math.max(0,Math.min(4,t))})]}},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(N).some(function(n){e.classList.contains(n)&&(t=N[n])}),t},J=function e(t,n,r,o,a,s,l,c,u,d){var f=A,m=n.nodeName.toLowerCase(),g=t,v="unstyled",y=!1,_=a&&H(a,o,c),b=i({},I),S=null,w=void 0;if("#text"===m){var E=n.textContent,T=E.trim();if(o&&""===T&&n.parentElement){var x=n.parentElement.nodeName.toLowerCase();if("ol"===x||"ul"===x)return{chunk:i({},I),entityMap:t}}return""===T&&"pre"!==a?{chunk:q(u),entityMap:t}:("pre"!==a&&(E=E.replace(k," ")),A=m,{chunk:{text:E,inlines:Array(E.length).fill(r),entities:Array(E.length).fill(u),blocks:[]},entityMap:t})}if(A=m,"br"===m)return"br"!==f||a&&"unstyled"!==_?{chunk:X(),entityMap:t}:{chunk:Y("unstyled",l,d),entityMap:t};if("img"===m&&n instanceof HTMLImageElement&&n.attributes.getNamedItem("src")&&n.attributes.getNamedItem("src").value){var O=n,D={};P.forEach(function(e){var t=O.getAttribute(e);t&&(D[e]=t)}),n.textContent="",u=p.__create("IMAGE","MUTABLE",D||{})}r=V(m,n,r),"ul"!==m&&"ol"!==m||(o&&(l+=1),o=m),!C&&"li"===m&&n instanceof HTMLElement&&(l=Q(n,l));var M=H(m,o,c),F=o&&"li"===a&&"li"===m,L=(!a||C)&&s.indexOf(m)!==-1;(F||L)&&(b=Y(M,l,d),w=b.blocks[0].key,a=m,y=!C),F&&(v="ul"===o?"unordered-list-item":"ordered-list-item");var N=n.firstChild;null!=N&&(m=N.nodeName.toLowerCase());for(var B=null;N;){N instanceof HTMLAnchorElement&&N.href&&G(N)?(function(){var e=N,t={};R.forEach(function(n){var r=e.getAttribute(n);r&&(t[n]=r)}),t.url=new h(e.href).toString(),B=p.__create("LINK","MUTABLE",t||{})})():B=void 0;var K=e(g,N,r,o,a,s,l,c,B||u,C?w:null),U=K.chunk,j=K.entityMap;S=U,g=j,b=W(b,S,C);var z=N.nextSibling;!d&&z&&s.indexOf(m)>=0&&a&&(b=W(b,X())),z&&(m=z.nodeName.toLowerCase()),N=z}return y&&(b=W(b,Y(v,l,d))),{chunk:b,entityMap:g}},$=function(e,t,n,r){e=e.trim().replace(T,"").replace(x," ").replace(O,"").replace(D,"");var o=U(n),a=t(e);if(!a)return null;A=null;var s=z(e,o)?o:["div"],l=J(r,a,E(),"ul",null,s,-1,n),c=l.chunk,u=l.entityMap;return 0===c.text.indexOf("\r")&&(c={text:c.text.slice(1),inlines:c.inlines.slice(1),entities:c.entities.slice(1),blocks:c.blocks}),"\r"===c.text.slice(-1)&&(c.text=c.text.slice(0,-1),c.inlines=c.inlines.slice(0,-1),c.entities=c.entities.slice(0,-1),c.blocks.pop()),0===c.blocks.length&&c.blocks.push(i({},I,{type:"unstyled",depth:0})),c.text.split("\r").length===c.blocks.length+1&&c.blocks.unshift({type:"unstyled",depth:0}),{chunk:c,entityMap:u}},ee=function(e){if(!e||!e.text||!Array.isArray(e.blocks))return null;var t={cacheRef:{},contentBlocks:[]},n=0,r=e.blocks,o=e.inlines,i=e.entities,a=C?c:l;return e.text.split("\r").reduce(function(e,t,l){t=S(t);var u=r[l],p=n+t.length,d=o.slice(n,p),f=i.slice(n,p),m=w(d.map(function(e,t){var n={style:e,entity:null};return f[t]&&(n.entity=f[t]),s.create(n)}));n=p+1;var g=u.depth,h=u.type,v=u.parent,_=u.key||y(),b=null;if(v){var C=e.cacheRef[v],E=e.contentBlocks[C];if(E.getChildKeys().isEmpty()&&E.getText()){var T=E.getCharacterList(),k=E.getText();b=y();var x=new c({key:b,text:k,characterList:T,parent:v,nextSibling:_});e.contentBlocks.push(x),E=E.withMutations(function(e){e.set("characterList",w()).set("text","").set("children",E.children.push(x.getKey()))})}e.contentBlocks[C]=E.set("children",E.children.push(_))}var O=new a({key:_,parent:v,type:h,depth:g,text:t,characterList:m,prevSibling:b||(0===l||r[l-1].parent!==v?null:r[l-1].key),nextSibling:l===r.length-1||r[l+1].parent!==v?null:r[l+1].key});return e.contentBlocks.push(O),e.cacheRef[O.key]=l,e},t).contentBlocks},te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,r=$(e,t,n,p);if(null==r)return null;var o=r.chunk,i=r.entityMap;return{contentBlocks:ee(o),entityMap:i}};e.exports=te},function(e,t,n){"use strict";function r(e){return p&&e.altKey||g(e)}function o(e){return m(e)?e.shiftKey?"redo":"undo":null}function i(e){return d&&e.shiftKey?null:r(e)?"delete-word":"delete"}function a(e){return m(e)&&p?"backspace-to-start-of-line":r(e)?"backspace-word":"backspace"}function s(e){switch(e.keyCode){case 66:return m(e)?"bold":null;case 68:return g(e)?"delete":null;case 72:return g(e)?"backspace":null;case 73:return m(e)?"italic":null;case 74:return m(e)?"code":null;case 75:return!d&&g(e)?"secondary-cut":null;case 77:return g(e)?"split-block":null;case 79:return g(e)?"split-block":null;case 84:return p&&g(e)?"transpose-characters":null;case 85:return m(e)?"underline":null;case 87:return p&&g(e)?"backspace-word":null;case 89:return g(e)?d?"redo":"secondary-paste":null;case 90:return o(e)||null;case c.RETURN:return"split-block";case c.DELETE:return i(e);case c.BACKSPACE:return a(e);case c.LEFT:return f&&m(e)?"move-selection-to-start-of-block":null;case c.RIGHT:return f&&m(e)?"move-selection-to-end-of-block":null;default:return null}}var l=n(27),c=n(32),u=n(9),p=u.isPlatform("Mac OS X"),d=u.isPlatform("Windows"),f=p&&u.isBrowser("Firefox < 29"),m=l.hasCommandModifier,g=l.isCtrlKeyCommand;e.exports=s},function(e,t,n){"use strict";function r(e,t,n,r,o,i){var s=n.nodeType===Node.TEXT_NODE,c=o.nodeType===Node.TEXT_NODE;if(s&&c)return{selectionState:u(e,d(l(n)),r,d(l(o)),i),needsRecovery:!1};var p=null,f=null,m=!0;return s?(p={key:d(l(n)),offset:r},f=a(t,o,i)):c?(f={key:d(l(o)),offset:i},p=a(t,n,r)):(p=a(t,n,r),f=a(t,o,i),n===o&&r===i&&(m=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:u(e,p.key,p.offset,f.key,f.offset),needsRecovery:m}}function o(e){for(;e.firstChild&&(e.firstChild instanceof Element&&"true"===e.firstChild.getAttribute("data-blocks")||c(e.firstChild));)e=e.firstChild;return e}function i(e){for(;e.lastChild&&(e.lastChild instanceof Element&&"true"===e.lastChild.getAttribute("data-blocks")||c(e.lastChild));)e=e.lastChild;return e}function a(e,t,n){var r=t,a=l(r);if(null!=a||e&&(e===r||e.firstChild===r)||p(!1,"Unknown node in selection range."),e===r&&(r=r.firstChild,r instanceof Element&&"true"===r.getAttribute("data-contents")||p(!1,"Invalid DraftEditorContents structure."),n>0&&(n=r.childNodes.length)),0===n){var u=null;if(null!=a)u=a;else{u=d(c(o(r)))}return{key:u,offset:0}}var f=r.childNodes[n-1],m=null,g=null;if(c(f)){var h=i(f);m=d(c(h)),g=s(h)}else m=d(a),g=s(f);return{key:m,offset:g}}function s(e){var t=e.textContent;return"\n"===t?0:t.length}var l=n(28),c=n(52),u=n(54),p=n(1),d=n(8);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection();return t.isCollapsed()?null:o(e.getCurrentContent(),t)}var o=n(24);e.exports=r},function(e,t,n){"use strict";var r=n(6),o=function(e,t){if(!(e instanceof r))return null;var n=e.getNextSiblingKey();if(n)return n;var o=e.getParentKey();if(!o)return null;for(var i=t.get(o);i&&!i.getNextSiblingKey();){var a=i.getParentKey();i=a?t.get(a):null}return i?i.getNextSiblingKey():null};e.exports=o},function(e,t,n){"use strict";function r(e){for(var t=e.cloneRange(),n=[],r=e.endContainer;null!=r;r=r.parentNode){var o=r===e.commonAncestorContainer;o?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var a=Array.from(t.getClientRects());if(n.push(a),o){var s;return n.reverse(),(s=[]).concat.apply(s,n)}t.setEndBefore(r)}i(!1,"Found an unexpected detached subtree when getting range client rects.")}var o=n(9),i=n(1),a=o.isBrowser("Chrome"),s=a?r:function(e){return Array.from(e.getClientRects())};e.exports=s},function(e,t,n){"use strict";function r(e){var t,n=null;return!a&&document.implementation&&document.implementation.createHTMLDocument&&(t=document.implementation.createHTMLDocument("foo"),t.documentElement||i(!1,"Missing doc.documentElement"),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}var o=n(9),i=n(1),a=o.isBrowser("IE <= 9");e.exports=r},function(e,t){"use strict";function n(e){if(e instanceof Element){var t=e.getAttribute("data-offset-key");if(t)return t;for(var r=0;r<e.childNodes.length;r++){var o=n(e.childNodes[r]);if(o)return o}}return null}e.exports=n},function(e,t,n){(function(t){"use strict";function r(e,t){var n=0,r=[];e.forEach(function(i){o(i,function(o){n++,o&&r.push(o.slice(0,5e3)),n==e.length&&t(r.join("\r"))})})}function o(e,n){if(!t.FileReader||e.type&&!(e.type in s))return void n("");if(""===e.type){var r="";return a.test(e.name)&&(r=e.name.replace(a,"")),void n(r)}var o=new FileReader;o.onload=function(){var e=o.result;"string"!=typeof e&&i(!1,'We should be calling "FileReader.readAsText" which returns a string'),n(e)},o.onerror=function(){n("")},o.readAsText(e)}var i=n(1),a=/\.textClipping$/,s={"text/plain":!0,"text/html":!0,"text/rtf":!0};e.exports=r}).call(t,(function(){return this})())},function(e,t,n){"use strict";function r(e,t,n,r,a){var s=i(e.getSelection());if(!t||!r)return console.warn("Invalid selection state.",arguments,e.toJS()),s;var l=o.decode(t),c=l.blockKey,u=e.getBlockTree(c).getIn([l.decoratorKey,"leaves",l.leafKey]),p=o.decode(r),d=p.blockKey,f=e.getBlockTree(d).getIn([p.decoratorKey,"leaves",p.leafKey]),m=u.get("start"),g=f.get("start"),h=u?m+n:null,v=f?g+a:null;if(s.getAnchorKey()===c&&s.getAnchorOffset()===h&&s.getFocusKey()===d&&s.getFocusOffset()===v)return s;var y=!1;if(c===d){var _=u.get("end"),b=f.get("end");y=g===m&&b===_?a<n:g<m}else{y=e.getCurrentContent().getBlockMap().keySeq().skipUntil(function(e){return e===c||e===d}).first()===d}return s.merge({anchorKey:c,anchorOffset:h,focusKey:d,focusOffset:v,isBackward:y})}var o=n(23),i=n(8);e.exports=r},function(e,t){"use strict";function n(e,t,n){if(n===e.count())t.forEach(function(t){e=e.push(t)});else if(0===n)t.reverse().forEach(function(t){e=e.unshift(t)});else{var r=e.slice(0,n),o=e.slice(n);e=r.concat(t,o).toList()}return e}e.exports=n},function(e,t){"use strict";function n(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),o=t.getStartOffset(),i=!1;return r.some(function(e){return o===e.get("start")?(i=!0,!0):o<e.get("end")&&e.get("leaves").some(function(e){return o===e.get("start")&&(i=!0,!0)})}),i}e.exports=n},function(e,t){"use strict";function n(e,t){var n,r=e.getSelection(),o=r.getStartKey(),i=r.getStartOffset(),a=e.getCurrentContent(),s=o;return t>a.getBlockForKey(o).getText().length-i?(s=a.getKeyAfter(o),n=0):n=i+t,r.merge({focusKey:s,focusOffset:n})}e.exports=n},function(e,t,n){"use strict";var r=n(6),o=n(2),i=n(10),a=o.OrderedMap,s=function(e){var t={},n=void 0;return a(e.withMutations(function(e){e.forEach(function(r,o){var a=r.getKey(),s=r.getNextSiblingKey(),l=r.getPrevSiblingKey(),c=r.getChildKeys(),u=r.getParentKey(),p=i();if(t[a]=p,s){e.get(s)?e.setIn([s,"prevSibling"],p):e.setIn([a,"nextSibling"],null)}if(l){e.get(l)?e.setIn([l,"nextSibling"],p):e.setIn([a,"prevSibling"],null)}if(u&&e.get(u)){var d=e.get(u),f=d.getChildKeys();e.setIn([u,"children"],f.set(f.indexOf(r.getKey()),p))}else e.setIn([a,"parent"],null),n&&(e.setIn([n.getKey(),"nextSibling"],p),e.setIn([a,"prevSibling"],t[n.getKey()])),n=e.get(a);c.forEach(function(t){e.get(t)?e.setIn([t,"parent"],p):e.setIn([a,"children"],r.getChildKeys().filter(function(e){return e!==t}))})})}).toArray().map(function(e){return[t[e.getKey()],e.set("key",t[e.getKey()])]}))},l=function(e){return a(e.toArray().map(function(e){var t=i();return[t,e.set("key",t)]}))},c=function(e){return e.first()instanceof r?s(e):l(e)};e.exports=c},function(e,t,n){"use strict";function r(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),o={},a=t.getStartKey(),s=t.getStartOffset(),l=n.get(a),c=i(r,l,s);c!==l&&(o[a]=c);var u=t.getEndKey(),p=t.getEndOffset(),d=n.get(u);a===u&&(d=c);var f=i(r,d,p);return f!==d&&(o[u]=f),Object.keys(o).length?e.merge({blockMap:n.merge(o),selectionAfter:t}):e.set("selectionAfter",t)}function o(e,t,n){var r;return s(e,function(e,t){return e.getEntity()===t.getEntity()},function(e){return e.getEntity()===t},function(e,t){e<=n&&t>=n&&(r={start:e,end:t})}),"object"!=typeof r&&l(!1,"Removal range must exist within character list."),r}function i(e,t,n){var r=t.getCharacterList(),i=n>0?r.get(n-1):void 0,s=n<r.count()?r.get(n):void 0,l=i?i.getEntity():void 0,c=s?s.getEntity():void 0;if(c&&c===l){if("MUTABLE"!==e.__get(c).getMutability()){for(var u,p=o(r,c,n),d=p.start,f=p.end;d<f;)u=r.get(d),r=r.set(d,a.applyEntity(u,null)),d++;return t.set("characterList",r)}}return t}var a=n(5),s=n(18),l=n(1);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){if("file"==e.kind)return e.getAsFile()}var i=n(129),a=n(136),s=n(36),l=new RegExp("\r\n","g"),c={"text/rtf":1,"text/html":1},u=(function(){function e(t){r(this,e),this.data=t,this.types=t.types?a(t.types):[]}return e.prototype.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some(function(e){return c[e]})},e.prototype.getText=function(){var e;return this.data.getData&&(this.types.length?this.types.indexOf("text/plain")!=-1&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(l,"\n"):null},e.prototype.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")}},e.prototype.isLink=function(){return this.types.some(function(e){return e.indexOf("Url")!=-1||e.indexOf("text/uri-list")!=-1||e.indexOf("text/x-moz-url")})},e.prototype.getLink=function(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){return this.data.getData("text/x-moz-url").split("\n")[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null},e.prototype.isImage=function(){if(this.types.some(function(e){return e.indexOf("application/x-moz-file")!=-1}))return!0;for(var e=this.getFiles(),t=0;t<e.length;t++){var n=e[t].type;if(!i.isImage(n))return!1}return!0},e.prototype.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},e.prototype.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(o).filter(s.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},e.prototype.hasFiles=function(){return this.getFiles().length>0},e})();e.exports=u},function(e,t){"use strict";function n(e,t){return!!t&&(e===t.documentElement||e===t.body)}var r={getTop:function(e){var t=e.ownerDocument;return n(e,t)?t.body.scrollTop||t.documentElement.scrollTop:e.scrollTop},setTop:function(e,t){var r=e.ownerDocument;n(e,r)?r.body.scrollTop=r.documentElement.scrollTop=t:e.scrollTop=t},getLeft:function(e){var t=e.ownerDocument;return n(e,t)?t.body.scrollLeft||t.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,t){var r=e.ownerDocument;n(e,r)?r.body.scrollLeft=r.documentElement.scrollLeft=t:e.scrollLeft=t}};e.exports=r},function(e,t,n){"use strict";function r(e){var t=d.exec(e);return null==t?null:t[0]}function o(e){var t=r(e);return null==t?c.NEUTRAL:f.exec(t)?c.RTL:c.LTR}function i(e,t){if(t=t||c.NEUTRAL,!e.length)return t;var n=o(e);return n===c.NEUTRAL?t:n}function a(e,t){return t||(t=c.getGlobalDir()),c.isStrong(t)||u(!1,"Fallback direction must be a strong direction"),i(e,t)}function s(e,t){return a(e,t)===c.LTR}function l(e,t){return a(e,t)===c.RTL}var c=n(34),u=n(1),p={L:"A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",R:"----------------------",AL:"------------------------------"},d=new RegExp("["+p.L+p.R+p.AL+"]"),f=new RegExp("["+p.R+p.AL+"]"),m={firstStrongChar:r,firstStrongCharDir:o,resolveBlockDir:i,getDirection:a,isDirectionLTR:s,isDirectionRTL:l};e.exports=m},function(e,t){"use strict";function n(e){if(e=e||("undefined"!=typeof document?document:void 0),void 0===e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=n},function(e,t,n){"use strict";var r=n(7),o=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(17),a=n(5),s=n(12),l=n(6),c=n(11),u=n(4),p=n(3),d=n(2),f=(n(15),n(10)),m=n(124),g=c.draft_tree_data_support,h=g?l:s,v=d.List,y=d.Repeat,_={insertAtomicBlock:function(e,t,n){var r=e.getCurrentContent(),s=e.getSelection(),l=u.removeRange(r,s,"backward"),c=l.getSelectionAfter(),d=u.splitBlock(l,c),m=d.getSelectionAfter(),_=u.setBlockType(d,m,"atomic"),b=a.create({entity:t}),S={key:f(),type:"atomic",text:n,characterList:v(y(b,n.length))},C={key:f(),type:"unstyled"};g&&(S=o({},S,{nextSibling:C.key}),C=o({},C,{prevSibling:S.key}));var w=[new h(S),new h(C)],E=i.createFromArray(w),T=u.replaceWithFragment(_,m,E),k=T.merge({selectionBefore:s,selectionAfter:T.getSelectionAfter().set("hasFocus",!0)});return p.push(e,k,"insert-fragment")},moveAtomicBlock:function(e,t,n,r){var o=e.getCurrentContent(),i=e.getSelection(),a=void 0
;if("before"===r||"after"===r){a=m(o,t,o.getBlockForKey("before"===r?n.getStartKey():n.getEndKey()),r)}else{var s=u.removeRange(o,n,"backward"),l=s.getSelectionAfter(),c=s.getBlockForKey(l.getFocusKey());if(0===l.getStartOffset())a=m(s,t,c,"before");else if(l.getEndOffset()===c.getLength())a=m(s,t,c,"after");else{var d=u.splitBlock(s,l),f=d.getSelectionAfter(),g=d.getBlockForKey(f.getFocusKey());a=m(d,t,g,"before")}}var h=a.merge({selectionBefore:i,selectionAfter:a.getSelectionAfter().set("hasFocus",!0)});return p.push(e,h,"move-block")}};e.exports=_},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){for(var r=t;r<n;r++)if(null!=e[r])return!1;return!0}function i(e,t,n,r){for(var o=t;o<n;o++)e[o]=r}var a=n(2),s=a.List,l=(function(){function e(t){r(this,e),this._decorators=t.slice()}return e.prototype.getDecorations=function(e,t){var n=Array(e.getText().length).fill(null);return this._decorators.forEach(function(r,a){var s=0;(0,r.strategy)(e,function(e,t){o(n,e,t)&&(i(n,e,t,a+"."+s),s++)},t)}),s(n)},e.prototype.getComponentForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].component},e.prototype.getPropsForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].props},e})();e.exports=l},function(e,t,n){"use strict";function r(e,t,n,r){var i=e.getBlockMap(),s=t.getStartKey(),l=t.getStartOffset(),c=t.getEndKey(),u=t.getEndOffset(),p=i.skipUntil(function(e,t){return t===s}).takeUntil(function(e,t){return t===c}).concat(a([[c,i.get(c)]])).map(function(e,t){var i,a;s===c?(i=l,a=u):(i=t===s?l:0,a=t===c?u:e.getLength());for(var p,d=e.getCharacterList();i<a;)p=d.get(i),d=d.set(i,r?o.applyStyle(p,n):o.removeStyle(p,n)),i++;return e.set("characterList",d)});return e.merge({blockMap:i.merge(p),selectionBefore:t,selectionAfter:t})}var o=n(5),i=n(2),a=i.Map,s={add:function(e,t,n){return r(e,t,n,!0)},remove:function(e,t,n){return r(e,t,n,!1)}};e.exports=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),s=a||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(26),c=n(39),u=n(68),p=n(70),d=n(71),f=n(72),m=n(74),g=n(3),h=n(14),v=n(21),y=n(61),_=n(33),b=n(9),S=n(16),C=n(36),w=n(10),E=n(46),T=n(37),k=n(1),x=n(8),O=b.isBrowser("IE"),D=!O,M={edit:f,composite:u,drag:d,cut:null,render:null},F=(function(e){function t(n){r(this,t);var i=o(this,e.call(this,n));return i.focus=function(e){var t=i.props.editorState,n=t.getSelection().getHasFocus(),r=v.findDOMNode(i.editor);if(r){var o=_.getScrollParent(r),a=e||T(o),s=a.x,l=a.y;r instanceof HTMLElement||k(!1,"editorNode is not an HTMLElement"),r.focus(),o===window?window.scrollTo(s,l):y.setTop(o,l),n||i.update(g.forceSelection(t,t.getSelection()))}},i.blur=function(){var e=v.findDOMNode(i.editor);e instanceof HTMLElement||k(!1,"editorNode is not an HTMLElement"),e.blur()},i.setMode=function(e){i._handler=M[e]},i.exitCurrentMode=function(){i.setMode("edit")},i.restoreEditorDOM=function(e){i.setState({contentsKey:i.state.contentsKey+1},function(){i.focus(e)})},i.setClipboard=function(e){i._clipboard=e},i.getClipboard=function(){return i._clipboard},i.update=function(e){i._latestEditorState=e,i.props.onChange(e)},i.onDragEnter=function(){i._dragCount++},i.onDragLeave=function(){i._dragCount--,0===i._dragCount&&i.exitCurrentMode()},i._blockSelectEvents=!1,i._clipboard=null,i._handler=null,i._dragCount=0,i._editorKey=n.editorKey||w(),i._placeholderAccessibilityID="placeholder-"+i._editorKey,i._latestEditorState=n.editorState,i._latestCommittedEditorState=n.editorState,i._onBeforeInput=i._buildHandler("onBeforeInput"),i._onBlur=i._buildHandler("onBlur"),i._onCharacterData=i._buildHandler("onCharacterData"),i._onCompositionEnd=i._buildHandler("onCompositionEnd"),i._onCompositionStart=i._buildHandler("onCompositionStart"),i._onCopy=i._buildHandler("onCopy"),i._onCut=i._buildHandler("onCut"),i._onDragEnd=i._buildHandler("onDragEnd"),i._onDragOver=i._buildHandler("onDragOver"),i._onDragStart=i._buildHandler("onDragStart"),i._onDrop=i._buildHandler("onDrop"),i._onInput=i._buildHandler("onInput"),i._onFocus=i._buildHandler("onFocus"),i._onKeyDown=i._buildHandler("onKeyDown"),i._onKeyPress=i._buildHandler("onKeyPress"),i._onKeyUp=i._buildHandler("onKeyUp"),i._onMouseDown=i._buildHandler("onMouseDown"),i._onMouseUp=i._buildHandler("onMouseUp"),i._onPaste=i._buildHandler("onPaste"),i._onSelect=i._buildHandler("onSelect"),i.getEditorKey=function(){return i._editorKey},i.state={contentsKey:0},i}return i(t,e),t.prototype._buildHandler=function(e){var t=this;return function(n){if(!t.props.readOnly){var r=t._handler&&t._handler[e];r&&r(t,n)}}},t.prototype._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},t.prototype._renderPlaceholder=function(){if(this._showPlaceholder()){var e={text:x(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return h.createElement(m,e)}return null},t.prototype.render=function(){var e=this,t=this.props,n=t.blockRenderMap,r=t.blockRendererFn,o=t.blockStyleFn,i=t.customStyleFn,a=t.customStyleMap,l=t.editorState,u=t.readOnly,d=t.textAlignment,f=t.textDirectionality,m=S({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===d,"DraftEditor/alignRight":"right"===d,"DraftEditor/alignCenter":"center"===d}),g={outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},v=this.props.role||"textbox",y="combobox"===v?!!this.props.ariaExpanded:null,_={blockRenderMap:n,blockRendererFn:r,blockStyleFn:o,customStyleMap:s({},c,a),customStyleFn:i,editorKey:this._editorKey,editorState:l,key:"contents"+this.state.contentsKey,textDirectionality:f};return h.createElement("div",{className:m},this._renderPlaceholder(),h.createElement("div",{className:S("DraftEditor/editorContainer"),ref:function(t){return e.editorContainer=t}},h.createElement("div",{"aria-activedescendant":u?null:this.props.ariaActiveDescendantID,"aria-autocomplete":u?null:this.props.ariaAutoComplete,"aria-controls":u?null:this.props.ariaControls,"aria-describedby":this.props.ariaDescribedBy||this._placeholderAccessibilityID,"aria-expanded":u?null:y,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:S({notranslate:!u,"public/DraftEditor/content":!0}),contentEditable:!u,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:function(t){return e.editor=t},role:u?null:v,spellCheck:D&&this.props.spellCheck,style:g,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},h.createElement(p,_))))},t.prototype.componentDidMount=function(){this.setMode("edit"),O&&document.execCommand("AutoUrlDetect",!1,!1)},t.prototype.componentWillUpdate=function(e){this._blockSelectEvents=!0,this._latestEditorState=e.editorState},t.prototype.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestCommittedEditorState=this.props.editorState},t})(h.Component);F.defaultProps={blockRenderMap:l,blockRendererFn:C.thatReturnsNull,blockStyleFn:C.thatReturns(""),keyBindingFn:E,readOnly:!1,spellCheck:!1,stripPastedStyles:!1},e.exports=F},function(e,t,n){"use strict";var r=n(11),o=n(4),i=n(3),a=n(32),s=n(29),l=n(19),c=n(56),u=!1,p=!1,d="",f={onBeforeInput:function(e,t){d=(d||"")+t.data},onCompositionStart:function(e){p=!0},onCompositionEnd:function(e){u=!1,p=!1,setTimeout(function(){u||f.resolveComposition(e)},20)},onKeyDown:function(e,t){if(!p)return f.resolveComposition(e),void e._onKeyDown(t);t.which!==a.RIGHT&&t.which!==a.LEFT||t.preventDefault()},onKeyPress:function(e,t){t.which===a.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!p){u=!0;var t=d;d="";var n=i.set(e._latestEditorState,{inCompositionMode:!1}),a=n.getCurrentInlineStyle(),f=s(n.getCurrentContent(),n.getSelection()),m=!t||c(n)||a.size>0||null!==f;if(m&&e.restoreEditorDOM(),e.exitCurrentMode(),t){if(r.draft_handlebeforeinput_composed_text&&e.props.handleBeforeInput&&l(e.props.handleBeforeInput(t,n)))return;var g=o.replaceText(n.getCurrentContent(),n.getSelection(),t,a,f);return void e.update(i.push(n,g,"insert-characters"))}m&&e.update(i.set(n,{nativelyRenderedContent:null,forceSelection:!0}))}}};e.exports=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),s=a||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(40),c=n(23),u=(n(3),n(14)),p=n(16),d=n(146),f=n(8),m=function(e,t,n,r){return p({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":4===t,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})},g=(function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),o=t.isInCompositionMode(),i=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||o&&i)return!1;var a=t.getCurrentContent(),s=n.getCurrentContent(),l=t.getDecorator(),c=n.getDecorator();return o!==i||a!==s||l!==c||n.mustForceSelection()},t.prototype.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,o=e.customStyleMap,i=e.customStyleFn,a=e.editorState,p=e.editorKey,g=e.textDirectionality,h=a.getCurrentContent(),v=a.getSelection(),y=a.mustForceSelection(),_=a.getDecorator(),b=f(a.getDirectionMap()),S=h.getBlocksAsArray(),C=[],w=null,E=null,T=0;T<S.length;T++){var k=S[T],x=k.getKey(),O=k.getType(),D=n(k),M=void 0,F=void 0,L=void 0;D&&(M=D.component,F=D.props,L=D.editable);var N=g?g:b.get(x),R=c.encode(x,0,0),P={contentState:h,block:k,blockProps:F,blockStyleFn:r,customStyleMap:o,customStyleFn:i,decorator:_,direction:N,forceSelection:y,key:x,offsetKey:R,selection:v,tree:a.getBlockTree(x)},A=t.get(O)||t.get("unstyled"),I=A.wrapper,B=A.element||t.get("unstyled").element,K=k.getDepth(),U="";if(r&&(U=r(k)),"li"===B){U=d(U,m(O,K,E!==I||null===w||K>w,N))}var j=M||l,H={className:U,"data-block":!0,"data-editor":p,"data-offset-key":R,key:x};void 0!==L&&(H=s({},H,{contentEditable:L,suppressContentEditableWarning:!0}));var V=u.createElement(B,H,u.createElement(j,P));C.push({block:V,wrapperTemplate:I,key:x,offsetKey:R}),w=I?k.getDepth():null,E=I}for(var W=[],z=0;z<C.length;){var G=C[z];if(G.wrapperTemplate){var q=[];do q.push(C[z].block),z++;while(z<C.length&&C[z].wrapperTemplate===G.wrapperTemplate);var X=u.cloneElement(G.wrapperTemplate,{key:G.key+"-wrap","data-offset-key":G.offsetKey},q);W.push(X)}else W.push(G.block),z++}return u.createElement("div",{"data-contents":"true"},W)},t})(u.Component);e.exports=g},function(e,t,n){"use strict";var r=n(69);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=null,r=null;if("function"==typeof document.caretRangeFromPoint){var o=document.caretRangeFromPoint(e.x,e.y);n=o.startContainer,r=o.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=f(n),r=f(r);var i=f(c(n));return p(t,i,r,i,r)}function o(e,t){var n=s.moveText(e.getCurrentContent(),e.getSelection(),t);return l.push(e,n,"insert-fragment")}function i(e,t,n){var r=s.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return l.push(e,r,"insert-fragment")}var a=n(60),s=n(4),l=n(3),c=n(28),u=n(53),p=n(54),d=n(19),f=n(8),m={onDragEnd:function(e){e.exitCurrentMode()},onDrop:function(e,t){var n=new a(t.nativeEvent.dataTransfer),s=e._latestEditorState,l=r(t.nativeEvent,s);if(t.preventDefault(),e.exitCurrentMode(),null!=l){var c=n.getFiles();if(c.length>0){if(e.props.handleDroppedFiles&&d(e.props.handleDroppedFiles(l,c)))return;return void u(c,function(t){t&&e.update(i(s,l,t))})}var p=e._internalDrag?"internal":"external";if(!e.props.handleDrop||!d(e.props.handleDrop(l,n,p)))return e._internalDrag?void e.update(o(s,l)):void e.update(i(s,l,n.getText()))}}};e.exports=m},function(e,t,n){"use strict";var r=n(91),o=n(92),i=n(93),a=n(94),s=n(95),l=n(96),c=n(97),u=n(98),p=n(99),d=n(100),f=n(101),m=n(102),g={onBeforeInput:r,onBlur:o,onCompositionStart:i,onCopy:a,onCut:s,onDragOver:l,onDragStart:c,onFocus:u,onInput:p,onKeyDown:d,onPaste:f,onSelect:m};e.exports=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),s=n(75),l=n(14),c=n(21),u=n(1),p=n(126),d=(function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype._setSelection=function(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var t=this.props,n=t.block,r=t.start,o=t.text,i=n.getKey(),a=r+o.length;if(e.hasEdgeWithin(i,r,a)){var s=c.findDOMNode(this);s||u(!1,"Missing node");var l=s.firstChild;l||u(!1,"Missing child");var d=void 0;l.nodeType===Node.TEXT_NODE?d=l:"BR"===l.tagName?d=s:(d=l.firstChild,d||u(!1,"Missing targetNode")),p(e,d,i,r,a)}}},t.prototype.shouldComponentUpdate=function(e){var t=c.findDOMNode(this.leaf);return t||u(!1,"Missing leafNode"),t.textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection},t.prototype.componentDidUpdate=function(){this._setSelection()},t.prototype.componentDidMount=function(){this._setSelection()},t.prototype.render=function(){var e=this,t=this.props.block,n=this.props.text;n.endsWith("\n")&&this.props.isLast&&(n+="\n");var r=this.props,o=r.customStyleMap,i=r.customStyleFn,c=r.offsetKey,u=r.styleSet,p=u.reduce(function(e,t){var n={},r=o[t];return void 0!==r&&e.textDecoration!==r.textDecoration&&(n.textDecoration=[e.textDecoration,r.textDecoration].join(" ").trim()),a(e,r,n)},{});if(i){p=a(p,i(u,t))}return l.createElement("span",{"data-offset-key":c,ref:function(t){return e.leaf=t},style:p},l.createElement(s,null,n))},t})(l.Component);e.exports=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(14),s=n(16),l=(function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()},t.prototype.render=function(){var e=this.props.editorState.getSelection().getHasFocus(),t=s({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e}),n={whiteSpace:"pre-wrap"};return a.createElement("div",{className:t},a.createElement("div",{className:s("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:n},this.props.text))},t})(a.Component);e.exports=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return p?"\n"===e.textContent:"BR"===e.tagName}var s=n(14),l=n(21),c=n(9),u=n(1),p=c.isBrowser("IE <= 11"),d=p?s.createElement("span",{key:"A","data-text":"true"},"\n"):s.createElement("br",{key:"A","data-text":"true"}),f=p?s.createElement("span",{key:"B","data-text":"true"},"\n"):s.createElement("br",{key:"B","data-text":"true"}),m=(function(e){function t(n){r(this,t);var i=o(this,e.call(this,n));return i._forceFlag=!1,i}return i(t,e),t.prototype.shouldComponentUpdate=function(e){var t=l.findDOMNode(this),n=""===e.children;return t instanceof Element||u(!1,"node is not an Element"),n?!a(t):t.textContent!==e.children},t.prototype.componentDidMount=function(){this._forceFlag=!this._forceFlag},t.prototype.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},t.prototype.render=function(){return""===this.props.children?this._forceFlag?d:f:s.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true"},this.props.children)},t})(s.Component);e.exports=m},function(e,t){"use strict";var n={getRemovalRange:function(e,t,n,r,o){var i=n.split(" ");i=i.map(function(e,t){if("forward"===o){if(t>0)return" "+e}else if(t<i.length-1)return e+" ";return e});for(var a,s,l=r,c=null,u=null,p=0;p<i.length;p++){if(s=i[p],a=l+s.length,e<a&&l<t)null!==c?u=a:(c=l,u=a);else if(null!==c)break;l=a}var d=r+n.length,f=c===r,m=u===d;return(!f&&m||f&&!m)&&("forward"===o?u!==d&&u++:c!==r&&c--),{start:c,end:u}}};e.exports=n},function(e,t){"use strict";var n={draft_killswitch_allow_nontextnodes:!1,draft_segmented_entities_behavior:!1,draft_handlebeforeinput_composed_text:!1,draft_tree_data_support:!1};e.exports=n},function(e,t){"use strict";e.exports={logSelectionStateFailure:function(){return null}}},function(e,t,n){"use strict";var r=n(7),o=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(n(5),n(12)),a=n(6),s=n(11),l=n(2),c=n(45),u=n(10),p=n(51),d=n(31),f=l.List,m=l.Repeat,g=s.draft_tree_data_support,h=g?a:i,v={processHTML:function(e,t){return c(e,p,t)},processText:function(e,t,n){return e.reduce(function(e,r,i){r=d(r);var a=u(),s={key:a,type:n,text:r,characterList:f(m(t,r.length))};if(g&&0!==i){var l=i-1;s=o({},s,{prevSibling:(e[l]=e[l].merge({nextSibling:a})).getKey()})}return e.push(new h(s)),e},[])}};e.exports=v},function(e,t,n){"use strict";var r=n(7),o=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),a=function(e,t){for(var n=[].concat(e).reverse();n.length;){var r=n.pop();t(r);var o=r.children;Array.isArray(o)||i(!1,"Invalid tree raw block"),n=n.concat([].concat(o.reverse()))}},s=function(e){if(!e||!e.type)return!1;var t=e.type;return"unordered-list-item"===t||"ordered-list-item"===t},l=function(e){Array.isArray(e.children)&&(e.children=e.children.map(function(t){return t.type===e.type?o({},t,{depth:(e.depth||0)+1}):t}))},c={fromRawTreeStateToRawState:function(e){var t=e.blocks,n=[];return Array.isArray(t)||i(!1,"Invalid raw state"),Array.isArray(t)&&t.length?(a(t,function(e){var t=o({},e);s(e)&&(t.depth=t.depth||0,l(e)),delete t.children,n.push(t)}),e.blocks=n,o({},e,{blocks:n})):e},fromRawStateToRawTreeState:function(e){var t={},n=[];return e.blocks.forEach(function(e){var r=s(e),a=e.depth||0,l=o({},e,{children:[]});if(!r)return t={},void n.push(l);if(t[a]=l,a>0){var c=t[a-1];return c||i(!1,"Invalid depth for RawDraftContentBlock"),void c.children.push(l)}n.push(l)}),o({},e,{blocks:n})}};e.exports=c},function(e,t,n){"use strict";var r,o=n(2),i=n(132),a=n(8),s=o.OrderedMap,l={getDirectionMap:function(e,t){r?r.reset():r=new i;var n=e.getBlockMap(),l=n.valueSeq().map(function(e){return a(r).getDirection(e.getText())}),c=s(n.keySeq().zip(l));return null!=t&&o.is(t,c)?t:c}};e.exports=l},function(e,t,n){"use strict";var r=n(4),o=n(3),i=n(24),a=n(8),s=null,l={cut:function(e){var t=e.getCurrentContent(),n=e.getSelection(),l=null;if(n.isCollapsed()){var c=n.getAnchorKey(),u=t.getBlockForKey(c).getLength();if(u===n.getAnchorOffset())return e;l=n.set("focusOffset",u)}else l=n;l=a(l),s=i(t,l);var p=r.removeRange(t,l,"forward");return p===t?e:o.push(e,p,"remove-range")},paste:function(e){if(!s)return e;var t=r.replaceWithFragment(e.getCurrentContent(),e.getSelection(),s);return o.push(e,t,"insert-fragment")}};e.exports=l},function(e,t){"use strict";function n(e,t,n,r){var o=t.getStartKey(),i=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil(function(e,t){return t===o}).takeUntil(function(e,t){return t===i}).concat([[i,a.get(i)]]).map(function(e){var t=e.getDepth()+n;return t=Math.max(0,Math.min(t,r)),e.set("depth",t)});return a=a.merge(s),e.merge({blockMap:a,selectionBefore:t,selectionAfter:t})}e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r){for(var i=e.getCharacterList();t<n;)i=i.set(t,o.applyEntity(i.get(t),r)),t++;return e.set("characterList",i)}var o=n(5);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=e.getBlockMap(),a=t.getStartKey(),s=t.getStartOffset(),l=t.getEndKey(),c=t.getEndOffset(),u=r.skipUntil(function(e,t){return t===a}).takeUntil(function(e,t){return t===l}).toOrderedMap().merge(o.OrderedMap([[l,r.get(l)]])).map(function(e,t){return i(e,t===a?s:0,t===l?c:e.getLength(),n)});return e.merge({blockMap:r.merge(u),selectionBefore:t,selectionAfter:t})}var o=n(2),i=n(84);e.exports=r},function(e,t,n){"use strict";var r=n(7),o=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(12),a=n(6),s=n(43),l=n(103),c=n(104),u=n(1),p=function(e,t){return{key:e.getKey(),text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:c(e),entityRanges:l(e,t),data:e.getData().toObject()}},d=function(e,t,n,r){if(e instanceof i)return void n.push(p(e,t));e instanceof a||u(!1,"block is not a BlockNode");var s=e.getParentKey(),l=r[e.getKey()]=o({},p(e,t),{children:[]});if(s)return void r[s].children.push(l);n.push(l)},f=function(e,t){var n=t.entityMap,r=[],o={},i={},a=0;return e.getBlockMap().forEach(function(e){e.findEntityRanges(function(e){return null!==e.getEntity()},function(t){var r=e.getEntityAt(t),o=s.stringify(r);i[o]||(i[o]=r,n[o]=""+a,a++)}),d(e,n,r,o)}),{blocks:r,entityMap:n}},m=function(e,t){var n=t.blocks,r=t.entityMap,o={};return Object.keys(r).forEach(function(t,n){var r=e.getEntity(s.unstringify(t));o[n]={type:r.getType(),mutability:r.getMutability(),data:r.getData()}}),{blocks:n,entityMap:o}},g=function(e){var t={entityMap:{},blocks:[]};return t=f(e,t),t=m(e,t)};e.exports=g},function(e,t,n){"use strict";var r=n(7),o=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(12),a=n(6),s=n(25),l=n(22),c=n(11),u=n(80),p=n(2),d=n(15),f=n(88),m=n(89),g=n(90),h=n(10),v=n(1),y=c.draft_tree_data_support,_=p.List,b=p.Map,S=p.OrderedMap,C=function(e,t){var n=e.key,r=e.type,o=e.data;return{text:e.text,depth:e.depth||0,type:r||"unstyled",key:n||h(),data:b(o),characterList:w(e,t)}},w=function(e,t){var n=e.text,r=e.entityRanges,i=e.inlineStyleRanges,a=r||[];return f(g(n,i||[]),m(n,a.filter(function(e){return t.hasOwnProperty(e.key)}).map(function(e){return o({},e,{key:t[e.key]})})))},E=function(e){return o({},e,{key:e.key||h()})},T=function(e,t,n){var r=t.map(function(e){return o({},e,{parentRef:n})});return e.concat(r.reverse())},k=function(e,t){return e.map(E).reduce(function(n,r,i){Array.isArray(r.children)||v(!1,"invalid RawDraftContentBlock can not be converted to ContentBlockNode");var s=r.children.map(E),l=new a(o({},C(r,t),{prevSibling:0===i?null:e[i-1].key,nextSibling:i===e.length-1?null:e[i+1].key,children:_(s.map(function(e){return e.key}))}));n=n.set(l.getKey(),l);for(var c=T([],s,l);c.length>0;){var u=c.pop(),p=u.parentRef,d=p.getChildKeys(),f=d.indexOf(u.key),m=Array.isArray(u.children);if(!m){m||v(!1,"invalid RawDraftContentBlock can not be converted to ContentBlockNode");break}var g=u.children.map(E),h=new a(o({},C(u,t),{parent:p.getKey(),children:_(g.map(function(e){return e.key})),prevSibling:0===f?null:d.get(f-1),nextSibling:f===d.size-1?null:d.get(f+1)}));n=n.set(h.getKey(),h),c=T(c,g,h)}return n},S())},x=function(e,t){return S(e.map(function(e){var n=new i(C(e,t));return[n.getKey(),n]}))},O=function(e,t){var n=Array.isArray(e.blocks[0].children),r=y&&!n?u.fromRawStateToRawTreeState(e).blocks:e.blocks;return y?k(r,t):x(n?u.fromRawTreeStateToRawState(e).blocks:r,t)},D=function(e){var t=e.entityMap,n={};return Object.keys(t).forEach(function(e){var r=t[e],o=r.type,i=r.mutability,a=r.data;n[e]=l.__create(o,i,a||{})}),n},M=function(e){Array.isArray(e.blocks)||v(!1,"invalid RawDraftContentState");var t=D(e),n=O(e,t),r=n.isEmpty()?new d:d.createEmpty(n.first().getKey());return new s({blockMap:n,entityMap:t,selectionBefore:r,selectionAfter:r})};e.exports=M},function(e,t,n){"use strict";function r(e,t){return a(e.map(function(e,n){var r=t[n];return o.create({style:e,entity:r})}))}var o=n(5),i=n(2),a=i.List;e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=Array(e.length).fill(null);return t&&t.forEach(function(t){for(var r=i(e,0,t.offset).length,o=r+i(e,t.offset,t.length).length,a=r;a<o;a++)n[a]=t.key}),n}var o=n(13),i=o.substr;e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=Array(e.length).fill(l);return t&&t.forEach(function(t){for(var r=s(e,0,t.offset).length,o=r+s(e,t.offset,t.length).length;r<o;)n[r]=n[r].add(t.style),r++}),n}var o=n(2),i=o.OrderedSet,a=n(13),s=a.substr,l=i();e.exports=r},function(e,t,n){(function(t){"use strict";function r(e){return g&&("'"==e||"/"==e)}function o(e,t,n,r){var o=s.replaceText(e.getCurrentContent(),e.getSelection(),t,n,r);return l.push(e,o,"insert-characters")}function i(e,n){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var i=e._latestEditorState,s=n.data;if(s){if(e.props.handleBeforeInput&&p(e.props.handleBeforeInput(s,i)))return void n.preventDefault();var c=i.getSelection(),g=c.getStartOffset(),h=c.getEndOffset(),v=c.getAnchorKey();if(!c.isCollapsed()){n.preventDefault();return void(s===i.getCurrentContent().getPlainText().slice(g,h)?e.update(l.forceSelection(i,c.merge({focusOffset:h}))):e.update(o(i,s,i.getCurrentInlineStyle(),u(i.getCurrentContent(),i.getSelection()))))}var y=o(i,s,i.getCurrentInlineStyle(),u(i.getCurrentContent(),i.getSelection())),_=!1;if(_||(_=d(e._latestCommittedEditorState)),!_){var b=t.getSelection();if(b.anchorNode&&b.anchorNode.nodeType===Node.TEXT_NODE){var S=b.anchorNode.parentNode;_="SPAN"===S.nodeName&&S.firstChild.nodeType===Node.TEXT_NODE&&S.firstChild.nodeValue.indexOf("\t")!==-1}}if(!_){_=a.getFingerprint(i.getBlockTree(v))!==a.getFingerprint(y.getBlockTree(v))}if(_||(_=r(s)),_||(_=f(y.getDirectionMap()).get(v)!==f(i.getDirectionMap()).get(v)),_)return n.preventDefault(),void e.update(y);y=l.set(y,{nativelyRenderedContent:y.getCurrentContent()}),e._pendingStateFromBeforeInput=y,m(function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)})}}var a=n(38),s=n(4),l=n(3),c=n(9),u=n(29),p=n(19),d=n(56),f=n(8),m=function(e){window.setTimeout(e,0)},g=c.isBrowser("Firefox");e.exports=i}).call(t,(function(){return this})())},function(e,t,n){(function(t){"use strict";function r(e,n){if(a()===document.body){var r=t.getSelection(),s=e.editor;1===r.rangeCount&&i(s,r.anchorNode)&&i(s,r.focusNode)&&r.removeAllRanges()}var l=e._latestEditorState,c=l.getSelection();if(c.getHasFocus()){var u=c.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(n),e.update(o.acceptSelection(l,u))}}var o=n(3),i=n(35),a=n(63);e.exports=r}).call(t,(function(){return this})())},function(e,t,n){"use strict";function r(e,t){e.setMode("composite"),e.update(o.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}var o=n(3);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(e._latestEditorState.getSelection().isCollapsed())return void t.preventDefault();e.setClipboard(o(e._latestEditorState))}var o=n(48);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=e._latestEditorState,r=n.getSelection(),i=t.target,a=void 0;if(r.isCollapsed())return void t.preventDefault();i instanceof Node&&(a=c(s.getScrollParent(i)));var u=l(n);e.setClipboard(u),e.setMode("cut"),setTimeout(function(){e.restoreEditorDOM(a),e.exitCurrentMode(),e.update(o(n))},0)}function o(e){var t=i.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return a.push(e,t,"remove-range")}var i=n(4),a=n(3),s=n(33),l=n(48),c=n(37);e.exports=r},function(e,t){"use strict";function n(e,t){e._internalDrag=!1,e.setMode("drag"),t.preventDefault()}e.exports=n},function(e,t){"use strict";function n(e){e._internalDrag=!0,e.setMode("drag")}e.exports=n},function(e,t,n){"use strict";function r(e,t){var n=e._latestEditorState,r=n.getSelection();if(!r.getHasFocus()){var a=r.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),i.isBrowser("Chrome < 60.0.3081.0")?e.update(o.forceSelection(n,a)):e.update(o.acceptSelection(n,a))}}var o=n(3),i=n(9);e.exports=r},function(e,t,n){(function(t){"use strict";function r(e){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)
;var n=t.getSelection(),r=n.anchorNode,l=n.isCollapsed,d=r.nodeType!==Node.TEXT_NODE,f=r.nodeType!==Node.TEXT_NODE&&r.nodeType!==Node.ELEMENT_NODE;if(o.draft_killswitch_allow_nontextnodes){if(d)return}else if(f)return;if(r.nodeType===Node.TEXT_NODE&&(null!==r.previousSibling||null!==r.nextSibling)){var m=r.parentNode;r.nodeValue=m.textContent;for(var g=m.firstChild;null!==g;g=g.nextSibling)g!==r&&m.removeChild(g)}var h=r.textContent,v=e._latestEditorState,y=u(c(r)),_=a.decode(y),b=_.blockKey,S=_.decoratorKey,C=_.leafKey,w=v.getBlockTree(b).getIn([S,"leaves",C]),E=w.start,T=w.end,k=v.getCurrentContent(),x=k.getBlockForKey(b),O=x.getText().slice(E,T);if(h.endsWith("\n\n")&&(h=h.slice(0,-1)),h!==O){var D,M,F,L,N=v.getSelection(),R=N.merge({anchorOffset:E,focusOffset:T,isBackward:!1}),P=x.getEntityAt(E),A=P&&k.getEntity(P),I=A&&A.getMutability(),B="MUTABLE"===I,K=B?"spellcheck-change":"apply-entity",U=i.replaceText(k,R,h,x.getInlineStyleAt(E),B?x.getEntityAt(E):null);if(p)D=n.anchorOffset,M=n.focusOffset,F=E+Math.min(D,M),L=F+Math.abs(D-M),D=F,M=L;else{var j=h.length-O.length;F=N.getStartOffset(),L=N.getEndOffset(),D=l?L+j:F,M=L+j}var H=U.merge({selectionBefore:k.getSelectionAfter(),selectionAfter:N.merge({anchorOffset:D,focusOffset:M})});e.update(s.push(v,H,K))}}var o=n(11),i=n(4),a=n(23),s=n(3),l=n(9),c=n(28),u=n(8),p=l.isEngine("Gecko");e.exports=r}).call(t,(function(){return this})())},function(e,t,n){"use strict";function r(e,t){switch(e){case"redo":return a.redo(t);case"delete":return _(t);case"delete-word":return m(t);case"backspace":return y(t);case"backspace-word":return f(t);case"backspace-to-start-of-line":return d(t);case"split-block":return g(t);case"transpose-characters":return b(t);case"move-selection-to-start-of-block":return v(t);case"move-selection-to-end-of-block":return h(t);case"secondary-cut":return c.cut(t);case"secondary-paste":return c.paste(t);default:return t}}function o(e,t){var n=t.which,o=e._latestEditorState;switch(n){case l.RETURN:if(t.preventDefault(),e.props.handleReturn&&p(e.props.handleReturn(t,o)))return;break;case l.ESC:return t.preventDefault(),void(e.props.onEscape&&e.props.onEscape(t));case l.TAB:return void(e.props.onTab&&e.props.onTab(t));case l.UP:return void(e.props.onUpArrow&&e.props.onUpArrow(t));case l.RIGHT:return void(e.props.onRightArrow&&e.props.onRightArrow(t));case l.DOWN:return void(e.props.onDownArrow&&e.props.onDownArrow(t));case l.LEFT:return void(e.props.onLeftArrow&&e.props.onLeftArrow(t));case l.SPACE:if(w&&C(t)){t.preventDefault();var s=i.replaceText(o.getCurrentContent(),o.getSelection(),"");return void e.update(a.push(o,s,"insert-characters"))}}var c=e.props.keyBindingFn(t);if(c){if("undo"===c)return void S(t,o,e.update);if(t.preventDefault(),!e.props.handleKeyCommand||!p(e.props.handleKeyCommand(c,o))){var u=r(c,o);u!==o&&e.update(u)}}}var i=n(4),a=n(3),s=n(27),l=n(32),c=n(82),u=n(9),p=n(19),d=n(113),f=n(114),m=n(115),g=n(116),h=n(117),v=n(118),y=n(119),_=n(120),b=n(121),S=n(122),C=s.isOptionKeyCommand,w=u.isBrowser("Chrome");e.exports=o},function(e,t,n){"use strict";function r(e,t){t.preventDefault();var n=new l(t.clipboardData);if(!n.isRichText()){var r=n.getFiles(),v=n.getText();if(r.length>0){if(e.props.handlePastedFiles&&g(e.props.handlePastedFiles(r)))return;return void m(r,function(t){if(t=t||v){var n=e._latestEditorState,r=h(t),o=s.create({style:n.getCurrentInlineStyle(),entity:f(n.getCurrentContent(),n.getSelection())}),i=d.getCurrentBlockType(n),l=u.processText(r,o,i),m=a.createFromArray(l),g=c.replaceWithFragment(n.getCurrentContent(),n.getSelection(),m);e.update(p.push(n,g,"insert-fragment"))}})}}var y=[],_=n.getText(),b=n.getHTML(),S=e._latestEditorState;if(!e.props.handlePastedText||!g(e.props.handlePastedText(_,b,S))){if(_&&(y=h(_)),!e.props.stripPastedStyles){var C=e.getClipboard();if(n.isRichText()&&C){if(b.indexOf(e.getEditorKey())!==-1||1===y.length&&1===C.size&&C.first().getText()===_)return void e.update(o(e._latestEditorState,C))}else if(C&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&i(y,C))return void e.update(o(e._latestEditorState,C));if(b){var w=u.processHTML(b,e.props.blockRenderMap);if(w){var E=w.contentBlocks,T=w.entityMap;if(E){var k=a.createFromArray(E);return void e.update(o(e._latestEditorState,k,T))}}}e.setClipboard(null)}if(y.length){var x=s.create({style:S.getCurrentInlineStyle(),entity:f(S.getCurrentContent(),S.getSelection())}),O=d.getCurrentBlockType(S),D=u.processText(y,x,O),M=a.createFromArray(D);e.update(o(e._latestEditorState,M))}}}function o(e,t,n){var r=c.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return p.push(e,r.set("entityMap",n),"insert-fragment")}function i(e,t){return e.length===t.size&&t.valueSeq().every(function(t,n){return t.getText()===e[n]})}var a=n(17),s=n(5),l=n(60),c=n(4),u=n(79),p=n(3),d=n(44),f=n(29),m=n(53),g=n(19),h=n(128);e.exports=r},function(e,t,n){"use strict";function r(e){if(!e._blockSelectEvents&&e._latestEditorState===e.props.editorState){var t=e.props.editorState,n=i.findDOMNode(e.editorContainer);n||s(!1,"Missing editorNode"),n.firstChild instanceof HTMLElement||s(!1,"editorNode.firstChild is not an HTMLElement");var r=a(t,n.firstChild),l=r.selectionState;l!==t.getSelection()&&(t=r.needsRecovery?o.forceSelection(t,l):o.acceptSelection(t,l),e.update(t))}}var o=n(3),i=n(21),a=n(107),s=n(1);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=[];return e.findEntityRanges(function(e){return!!e.getEntity()},function(r,i){var s=e.getText(),l=e.getEntityAt(r);n.push({offset:a(s.slice(0,r)),length:a(s.slice(r,i)),key:Number(t[o.stringify(l)])})}),n}var o=n(43),i=n(13),a=i.strlen;e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=[];return a(t.map(function(e){return e.has(n)}).toList(),s,l,function(t,o){var a=e.getText();r.push({offset:i.strlen(a.slice(0,t)),length:i.strlen(a.slice(t,o)),style:n})}),r}function o(e){var t=e.getCharacterList().map(function(e){return e.getStyle()}).toList(),n=t.flatten().toSet().map(function(n){return r(e,t,n)});return Array.prototype.concat.apply(c,n.toJS())}var i=n(13),a=n(18),s=function(e,t){return e===t},l=function(e){return!!e},c=[];e.exports=o},function(e,t,n){"use strict";function r(e){var t=getComputedStyle(e),n=document.createElement("div");n.style.fontFamily=t.fontFamily,n.style.fontSize=t.fontSize,n.style.fontStyle=t.fontStyle,n.style.fontWeight=t.fontWeight,n.style.lineHeight=t.lineHeight,n.style.position="absolute",n.textContent="M";var r=document.body;r||c(!1,"Missing document.body"),r.appendChild(n);var o=n.getBoundingClientRect();return r.removeChild(n),o.height}function o(e,t){for(var n=1/0,r=1/0,o=-(1/0),i=-(1/0),a=0;a<e.length;a++){var s=e[a];0!==s.width&&1!==s.width&&(n=Math.min(n,s.top),r=Math.min(r,s.bottom),o=Math.max(o,s.top),i=Math.max(i,s.bottom))}return o<=r&&o-n<t&&i-r<t}function i(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}function a(e){e.collapsed||c(!1,"expandRangeToStartOfLine: Provided range is not collapsed."),e=e.cloneRange();var t=e.startContainer;1!==t.nodeType&&(t=t.parentNode);var n=r(t),a=e.endContainer,u=e.endOffset;for(e.setStart(e.startContainer,0);o(l(e),n)&&(a=e.startContainer,u=e.startOffset,a.parentNode||c(!1,"Found unexpected detached subtree when traversing."),e.setStartBefore(a),1!==a.nodeType||"inline"===getComputedStyle(a).display););for(var p=a,d=u-1;;){for(var f=p.nodeValue,m=d;m>=0;m--)if(!(null!=f&&m>0&&s.isSurrogatePair(f,m-1))){if(e.setStart(p,m),!o(l(e),n))break;a=p,u=m}if(m===-1||0===p.childNodes.length)break;p=p.childNodes[m],d=i(p)}return e.setStart(a,u),e}var s=n(13),l=n(50),c=n(1);e.exports=a},function(e,t,n){"use strict";function r(e,t,n,r,i){var a=r.getStartOffset(),s=r.getEndOffset(),l=t.getEntityAt(a),c=n.getEntityAt(s-1);if(!l&&!c)return r;var u=r;if(l&&l===c)u=o(e,t,u,i,l,!0,!0);else if(l&&c){var p=o(e,t,u,i,l,!1,!0),d=o(e,n,u,i,c,!1,!1);u=u.merge({anchorOffset:p.getAnchorOffset(),focusOffset:d.getFocusOffset(),isBackward:!1})}else if(l){var f=o(e,t,u,i,l,!1,!0);u=u.merge({anchorOffset:f.getStartOffset(),isBackward:!1})}else if(c){var m=o(e,n,u,i,c,!1,!1);u=u.merge({focusOffset:m.getEndOffset(),isBackward:!1})}return u}function o(e,t,n,r,o,l,c){var u=n.getStartOffset(),p=n.getEndOffset(),d=e.__get(o),f=d.getMutability(),m=c?u:p;if("MUTABLE"===f)return n;var g=a(t,o).filter(function(e){return m<=e.end&&m>=e.start});1!=g.length&&s(!1,"There should only be one entity range within this removal range.");var h=g[0];if("IMMUTABLE"===f)return n.merge({anchorOffset:h.start,focusOffset:h.end,isBackward:!1});l||(c?p=h.end:u=h.start);var v=i.getRemovalRange(u,p,t.getText().slice(h.start,h.end),h.start,r);return n.merge({anchorOffset:v.start,focusOffset:v.end,isBackward:!1})}var i=n(76),a=n(109),s=n(1);e.exports=r},function(e,t,n){(function(t){"use strict";function r(e,n){var r=t.getSelection();return 0===r.rangeCount?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:o(e,n,r.anchorNode,r.anchorOffset,r.focusNode,r.focusOffset)}var o=n(47);e.exports=r}).call(t,(function(){return this})())},function(e,t,n){"use strict";function r(e){var t=o(e),n=0,r=0,i=0,a=0;if(t.length){if(t.length>1&&0===t[0].width){var s=t[1];n=s.top,r=s.right,i=s.bottom,a=s.left}else{var l=t[0];n=l.top,r=l.right,i=l.bottom,a=l.left}for(var c=1;c<t.length;c++){var u=t[c];0!==u.height&&0!==u.width&&(n=Math.min(n,u.top),r=Math.max(r,u.right),i=Math.max(i,u.bottom),a=Math.min(a,u.left))}}return{top:n,right:r,bottom:i,left:a,width:r-a,height:i-n}}var o=n(50);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=[];return e.findEntityRanges(function(e){return e.getEntity()===t},function(e,t){n.push({start:e,end:t})}),n.length||o(!1,"Entity key not found in this range."),n}var o=n(1);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection();if(!t.rangeCount)return null;var n=t.getRangeAt(0),r=o(n),i=r.top,a=r.right,s=r.bottom,l=r.left;return 0===i&&0===a&&0===s&&0===l?null:r}var o=n(108);e.exports=r},function(e,t,n){"use strict";var r=n(17),o=n(6),i=n(2),a=n(55),s=n(1),l=n(58),c=i.List,u=function(e,t,n,r,o,i){var s=n.get(o),l=s.getText(),c=s.getCharacterList(),u=o,p=i+r.getText().length,d=s.merge({text:l.slice(0,i)+r.getText()+l.slice(i),characterList:a(c,r.getCharacterList(),i),data:r.getData()});return e.merge({blockMap:n.set(o,d),selectionBefore:t,selectionAfter:t.merge({anchorKey:u,anchorOffset:p,focusKey:u,focusOffset:p,isBackward:!1})})},p=function(e,t,n){var r=e.getText(),o=e.getCharacterList(),i=r.slice(0,t),a=o.slice(0,t),s=n.first();return e.merge({text:i+s.getText(),characterList:a.concat(s.getCharacterList()),type:i?e.getType():s.getType(),data:s.getData()})},d=function(e,t,n){var r=e.getText(),o=e.getCharacterList(),i=r.length,a=r.slice(t,i),s=o.slice(t,i),l=n.last();return l.merge({text:l.getText()+a,characterList:l.getCharacterList().concat(s),data:l.getData()})},f=function(e,t){var n=e.getKey(),r=e,o=[];for(t.get(n)&&o.push(n);r&&r.getNextSiblingKey();){var i=r.getNextSiblingKey();if(!i)break;o.push(i),r=t.get(i)}return o},m=function(e,t,n,r){return e.withMutations(function(t){var o=n.getKey(),i=r.getKey(),a=n.getNextSiblingKey(),s=n.getParentKey(),l=f(r,e),u=l[l.length-1];if(t.get(i)?(t.setIn([o,"nextSibling"],i),t.setIn([i,"prevSibling"],o)):(t.setIn([o,"nextSibling"],r.getNextSiblingKey()),t.setIn([r.getNextSiblingKey(),"prevSibling"],o)),t.setIn([u,"nextSibling"],a),a&&t.setIn([a,"prevSibling"],u),l.forEach(function(e){return t.setIn([e,"parent"],s)}),s){var p=e.get(s),d=p.getChildKeys(),m=d.indexOf(o),g=m+1,h=d.toArray();h.splice.apply(h,[g,0].concat(l)),t.setIn([s,"children"],c(h))}})},g=function(e,t,n,i,a,s){var l=n.first()instanceof o,c=[],u=i.size,f=n.get(a),g=i.first(),h=i.last(),v=h.getLength(),y=h.getKey(),_=l&&(!f.getChildKeys().isEmpty()||!g.getChildKeys().isEmpty());n.forEach(function(e,t){if(t!==a)return void c.push(e);_?c.push(e):c.push(p(e,s,i)),i.slice(_?0:1,u-1).forEach(function(e){return c.push(e)}),c.push(d(e,s,i))});var b=r.createFromArray(c);return l&&(b=m(b,n,f,g)),e.merge({blockMap:b,selectionBefore:t,selectionAfter:t.merge({anchorKey:y,anchorOffset:v,focusKey:y,focusOffset:v,isBackward:!1})})},h=function(e,t,n){t.isCollapsed()||s(!1,"`insertFragment` should only be called with a collapsed selection state.");var r=e.getBlockMap(),i=l(n),a=t.getStartKey(),c=t.getStartOffset(),p=r.get(a);return p instanceof o&&(p.getChildKeys().isEmpty()||s(!1,"`insertFragment` should not be called when a container node is selected.")),1===i.size?u(e,t,r,i.first(),a,c):g(e,t,r,i,a,c)};e.exports=h},function(e,t,n){"use strict";function r(e,t,n,r){t.isCollapsed()||a(!1,"`insertText` should only be called with a collapsed range.");var o=n.length;if(!o)return e;var l=e.getBlockMap(),c=t.getStartKey(),u=t.getStartOffset(),p=l.get(c),d=p.getText(),f=p.merge({text:d.slice(0,u)+n+d.slice(u,p.getLength()),characterList:i(p.getCharacterList(),s(r,o).toList(),u)}),m=u+o;return e.merge({blockMap:l.set(c,f),selectionAfter:t.merge({anchorOffset:m,focusOffset:m})})}var o=n(2),i=n(55),a=n(1),s=o.Repeat;e.exports=r},function(e,t,n){(function(t){"use strict";function r(e){var n=l(e,function(e){var n=e.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return s(e,1);var r=t.getSelection(),o=r.getRangeAt(0);return o=i(o),a(e,null,o.endContainer,o.endOffset,o.startContainer,o.startOffset).selectionState},"backward");return n===e.getCurrentContent()?e:o.push(e,n,"remove-range")}var o=n(3),i=n(105),a=n(47),s=n(30),l=n(20);e.exports=r}).call(t,(function(){return this})())},function(e,t,n){"use strict";function r(e){var t=s(e,function(e){var t=e.getSelection(),n=t.getStartOffset();if(0===n)return a(e,1);var r=t.getStartKey(),i=e.getCurrentContent(),s=i.getBlockForKey(r).getText().slice(0,n);return a(e,o.getBackward(s).length||1)},"backward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}var o=n(42),i=n(3),a=n(30),s=n(20);e.exports=r},function(e,t,n){"use strict";function r(e){var t=s(e,function(e){var t=e.getSelection(),n=t.getStartOffset(),r=t.getStartKey(),i=e.getCurrentContent(),s=i.getBlockForKey(r).getText().slice(n);return a(e,o.getForward(s).length||1)},"forward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}var o=n(42),i=n(3),a=n(57),s=n(20);e.exports=r},function(e,t,n){"use strict";function r(e){var t=o.splitBlock(e.getCurrentContent(),e.getSelection());return i.push(e,t,"split-block")}var o=n(4),i=n(3);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection(),n=t.getEndKey(),r=e.getCurrentContent(),i=r.getBlockForKey(n).getLength();return o.set(e,{selection:t.merge({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i,isBackward:!1}),forceSelection:!0})}var o=n(3);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection(),n=t.getStartKey();return o.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}var o=n(3);e.exports=r},function(e,t,n){"use strict";function r(e){var t=s(e,function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),o=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[o-1];return a(e,s?i.getUTF16Length(s,0):1)},"backward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return o.push(e,t.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}var o=n(3),i=n(13),a=n(30),s=n(20);e.exports=r},function(e,t,n){"use strict";function r(e){var t=s(e,function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),o=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[o];return a(e,s?i.getUTF16Length(s,0):1)},"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return o.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}var o=n(3),i=n(13),a=n(57),s=n(20);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(0===n)return e;var r=t.getAnchorKey(),s=e.getCurrentContent(),l=s.getBlockForKey(r),c=l.getLength();if(c<=1)return e;var u,p;n===c?(u=t.set("anchorOffset",n-1),p=t):(u=t.set("focusOffset",n+1),p=u.set("anchorOffset",n+1));var d=a(s,u),f=o.removeRange(s,u,"backward"),m=f.getSelectionAfter(),g=m.getAnchorOffset()-1,h=m.merge({anchorOffset:g,focusOffset:g}),v=o.replaceWithFragment(f,h,d),y=i.push(e,v,"insert-fragment");return i.acceptSelection(y,p)}var o=n(4),i=n(3),a=n(24);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=o.undo(t);if("spellcheck-change"===t.getLastChangeType()){var i=r.getCurrentContent();return void n(o.set(r,{nativelyRenderedContent:i}))}if(e.preventDefault(),!t.getNativelyRenderedContent())return void n(r);n(o.set(t,{nativelyRenderedContent:null})),setTimeout(function(){n(r)},0)}var o=n(3);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=t.getStartKey(),o=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil(function(e,t){return t===r}).takeUntil(function(e,t){return t===o}).concat(i([[o,a.get(o)]])).map(n);return e.merge({blockMap:a.merge(s),selectionBefore:t,selectionAfter:t})}var o=n(2),i=o.Map;e.exports=r},function(e,t,n){"use strict";var r=n(6),o=n(2),i=n(49),a=n(1),s=o.OrderedMap,l=o.List,c=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},u=function(e,t,n,r,o){if(!o)return e;var i="after"===r,a=t.getKey(),s=n.getKey(),u=t.getParentKey(),p=t.getNextSiblingKey(),d=t.getPrevSiblingKey(),f=n.getParentKey(),m=i?n.getNextSiblingKey():s,g=i?s:n.getPrevSiblingKey();return e.withMutations(function(e){c(u,e,function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(a))})}),c(d,e,function(e){return e.merge({nextSibling:p})}),c(p,e,function(e){return e.merge({prevSibling:d})}),c(m,e,function(e){return e.merge({prevSibling:a})}),c(g,e,function(e){return e.merge({nextSibling:a})}),c(f,e,function(e){var t=e.getChildKeys(),n=t.indexOf(s),r=i?n+1:0!==n?n-1:0,o=t.toArray();return o.splice(r,0,a),e.merge({children:l(o)})}),c(a,e,function(e){return e.merge({nextSibling:m,prevSibling:g,parent:f})})})},p=function(e,t,n,o){"replace"===o&&a(!1,"Replacing blocks is not supported.");var l=n.getKey(),c=t.getKey();c===l&&a(!1,"Block cannot be moved next to itself.");var p=e.getBlockMap(),d=t instanceof r,f=[t],m=p.delete(c);d&&(f=[],m=p.withMutations(function(e){var n=t.getNextSiblingKey(),r=i(t,e);e.toSeq().skipUntil(function(e){return e.getKey()===c}).takeWhile(function(e){var t=e.getKey(),o=t===c,i=n&&t!==n,a=!n&&e.getParentKey()&&(!r||t!==r);return!!(o||i||a)}).forEach(function(t){f.push(t),e.delete(t.getKey())})}));var g=m.toSeq().takeUntil(function(e){return e===n}),h=m.toSeq().skipUntil(function(e){return e===n}).skip(1),v=f.map(function(e){return[e.getKey(),e]}),y=s();if("before"===o){var _=e.getBlockBefore(l);_&&_.getKey()===t.getKey()&&a(!1,"Block cannot be moved next to itself."),y=g.concat([].concat(v,[[l,n]]),h).toOrderedMap()}else if("after"===o){var b=e.getBlockAfter(l);b&&b.getKey()===c&&a(!1,"Block cannot be moved next to itself."),y=g.concat([[l,n]].concat(v),h).toOrderedMap()}return e.merge({blockMap:u(y,t,n,o,d),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:c,focusKey:c})})};e.exports=p},function(e,t,n){"use strict";var r=n(6),o=n(2),i=n(49),a=(o.List,o.Map),s=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},l=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var o=r.getParentKey();o&&n.push(o),r=o?t.get(o):null}return n},c=function(e,t){var n=[];if(!e)return n;for(var r=i(e,t);r&&t.get(r);){var o=t.get(r);n.push(r),r=o.getParentKey()?i(o,t):null}return n},u=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},p=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},d=function(e,t,n,r){return e.withMutations(function(e){s(t.getKey(),e,function(n){return n.merge({nextSibling:u(t,e,r),prevSibling:p(t,e,r)})}),s(n.getKey(),e,function(t){return t.merge({nextSibling:u(n,e,r),prevSibling:p(n,e,r)})}),l(t.getKey(),r).forEach(function(t){return s(t,e,function(t){return t.merge({children:t.getChildKeys().filter(function(t){return e.get(t)}),nextSibling:u(t,e,r),prevSibling:p(t,e,r)})})}),s(t.getNextSiblingKey(),e,function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})}),s(t.getPrevSiblingKey(),e,function(n){return n.merge({nextSibling:u(t,e,r)})}),s(n.getNextSiblingKey(),e,function(t){return t.merge({prevSibling:p(n,e,r)})}),s(n.getPrevSiblingKey(),e,function(e){return e.merge({nextSibling:n.getNextSiblingKey()})}),l(n.getKey(),r).forEach(function(t){s(t,e,function(t){return t.merge({children:t.getChildKeys().filter(function(t){return e.get(t)}),nextSibling:u(t,e,r),prevSibling:p(t,e,r)})})}),c(n,r).forEach(function(t){return s(t,e,function(t){return t.merge({nextSibling:u(t,e,r),prevSibling:p(t,e,r)})})})})},f=function(e,t){if(t.isCollapsed())return e;var n=e.getBlockMap(),o=t.getStartKey(),s=t.getStartOffset(),c=t.getEndKey(),u=t.getEndOffset(),p=n.get(o),f=n.get(c),g=p instanceof r,h=[];if(g){var v=f.getChildKeys(),y=l(c,n);f.getNextSiblingKey()&&(h=h.concat(y)),v.isEmpty()||(h=h.concat(y.concat([c]))),h=h.concat(l(i(f,n),n))}var _=void 0;_=p===f?m(p.getCharacterList(),s,u):p.getCharacterList().slice(0,s).concat(f.getCharacterList().slice(u));var b=p.merge({text:p.getText().slice(0,s)+f.getText().slice(u),characterList:_}),S=n.toSeq().skipUntil(function(e,t){return t===o}).takeUntil(function(e,t){return t===c}).filter(function(e,t){return h.indexOf(t)===-1}).concat(a([[c,null]])).map(function(e,t){return t===o?b:null}),C=n.merge(S).filter(function(e){return!!e});return g&&(C=d(C,p,f,n)),e.merge({blockMap:C,selectionBefore:t,selectionAfter:t.merge({anchorKey:o,anchorOffset:s,focusKey:o,focusOffset:s,isBackward:!1})})},m=function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),o=e.slice(n);e=r.concat(o).toList()}return e};e.exports=f},function(e,t,n){(function(t){"use strict";function r(e,t){if(!e)return"[empty]";var n=o(e,t);return n.nodeType===Node.TEXT_NODE?n.textContent:(n instanceof Element||f(!1,"Node must be an Element if it is not a text node."),n.outerHTML)}function o(e,t){var n=void 0!==t?t(e):[];if(e.nodeType===Node.TEXT_NODE){var r=e.textContent.length;return document.createTextNode("[text "+r+(n.length?" | "+n.join(", "):"")+"]")}var i=e.cloneNode();1===i.nodeType&&n.length&&i.setAttribute("data-labels",n.join(", "));for(var a=e.childNodes,s=0;s<a.length;s++)i.appendChild(o(a[s],t));return i}function i(e,t){for(var n=e;n;){if(n instanceof Element&&n.hasAttribute("contenteditable"))return r(n,t);n=n.parentNode}return"Could not find contentEditable parent of node"}function a(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function s(e,n,r,o,i){if(p(document.documentElement,n)){var a=t.getSelection(),s=e.getAnchorKey(),u=e.getAnchorOffset(),d=e.getFocusKey(),f=e.getFocusOffset(),m=e.getIsBackward();if(!a.extend&&m){var g=s,h=u;s=d,u=f,d=g,f=h,m=!1}var v=s===r&&o<=u&&i>=u,y=d===r&&o<=f&&i>=f;if(v&&y)return a.removeAllRanges(),c(a,n,u-o,e),void l(a,n,f-o,e);if(m){if(y&&(a.removeAllRanges(),c(a,n,f-o,e)),v){var _=a.focusNode,b=a.focusOffset;a.removeAllRanges(),c(a,n,u-o,e),l(a,_,b,e)}}else v&&(a.removeAllRanges(),c(a,n,u-o,e)),y&&l(a,n,f-o,e)}}function l(e,t,n,r){var o=d();if(e.extend&&p(o,t)){n>a(t)&&u.logSelectionStateFailure({anonymizedDom:i(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())});var s=t===e.focusNode;try{e.extend(t,n)}catch(a){throw u.logSelectionStateFailure({anonymizedDom:i(t,function(t){var n=[];return t===o&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n}),extraParams:JSON.stringify({activeElementName:o?o.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:s,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:a?""+a:null,offset:n},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),a}}else{var l=e.getRangeAt(0);l.setEnd(t,n),e.addRange(l.cloneRange())}}function c(e,t,n,r){var o=document.createRange();n>a(t)&&u.logSelectionStateFailure({anonymizedDom:i(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())}),o.setStart(t,n),e.addRange(o)}var u=n(78),p=n(35),d=n(63),f=n(1);e.exports=s}).call(t,(function(){return this})())},function(e,t,n){"use strict";var r=n(6),o=n(2),i=n(10),a=n(1),s=o.List,l=o.Map,c=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},u=function(e,t,n){return e.withMutations(function(e){var r=t.getKey(),o=n.getKey();c(t.getParentKey(),e,function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,i=t.toArray();return i.splice(n,0,o),e.merge({children:s(i)})}),c(t.getNextSiblingKey(),e,function(e){return e.merge({prevSibling:o})}),c(r,e,function(e){return e.merge({nextSibling:o})}),c(o,e,function(e){return e.merge({prevSibling:r})})})},p=function(e,t){t.isCollapsed()||a(!1,"Selection range must be collapsed.");var n=t.getAnchorKey(),o=t.getAnchorOffset(),s=e.getBlockMap(),c=s.get(n),p=c.getText(),d=c.getCharacterList(),f=i(),m=c instanceof r,g=c.merge({text:p.slice(0,o),characterList:d.slice(0,o)}),h=g.merge({key:f,text:p.slice(o),characterList:d.slice(o),data:l()}),v=s.toSeq().takeUntil(function(e){return e===c}),y=s.toSeq().skipUntil(function(e){return e===c}).rest(),_=v.concat([[n,g],[f,h]],y).toOrderedMap();return m&&(c.getChildKeys().isEmpty()||a(!1,"ContentBlockNode must not have children"),_=u(_,g,h)),e.merge({blockMap:_,selectionBefore:t,selectionAfter:t.merge({anchorKey:f,anchorOffset:0,focusKey:f,focusOffset:0,isBackward:!1})})};e.exports=p},function(e,t){"use strict";function n(e){return e.split(/\r\n?|\n/g)}e.exports=n},function(e,t){"use strict";function n(e){return e.split("/")}var r={isImage:function(e){return"image"===n(e)[0]},isJpeg:function(e){var t=n(e);return r.isImage(e)&&("jpeg"===t[1]||"pjpeg"===t[1])}};e.exports=r},function(e,t){"use strict";e.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;-----------]"}}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=(function(){function e(t){n(this,e),this._uri=t}return e.prototype.toString=function(){return this._uri},e})();e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(62),i=n(34),a=n(1),s=(function(){function e(t){r(this,e),t?i.isStrong(t)||a(!1,"Default direction must be a strong direction (LTR or RTL)"):t=i.getGlobalDir(),this._defaultDir=t,this.reset()}return e.prototype.reset=function(){this._lastDir=this._defaultDir},e.prototype.getDirection=function(e){return this._lastDir=o.getDirection(e,this._lastDir),this._lastDir},e})();e.exports=s},function(e,t,n){"use strict";function r(e){return s[e]||e}function o(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}var i=n(152),a="Unknown",s={"Mac OS":"Mac OS X"},l=new i,c=l.getResult(),u=o(c.browser.version),p={browserArchitecture:c.cpu.architecture||a,browserFullVersion:c.browser.version||a,browserMinorVersion:u.minor||a,browserName:c.browser.name||a,browserVersion:c.browser.major||a,deviceName:c.device.model||a,engineName:c.engine.name||a,engineVersion:c.engine.version||a,platformArchitecture:c.cpu.architecture||a,platformName:r(c.os.name)||a,platformVersion:c.os.version||a,platformFullVersion:c.os.version||a};e.exports=p},function(e,t,n){"use strict";function r(e,t){var n=e.split(/\|\|/);return n.length>1?n.some(function(e){return S.contains(e,t)}):(e=n[0].trim(),o(e,t))}function o(e,t){var n=e.split(/\s+\-\s+/);if(n.length>0&&n.length<=2||b(!1,'the "-" operator expects exactly 2 operands'),1===n.length)return i(n[0],t);var r=n[0],o=n[1];return m(r)&&m(o)||b(!1,'operands to the "-" operator must be simple (no modifiers)'),i(">="+r,t)&&i("<="+o,t)}function i(e,t){if(e=e.trim(),""===e)return!0;var n=t.split(/\./),r=d(e),o=r.modifier,i=r.rangeComponents;switch(o){case"<":return a(n,i);case"<=":return s(n,i);case">=":return c(n,i);case">":return u(n,i);case"~":case"~>":return p(n,i);default:return l(n,i)}}function a(e,t){return _(e,t)===-1}function s(e,t){var n=_(e,t);return n===-1||0===n}function l(e,t){return 0===_(e,t)}function c(e,t){var n=_(e,t);return 1===n||0===n}function u(e,t){return 1===_(e,t)}function p(e,t){var n=t.slice(),r=t.slice();r.length>1&&r.pop();var o=r.length-1,i=parseInt(r[o],10);return f(i)&&(r[o]=i+1+""),c(e,n)&&a(e,r)}function d(e){var t=e.split(/\./),n=t[0].match(/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/);return n||b(!1,"expected regex to match but it did not"),{modifier:n[1],rangeComponents:[n[2]].concat(t.slice(1))}}function f(e){return!isNaN(e)&&isFinite(e)}function m(e){return!d(e).modifier}function g(e,t){for(var n=e.length;n<t;n++)e[n]="0"}function h(e,t){e=e.slice(),t=t.slice(),g(e,t.length);for(var n=0;n<t.length;n++){var r=t[n].match(/^[x*]$/i);if(r&&(t[n]=e[n]="0","*"===r[0]&&n===t.length-1))for(var o=n;o<e.length;o++)e[o]="0"}return g(t,e.length),[e,t]}function v(e,t){var n=e.match(/^(\d*)(.*)/)[1],r=t.match(/^(\d*)(.*)/)[1],o=parseInt(n,10),i=parseInt(r,10);return f(o)&&f(i)&&o!==i?y(o,i):y(e,t)}function y(e,t){return typeof e!=typeof t&&b(!1,'"a" and "b" must be of the same type'),e>t?1:e<t?-1:0}function _(e,t){for(var n=h(e,t),r=n[0],o=n[1],i=0;i<o.length;i++){var a=v(r[i],o[i]);if(a)return a}return 0}var b=n(1),S={contains:function(e,t){return r(e.trim(),t.trim())}};e.exports=S},function(e,t){"use strict";function n(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}e.exports=n},function(e,t,n){"use strict";function r(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&a(!1,"toArray: Array-like object expected"),"number"!=typeof t&&a(!1,"toArray: Object needs a length property"),0===t||t-1 in e||a(!1,"toArray: Object should have keys for indices"),"function"==typeof e.callee&&a(!1,"toArray: Object can't be `arguments`. Use rest params (function(...args) {}) or Array.from() instead."),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function o(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return o(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=n(1);e.exports=i},function(e,t){"use strict";function n(e){return e=e||document,e.scrollingElement?e.scrollingElement:r||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}var r="undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=n},function(e,t,n){"use strict";function r(e){var t=o(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}var o=n(139);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e&&o(t,e)))return{left:0,right:0,top:0,bottom:0};var n=e.getBoundingClientRect();return{left:Math.round(n.left)-t.clientLeft,right:Math.round(n.right)-t.clientLeft,top:Math.round(n.top)-t.clientTop,bottom:Math.round(n.bottom)-t.clientTop}}var o=n(35);e.exports=r},function(e,t,n){"use strict";function r(e){return null==e?e:String(e)}function o(e,t){var n=void 0;if(window.getComputedStyle&&(n=window.getComputedStyle(e,null)))return r(n.getPropertyValue(a(t)))
;if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(e,null))return r(n.getPropertyValue(a(t)));if("display"===t)return"none"}return r(e.currentStyle?"float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[i(t)]:e.style&&e.style[i(t)])}var i=n(135),a=n(143);e.exports=o},function(e,t){"use strict";function n(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=n},function(e,t){"use strict";function n(){var e=void 0;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function r(){var e=void 0;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function o(){return{width:window.innerWidth||n(),height:window.innerHeight||r()}}o.withoutScrollbars=function(){return{width:n(),height:r()}},e.exports=o},function(e,t){"use strict";function n(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}e.exports=n},function(e,t){"use strict";function n(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=n(144);e.exports=r},function(e,t){"use strict";function n(e){e||(e="");var t=void 0,n=arguments.length;if(n>1)for(var r=1;r<n;r++)t=arguments[r],t&&(e=(e?e+" ":"")+t);return e}e.exports=n},function(e,t){"use strict";function n(e,t,n){if(!e)return null;var o={};for(var i in e)r.call(e,i)&&(o[i]=t.call(n,e[i],i,e));return o}var r=Object.prototype.hasOwnProperty;e.exports=n},function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=n},function(e,t,n){(function(t){"use strict";n(151),e.exports=t.setImmediate}).call(t,(function(){return this})())},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function a(){g&&f&&(g=!1,f.length?m=f.concat(m):h=-1,m.length&&s())}function s(){if(!g){var e=o(a);g=!0;for(var t=m.length;t;){for(f=m,m=[];++h<t;)f&&f[h].run();h=-1,t=m.length}f=null,g=!1,i(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,p,d=e.exports={};(function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}})();var f,m=[],g=!1,h=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new l(e,t)),1!==m.length||g||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){(function(e,t){(function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return g[m]=r,f(m),m++}function o(e){delete g[e]}function i(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}function a(e){if(h)setTimeout(a,0,e);else{var t=g[e];if(t){h=!0;try{i(t)}finally{o(e),h=!1}}}}function s(){f=function(e){t.nextTick(function(){a(e)})}}function l(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function c(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),f=function(n){e.postMessage(t+n,"*")}}function u(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},f=function(t){e.port2.postMessage(t)}}function p(){var e=v.documentElement;f=function(t){var n=v.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function d(){f=function(e){setTimeout(a,0,e)}}if(!e.setImmediate){var f,m=1,g={},h=!1,v=e.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e,"[object process]"==={}.toString.call(e.process)?s():l()?c():e.MessageChannel?u():v&&"onreadystatechange"in v.createElement("script")?p():d(),y.setImmediate=r,y.clearImmediate=o}})("undefined"==typeof self?void 0===e?this:e:self)}).call(t,(function(){return this})(),n(150))},function(e,t,n){var r;(function(o,i){"use strict";var a="model",s="name",l="type",c="vendor",u="version",p="mobile",d="tablet",f={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"==typeof e&&t.toLowerCase().indexOf(e.toLowerCase())!==-1},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},m={rgx:function(e,t){for(var n,r,o,i,a,s,l=0;l<t.length&&!a;){var c=t[l],u=t[l+1];for(n=r=0;n<c.length&&!a;)if(a=c[n++].exec(e))for(o=0;o<u.length;o++)s=a[++r],i=u[o],"object"==typeof i&&i.length>0?2==i.length?"function"==typeof i[1]?this[i[0]]=i[1].call(this,s):this[i[0]]=i[1]:3==i.length?"function"!=typeof i[1]||i[1].exec&&i[1].test?this[i[0]]=s?s.replace(i[1],i[2]):void 0:this[i[0]]=s?i[1].call(this,s,i[2]):void 0:4==i.length&&(this[i[0]]=s?i[3].call(this,s.replace(i[1],i[2])):void 0):this[i]=s?s:void 0;l+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(f.has(t[n][r],e))return"?"===n?void 0:n}else if(f.has(t[n],e))return"?"===n?void 0:n;return e}},g={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},h={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[s,u],[/(opios)[\/\s]+([\w\.]+)/i],[[s,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[s,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[s,u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[s,"IE"],u],[/(edge)\/((\d+)?[\w\.]+)/i],[s,u],[/(yabrowser)\/([\w\.]+)/i],[[s,"Yandex"],u],[/(puffin)\/([\w\.]+)/i],[[s,"Puffin"],u],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[s,"UCBrowser"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],u],[/(micromessenger)\/([\w\.]+)/i],[[s,"WeChat"],u],[/(QQ)\/([\d\.]+)/i],[s,u],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[s,u],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[u,[s,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[u,[s,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[u,[s,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[s,/(.+)/,"$1 WebView"],u],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[s,/(.+(?:g|us))(.+)/,"$1 $2"],u],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[u,[s,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[s,u],[/(dolfin)\/([\w\.]+)/i],[[s,"Dolphin"],u],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[s,"Chrome"],u],[/(coast)\/([\w\.]+)/i],[[s,"Opera Coast"],u],[/fxios\/([\w\.-]+)/i],[u,[s,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[s,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,s],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[s,"GSA"],u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[s,[u,m.str,g.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[s,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[s,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[s,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",f.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",f.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",f.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[a,c,[l,d]],[/applecoremedia\/[\w\.]+ \((ipad)/],[a,[c,"Apple"],[l,d]],[/(apple\s{0,1}tv)/i],[[a,"Apple TV"],[c,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[c,a,[l,d]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[a,[c,"Amazon"],[l,d]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[a,m.str,g.device.amazon.model],[c,"Amazon"],[l,p]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[a,c,[l,p]],[/\((ip[honed|\s\w*]+);/i],[a,[c,"Apple"],[l,p]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[c,a,[l,p]],[/\(bb10;\s(\w+)/i],[a,[c,"BlackBerry"],[l,p]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[a,[c,"Asus"],[l,d]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[c,"Sony"],[a,"Xperia Tablet"],[l,d]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[a,[c,"Sony"],[l,p]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[c,a,[l,"console"]],[/android.+;\s(shield)\sbuild/i],[a,[c,"Nvidia"],[l,"console"]],[/(playstation\s[34portablevi]+)/i],[a,[c,"Sony"],[l,"console"]],[/(sprint\s(\w+))/i],[[c,m.str,g.device.sprint.vendor],[a,m.str,g.device.sprint.model],[l,p]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[c,a,[l,d]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[c,[a,/_/g," "],[l,p]],[/(nexus\s9)/i],[a,[c,"HTC"],[l,d]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[a,[c,"Huawei"],[l,p]],[/(microsoft);\s(lumia[\s\w]+)/i],[c,a,[l,p]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[a,[c,"Microsoft"],[l,"console"]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[c,"Microsoft"],[l,p]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[a,[c,"Motorola"],[l,p]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[a,[c,"Motorola"],[l,d]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[c,f.trim],[a,f.trim],[l,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[c,"Samsung"],[l,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[a,[c,"Sharp"],[l,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[c,"Samsung"],a,[l,d]],[/smart-tv.+(samsung)/i],[c,[l,"smarttv"],a],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[c,"Samsung"],a,[l,p]],[/sie-(\w+)*/i],[a,[c,"Siemens"],[l,p]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[c,"Nokia"],a,[l,p]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[a,[c,"Acer"],[l,d]],[/android.+([vl]k\-?\d{3})\s+build/i],[a,[c,"LG"],[l,d]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[c,"LG"],a,[l,d]],[/(lg) netcast\.tv/i],[c,a,[l,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[a,[c,"LG"],[l,p]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[a,[c,"Lenovo"],[l,d]],[/linux;.+((jolla));/i],[c,a,[l,p]],[/((pebble))app\/[\d\.]+\s/i],[c,a,[l,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[c,a,[l,p]],[/crkey/i],[[a,"Chromecast"],[c,"Google"]],[/android.+;\s(glass)\s\d/i],[a,[c,"Google"],[l,"wearable"]],[/android.+;\s(pixel c)\s/i],[a,[c,"Google"],[l,d]],[/android.+;\s(pixel xl|pixel)\s/i],[a,[c,"Google"],[l,p]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[a,/_/g," "],[c,"Xiaomi"],[l,p]],[/android.+(mi[\s\-_]*(?:pad)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[a,/_/g," "],[c,"Xiaomi"],[l,d]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[a,[c,"Meizu"],[l,d]],[/android.+a000(1)\s+build/i],[a,[c,"OnePlus"],[l,p]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[a,[c,"RCA"],[l,d]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[a,[c,"Dell"],[l,d]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[a,[c,"Verizon"],[l,d]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[c,"Barnes & Noble"],a,[l,d]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[a,[c,"NuVision"],[l,d]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[c,"ZTE"],a,[l,d]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[a,[c,"Swiss"],[l,p]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[a,[c,"Swiss"],[l,d]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[a,[c,"Zeki"],[l,d]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[c,"Dragon Touch"],a,[l,d]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[a,[c,"Insignia"],[l,d]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[a,[c,"NextBook"],[l,d]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[c,"Voice"],a,[l,p]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[c,"LvTel"],a,[l,p]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[a,[c,"Envizen"],[l,d]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[c,a,[l,d]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[a,[c,"MachSpeed"],[l,d]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[c,a,[l,d]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[a,[c,"Rotor"],[l,d]],[/android.+(KS(.+))\s+build/i],[a,[c,"Amazon"],[l,d]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[c,a,[l,d]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[l,f.lowerize],c,a],[/(android.+)[;\/].+build/i],[a,[c,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[s,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[s,u],[/rv\:([\w\.]+).*(gecko)/i],[u,s]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[s,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[s,[u,m.str,g.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[s,"Windows"],[u,m.str,g.os.windows.version]],[/\((bb)(10);/i],[[s,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[s,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[s,"Symbian"],u],[/\((series40);/i],[s],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[s,"Firefox OS"],u],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[s,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[s,"Chromium OS"],u],[/(sunos)\s?([\w\.]+\d)*/i],[[s,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[s,u],[/(haiku)\s(\w+)/i],[s,u],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[u,/_/g,"."],[s,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[s,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[s,u]]},v=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof v))return new v(e,t).getResult();var n=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),r=t?f.extend(h,t):h;return this.getBrowser=function(){var e={name:void 0,version:void 0};return m.rgx.call(e,n,r.browser),e.major=f.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return m.rgx.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return m.rgx.call(e,n,r.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return m.rgx.call(e,n,r.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return m.rgx.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};v.VERSION="0.7.17",v.BROWSER={NAME:s,MAJOR:"major",VERSION:u},v.CPU={ARCHITECTURE:"architecture"},v.DEVICE={MODEL:a,VENDOR:c,TYPE:l,CONSOLE:"console",MOBILE:p,SMARTTV:"smarttv",TABLET:d,WEARABLE:"wearable",EMBEDDED:"embedded"},v.ENGINE={NAME:s,VERSION:u},v.OS={NAME:s,VERSION:u},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=v),t.UAParser=v):n(153)?(r=function(){return v}.call(t,n,t,e),void 0!==r&&(e.exports=r)):o&&(o.UAParser=v);var y=o&&(o.jQuery||o.Zepto);if(void 0!==y){var _=new v;y.ua=_.getResult(),y.ua.get=function(){return _.getUA()},y.ua.set=function(e){_.setUA(e);var t=_.getResult();for(var n in t)y.ua[n]=t[n]}}})("object"==typeof window?window:this)},function(e,t){(function(t){e.exports=t}).call(t,{})}])}),define("spectrum_comments/folder_overview_editor/components/contextual_toolbar_component",["require","exports","tslib","react","spectrum_comments/comment_editor/core/editor_component","draft-js","spectrum_comments/folder_overview_editor/components/toolbar_component","spectrum_comments/folder_overview_editor/components/popover_component"],function(e,t,n,r,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=(function(e){function t(t){var n=e.call(this,t)||this;return n.openLinkPrompt=function(e){var t=n.createPropsForLinkPrompt();n.triggers.hyperlink.updateLinkPromptProps(t)},n.createPropsForLinkPrompt=function(){var e=n.popoverComponent&&n.popoverComponent.getCachedPosition();return e?e:null},n.setPopoverComponentRef=function(e){n.popoverComponent=e},n}return n.__extends(t,e),t.prototype.getPosition=function(){var e=i.getVisibleSelectionRect(window);return e&&0!==e.width?e:null},t.prototype.renderToolbar=function(){var e=this.container.getStatus().draft.editorState,t=this.localization.folderOverviewToolbar||{};return r.createElement(a.ToolbarComponent,{localization:t},r.createElement(a.ToolbarBoldButton,{localization:t,triggers:{draft:this.triggers.draft}}),r.createElement(a.ToolbarItalicButton,{localization:t,triggers:{draft:this.triggers.draft}}),r.createElement(a.ToolbarStrikeThroughButton,{state:e,localization:t,triggers:{draft:this.triggers.draft}}),r.createElement(a.ToolbarOpenLinkButton,{localization:t,triggers:{draft:this.triggers.draft},onClick:this.openLinkPrompt}),r.createElement(a.ToolbarDivider,null),r.createElement(a.ToolbarUnorderedListButton,{localization:t,state:e,triggers:{draft:this.triggers.draft}}),r.createElement(a.ToolbarOrderedListButton,{localization:t,state:e,triggers:{draft:this.triggers.draft}}))},t.prototype.render=function(){var e=this.status.contextualToolbar.isVisible,t=this.renderToolbar();return r.createElement(s.PopoverComponent,{ref:this.setPopoverComponentRef,popoverWidth:200,className:"sc-contextual-toolbar-popover",scrollClassName:this.props.scrollClassName,computeTargetPosition:this.getPosition,isVisible:e},t)},t})(o.EditorComponent);t.ContextualToolbarComponent=l}),define("spectrum_comments/folder_overview_editor/components/contextual_toolbar_icons",["require","exports","react"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o;(function(e){e.BOLD="BOLD",e.ITALIC="ITALIC",e.STRIKE_THROUGH="STRIKE_THROUGH",e.UNORDERED_LIST="UNORDERED_LIST",e.ORDERED_LIST="ORDERED_LIST",e.LINK="LINK",e.MENTION="MENTION",e.TASK="TASK",e.ONBOARDING="ONBOARDING"})(o=t.ToolbarActionIcon||(t.ToolbarActionIcon={})),t.toolbarSvgIcons=(r={},r[o.BOLD]=function(){return n.createElement("svg",{viewBox:"0 0 20 20"},n.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M12.17,17.475 L8,17.475 L8,6 L12.515,6 C14.48,6 16.055,6.915 16.055,8.79 C16.055,10.185 15.275,11.055 13.955,11.355 L13.955,11.385 C15.395,11.625 16.415,12.765 16.415,14.145 C16.415,16.725 14.48,17.475 12.17,17.475 Z M9.395,10.83 L12.26,10.83 C13.475,10.83 14.6,10.395 14.6,8.925 C14.6,7.68 13.715,7.125 12.44,7.125 L9.395,7.125 L9.395,10.83 Z M9.395,16.35 L12.185,16.35 C13.865,16.35 14.96,15.78 14.96,14.055 C14.96,12.54 13.88,11.985 12.065,11.985 L9.395,11.985 L9.395,16.35 Z",id:"B",stroke:"#FFFFFF",strokeWidth:"0.25",fill:"#FFFFFF"})))},r[o.ITALIC]=function(){return n.createElement("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M10.75 17.75H9L12.5 5.75H14.25L10.75 17.75Z",fill:"#FFFFFF"}))},r[o.STRIKE_THROUGH]=function(){return n.createElement("svg",{viewBox:"0 0 20 20"},n.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M10.1060324,10 L8.51882081,10 C8.46159424,9.74866009 8.435,9.48434783 8.435,9.21 C8.435,7.35 9.965,6 12.32,6 C14.75,6 16.01,7.29 16.115,9.24 L14.69,9.24 C14.555,8.115 13.91,7.11 12.305,7.11 C10.745,7.11 9.905,7.995 9.905,9.09 C9.905,9.44281227 9.9693552,9.74481781 10.1060324,10 Z M16.361,13.5 C16.4288,13.7826 16.46,14.088 16.46,14.415 C16.46,16.515 15.035,17.865 12.29,17.865 C9.635,17.865 8.12,16.44 8,14.415 L9.455,14.415 C9.62,15.645 10.475,16.74 12.32,16.74 C14.36,16.74 15.035,15.75 15.035,14.535 C15.035,14.1387272 14.9484809,13.7905206 14.7542791,13.5 L16.361,13.5 Z",id:"S-2",stroke:"#FFFFFF",strokeWidth:"0.25",fill:"#FFFFFF"}),n.createElement("polygon",{id:"Line-2",fill:"#FFFFFF",fillRule:"nonzero",points:"5 12.5 5 11 20 11 20 12.5"})))},r[o.UNORDERED_LIST]=function(){return n.createElement("svg",{viewBox:"0 0 20 20"},n.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M9,17 L9,15.5 L19.5,15.5 L19.5,17 L9,17 Z M9,12.5 L9,11 L19.5,11 L19.5,12.5 L9,12.5 Z M9,8 L9,6.5 L19.5,6.5 L19.5,8 L9,8 Z",id:"Icon-Fill",fill:"#FFFFFF",fillRule:"nonzero"}),n.createElement("circle",{id:"Oval-2",fill:"#FFFFFF",cx:"5.5",cy:"7.25",r:"1.5"}),n.createElement("circle",{id:"Oval-2",fill:"#FFFFFF",cx:"5.5",cy:"11.75",r:"1.5"}),n.createElement("circle",{id:"Oval-2",fill:"#FFFFFF",cx:"5.5",cy:"16.25",r:"1.5"})))},r[o.ORDERED_LIST]=function(){return n.createElement("svg",{viewBox:"0 0 20 20"},n.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M9,17 L9,15.5 L19.5,15.5 L19.5,17 L9,17 Z M9,12.5 L9,11 L19.5,11 L19.5,12.5 L9,12.5 Z M9,8 L9,6.5 L19.5,6.5 L19.5,8 L9,8 Z",id:"Icon-Fill",fill:"#FFFFFF",fillRule:"nonzero"}),n.createElement("circle",{id:"Oval-2",fill:"#FFFFFF",cx:"5.75",cy:"11.75",r:"1"}),n.createElement("text",{id:"1",fontFamily:"AtlasGrotesk-Black, Atlas Grotesk",fontSize:"5px",fontWeight:"700",fill:"#FFFFFF"},n.createElement("tspan",{x:"4.42",y:"9"},"1")),n.createElement("text",{id:"3",fontFamily:"AtlasGrotesk-Black, Atlas Grotesk",fontSize:"5px",fontWeight:"700",fill:"#FFFFFF"},n.createElement("tspan",{x:"3.845",y:"18.25"},"3"))))},r[o.LINK]=function(){return n.createElement("svg",{viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5858 13.636L7.93936 13.2825L6.87869 12.2218L6.52514 12.5754C5.15831 13.9422 5.15831 16.1583 6.52514 17.5251C7.89198 18.892 10.1081 18.892 11.4749 17.5251L13.5962 15.4038C14.963 14.037 14.963 11.8209 13.5962 10.4541L12.5355 11.5147C13.3166 12.2958 13.3166 13.5621 12.5355 14.3431L10.4142 16.4645C9.63318 17.2455 8.36685 17.2455 7.5858 16.4645C6.80475 15.6834 6.80475 14.4171 7.5858 13.636ZM16.0711 7.97918C15.29 7.19814 14.0237 7.19814 13.2427 7.97918L11.1213 10.1005C10.3403 10.8816 10.3403 12.1479 11.1213 12.9289L10.0607 13.9896C8.69384 12.6228 8.69384 10.4067 10.0607 9.03985L12.182 6.91852C13.5488 5.55169 15.7649 5.55169 17.1317 6.91852C18.4986 8.28536 18.4986 10.5014 17.1317 11.8683L16.7782 12.2218L15.7175 11.1612L16.0711 10.8076C16.8521 10.0266 16.8521 8.76023 16.0711 7.97918Z",fill:"#FFFFFF"}))},r[o.MENTION]=function(){return n.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.2598 4.875C10.0768 4.875 8.22867 5.63069 6.92609 6.9456C5.6236 8.26042 4.875 10.1259 4.875 12.3301C4.875 14.6028 5.60277 16.4717 6.91594 17.7725C8.22898 19.0732 10.1151 19.7939 12.4092 19.7939C13.5268 19.7939 14.6046 19.6345 15.4118 19.3565L15.4961 19.3274V17.9357L15.3188 18.0173C15.0586 18.1371 14.6379 18.2405 14.1252 18.3136C13.6152 18.3863 13.0234 18.4277 12.4268 18.4277C10.5731 18.4277 9.06 17.8328 8.01062 16.7866C6.96128 15.7405 6.36426 14.2318 6.36426 12.3828C6.36426 8.78842 8.78499 6.23242 12.1455 6.23242C13.8778 6.23242 15.3272 6.76702 16.3421 7.6823C17.3559 8.59665 17.9443 9.89817 17.9443 11.4512C17.9443 12.5209 17.7678 13.3891 17.4636 13.9849C17.1602 14.5791 16.7408 14.8857 16.25 14.8857C15.957 14.8857 15.7437 14.8027 15.6039 14.6647C15.4643 14.5269 15.3818 14.3185 15.3818 14.0352V8.75098H13.8047V9.70451C13.4001 9.00402 12.6193 8.58398 11.7324 8.58398C10.7944 8.58398 9.99484 8.97403 9.43186 9.6425C8.87017 10.3094 8.54883 11.2471 8.54883 12.3389C8.54883 13.4771 8.86255 14.441 9.42086 15.1229C9.9809 15.8069 10.7811 16.1992 11.7324 16.1992C12.7503 16.1992 13.5568 15.7259 13.9781 14.8715C14.1751 15.7126 14.9989 16.2783 16.0039 16.2783C17.0573 16.2783 17.9207 15.8021 18.5165 14.9576C19.1093 14.1171 19.4336 12.9181 19.4336 11.4688C19.4336 9.52831 18.6973 7.8771 17.4277 6.71186C16.1588 5.54736 14.365 4.875 12.2598 4.875ZM10.2051 12.374C10.2051 11.6217 10.3751 11.0388 10.6739 10.647C10.9693 10.2595 11.3993 10.0469 11.9521 10.0469C12.5136 10.0469 12.967 10.2682 13.2828 10.6625C13.6009 11.0596 13.7871 11.6424 13.7871 12.374C13.7871 13.1053 13.5989 13.6903 13.2775 14.0897C12.9583 14.4864 12.5004 14.71 11.9346 14.71C11.3966 14.71 10.9705 14.4943 10.6754 14.1027C10.3771 13.7071 10.2051 13.1214 10.2051 12.374Z"}))},r[o.TASK]=function(){return n.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.8 6.5H14.2C15.0648 6.5 15.6232 6.50117 16.0482 6.53589C16.4557 6.56918 16.6068 6.6257 16.681 6.66349C16.9632 6.8073 17.1927 7.03677 17.3365 7.31901C17.3743 7.39318 17.4308 7.54426 17.4641 7.95175C17.4988 8.37676 17.5 8.93517 17.5 9.8V14.2C17.5 15.0648 17.4988 15.6232 17.4641 16.0482C17.4308 16.4557 17.3743 16.6068 17.3365 16.681C17.1927 16.9632 16.9632 17.1927 16.681 17.3365C16.6068 17.3743 16.4557 17.4308 16.0482 17.4641C15.6232 17.4988 15.0648 17.5 14.2 17.5H9.8C8.93517 17.5 8.37676 17.4988 7.95175 17.4641C7.54426 17.4308 7.39318 17.3743 7.31901 17.3365C7.03677 17.1927 6.8073 16.9632 6.66349 16.681C6.6257 16.6068 6.56918 16.4557 6.53589 16.0482C6.50117 15.6232 6.5 15.0648 6.5 14.2V9.8C6.5 8.93517 6.50117 8.37676 6.53589 7.95175C6.56918 7.54426 6.6257 7.39318 6.66349 7.31901C6.8073 7.03677 7.03677 6.8073 7.31901 6.66349C7.39318 6.6257 7.54426 6.56918 7.95175 6.53589C8.37676 6.50117 8.93517 6.5 9.8 6.5ZM5 9.8C5 8.11984 5 7.27976 5.32698 6.63803C5.6146 6.07354 6.07354 5.6146 6.63803 5.32698C7.27976 5 8.11984 5 9.8 5H14.2C15.8802 5 16.7202 5 17.362 5.32698C17.9265 5.6146 18.3854 6.07354 18.673 6.63803C19 7.27976 19 8.11984 19 9.8V14.2C19 15.8802 19 16.7202 18.673 17.362C18.3854 17.9265 17.9265 18.3854 17.362 18.673C16.7202 19 15.8802 19 14.2 19H9.8C8.11984 19 7.27976 19 6.63803 18.673C6.07354 18.3854 5.6146 17.9265 5.32698 17.362C5 16.7202 5 15.8802 5 14.2V9.8ZM11.8047 15.2569L16.2201 9.04361L14.7936 8.02989L10.9883 13.3847L9.27059 11.6089L8.01273 12.8256L10.4626 15.3583C10.6434 15.5453 10.8981 15.6421 11.1575 15.6225C11.4169 15.6029 11.6541 15.4689 11.8047 15.2569Z"}))},r[o.ONBOARDING]=function(){return n.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 9.3951C8.5 7.45942 10.1803 6 12 6C13.8197 6 15.5 7.45942 15.5 9.3951C15.5 10.1162 15.3858 10.5218 15.2719 10.7766C15.154 11.0406 14.9943 11.2449 14.7109 11.567C14.6867 11.5944 14.6611 11.6232 14.6344 11.6534C14.368 11.9536 13.9833 12.3871 13.6745 12.9559C13.4312 13.404 13.2459 13.9082 13.1317 14.5H10.8692C10.7557 13.9057 10.5718 13.3985 10.3317 12.9472C10.0215 12.3642 9.63604 11.9208 9.36525 11.6093L9.36525 11.6093L9.29819 11.532C9.00841 11.1967 8.84514 10.9872 8.72526 10.7222C8.61177 10.4714 8.5 10.0814 8.5 9.3951ZM12 4.5C9.45933 4.5 7 6.52747 7 9.3951C7 11.1702 7.60617 11.8698 8.22154 12.5801C8.79806 13.2455 9.38265 13.9202 9.48444 15.4973C9.50222 15.7729 9.72386 16 10 16H14C14.2761 16 14.4977 15.7728 14.5156 15.4972C14.6167 13.9388 15.192 13.2877 15.7636 12.641C16.3841 11.9389 17 11.242 17 9.3951C17 6.52747 14.5407 4.5 12 4.5ZM9.5 18V17.5H14.5V18C14.5 19 13.108 19.5 12 19.5C10.892 19.5 9.5 19 9.5 18Z",fill:"black"}))},r)}),define("spectrum_comments/folder_overview_editor/components/fixed_toolbar_component",["require","exports","tslib","react","react-dom","spectrum_comments/comment_editor/core/editor_component","spectrum_comments/folder_overview_editor/components/toolbar_component","classnames","spectrum_comments/folder_overview_editor/components/link_prompt_component"],function(e,t,n,r,o,i,a,s,l){"use strict";function c(e){return(!!e.hyperlink.linkPromptProps||e.draft.isFocused||!!e.mentionShareFlow.popupProps)&&!e.draft.readOnly}Object.defineProperty(t,"__esModule",{value:!0}),t.isFixedToolbarVisible=c;var u=(function(e){function t(t){var n=e.call(this,t)||this;return n.onScroll=function(){
n.props.isVisible&&n.scrollContainer&&n.updateToolbarScrollState()},n.openLinkPrompt=function(e){n.props.triggers.hyperlink.updateLinkPromptProps({top:0,left:0}),e.preventDefault(),e.stopPropagation()},n.state={toolbarScrollState:"scroll",top:0,left:0,width:0},n}return n.__extends(t,e),t.prototype.componentDidUpdate=function(e){this.props.isVisible&&!e.isVisible&&this.setOnScrollEventListener()},t.prototype.componentWillUnmount=function(){this.scrollContainer&&this.scrollContainer.removeEventListener("scroll",this.onScroll)},t.prototype.isDocumentScrollContainer=function(){return!!this.scrollContainer&&"HTML"===this.scrollContainer.nodeName},t.prototype.setOnScrollEventListener=function(){this.scrollContainer=this.props.getScrollContainerEl?this.props.getScrollContainerEl():null,this.isDocumentScrollContainer()?(document.removeEventListener("scroll",this.onScroll),document.addEventListener("scroll",this.onScroll)):this.scrollContainer&&(this.scrollContainer.removeEventListener("scroll",this.onScroll),this.scrollContainer.addEventListener("scroll",this.onScroll)),this.updateToolbarScrollState()},t.prototype.getToolbarState=function(e,t,n){var r=this.props,o=r.toolbarHeightWithMargin,i=r.toolbarTopMargin,a="scroll",s=e-t;return s>n-o-i?a="hide":s+i>0&&(a="dock"),a},t.prototype.updateToolbarScrollState=function(){var e=this.props.toolbarTopMargin,t=this.props.getEditorContainerEl();if(t){var n=t.getBoundingClientRect(),r=this.isDocumentScrollContainer()||!this.scrollContainer?0:this.scrollContainer.getBoundingClientRect().top,o=this.getToolbarState(r,n.top,n.height);this.setState({toolbarScrollState:o,top:r+e,left:n.left,width:n.width})}},t.prototype.renderToolbar=function(){var e=this.props,t=e.triggers,n=e.editorState,o=e.activeFormatting,i=this.props.localization.folderOverviewToolbar||{};return r.createElement(a.ToolbarComponent,{localization:i},r.createElement(a.ToolbarBoldButton,{active:o.bold,localization:i,triggers:{draft:t.draft}}),r.createElement(a.ToolbarItalicButton,{active:o.italic,localization:i,triggers:{draft:t.draft}}),r.createElement(a.ToolbarStrikeThroughButton,{active:o.strikethrough,shortcutEnabled:!0,state:n,localization:i,triggers:{draft:t.draft}}),r.createElement(a.ToolbarOpenLinkButton,{localization:i,shortcutEnabled:!0,triggers:{draft:t.draft},onClick:this.openLinkPrompt}),!this.props.limitedWidth&&r.createElement(a.ToolbarDivider,null),r.createElement(a.ToolbarTaskButton,{active:o.task,localization:i,triggers:{draft:t.draft,task:t.task}}),r.createElement(a.ToolbarUnorderedListButton,{active:o.unorderedList,localization:i,state:n,triggers:{draft:t.draft}}),r.createElement(a.ToolbarOrderedListButton,{active:o.orderedList,localization:i,state:n,triggers:{draft:t.draft}}),r.createElement(a.ToolbarMentionButton,{localization:i,triggers:{draft:t.draft}}),!this.props.limitedWidth&&[r.createElement(a.ToolbarSpacer,null),r.createElement(a.ToolbarDivider,null),r.createElement(a.ToolbarDoneButton,{localization:i,blurEditor:this.props.blurEditor,triggers:{draft:t.draft}})],r.createElement(l.LinkPromptComponent,{focusEditor:this.props.focusEditor}))},t.prototype.isDocked=function(){return"dock"===this.state.toolbarScrollState},t.prototype.isVisible=function(){return this.props.isVisible&&"hide"!==this.state.toolbarScrollState},t.prototype.toolbarStyle=function(){this.state.toolbarScrollState;return this.isDocked()?{top:this.state.top,left:this.state.left,position:"fixed",width:this.state.width}:{}},t.prototype.renderToolbarWithPosition=function(){var e=s("sc-folder-overview-fixed-toolbar",{docked:this.isDocked(),"limited-width":this.props.limitedWidth}),t=r.createElement("div",{className:e,style:this.toolbarStyle()},this.renderToolbar()),n=this.props.getScrollContainerEl&&this.props.getScrollContainerEl(),i=n&&n.offsetParent?n.offsetParent:n;return this.isDocked()&&n&&i?o.createPortal(t,i):t},t.prototype.render=function(){return this.isVisible()?r.createElement("span",null,this.renderToolbarWithPosition()):null},t})(r.Component);t.FixedToolbarElement=u;var p=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){var e=c(this.status);return r.createElement(u,n.__assign({activeFormatting:this.status.fixedToolbar.activeFormatting,localization:this.localization,editorState:this.status.draft.editorState,isVisible:e,triggers:this.triggers},this.props))},t})(i.EditorComponent);t.FixedToolbarComponent=p}),define("spectrum_comments/folder_overview_editor/components/folder_overview_editor",["require","exports","tslib","react","classnames","spectrum_comments/folder_overview_editor/components/folder_overview_editor_container","spectrum_comments/comment_editor/components/draft_component","prop-types","spectrum_comments/folder_overview_editor/components/contextual_toolbar_component","spectrum_comments/folder_overview_editor/components/link_prompt_component","spectrum_comments/folder_overview_editor/components/global_style_component","spectrum_comments/comment_editor/components/active_macro_chrome_component","spectrum_comments/folder_overview_editor/components/inline_toolbar_component","spectrum_comments/folder_overview_editor/components/mention_share_popover","spectrum_comments/folder_overview_editor/components/fixed_toolbar_component","spectrum_comments/folder_overview_editor/components/plain_text_snippet_component","draft-js"],function(e,t,n,r,o,i,a,s,l,c,u,p,d,f,m,g,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.editorContainerRef=r.createRef(),t.awaitingMouseUp=!1,t.getEditorContainerRef=function(){return t.editorContainerRef.current},t.setDraftRef=function(e){t.props.setDraftRef&&t.props.setDraftRef(e),t.editorRef=e},t.blurEditor=function(){t.editorRef&&t.editorRef.blurEditor()},t.focusEditor=function(){t.editorRef&&t.editorRef.focusEditor()},t.handleFocus=function(e){if("mousedown"===e.type)return t.awaitingMouseUp=!0,!1;if("mouseup"===e.type)t.awaitingMouseUp=!1;else if("focus"===e.type)return!t.awaitingMouseUp;return!0},t.customKeyBinding=function(e){var n=t.props.accelKey,r="command"===n&&e.metaKey||"control"===n&&e.ctrlKey;switch(e.keyCode){case 83:return r&&e.altKey?"strikethrough":null;case 75:return r&&!e.altKey?"create-link":null;default:return h.getDefaultKeyBinding(e)}},t}return n.__extends(t,e),t.prototype.getChildContext=function(){return{localization:this.props.localization}},t.prototype.renderDraftEditor=function(){var e=this.props,t=e.annotation,o=e.localization,i={spellCheck:!0,a11yEditorLabel:o.a11yFolderOverviewLabel,annotation:t,shouldFocus:this.props.shouldFocus,customKeyBinding:this.customKeyBinding,handleFocus:this.handleFocus};return r.createElement(r.Fragment,null,this.props.showPlainTextSnippetWhenNotFocused&&r.createElement(g.PlainTextSnippetComponent,{focusEditor:this.focusEditor}),r.createElement(a.DraftComponent,n.__assign({},i,{ref:this.setDraftRef})))},t.prototype.render=function(){var e=this.props,t=e.className,a=e.readOnly,s=e.rootSharedFolderName,g=e.limitedWidth,h=e.getToolbarScrollContainerEl,v=e.hideAllToolbars,y="number"==typeof this.props.toolbarHeightWithMargin?this.props.toolbarHeightWithMargin:48,_=this.props.features.restylingWithFixedToolbar,b="sc-folder-overview-interaction-container",S=o(t,"sc-folder-overview-editor",{"hide-invite-email-mention":!this.props.enableEmailMention,"fixed-toolbar-restyle":this.props.features.restylingWithFixedToolbar,"folder-overview-limited-width":!!g});return r.createElement("div",{className:S,ref:this.editorContainerRef},r.createElement(i.FolderOverviewContainer,n.__assign({},this.props),r.createElement(u.GlobalStyleComponent,{className:"sc-folder-overview-inner"},r.createElement("div",{className:b},_&&!v&&r.createElement(m.FixedToolbarComponent,{limitedWidth:!!g,toolbarHeightWithMargin:y,toolbarTopMargin:this.props.toolbarTopMargin||0,blurEditor:this.blurEditor,focusEditor:this.focusEditor,getEditorContainerEl:this.getEditorContainerRef,getScrollContainerEl:h}),this.renderDraftEditor(),!a&&r.createElement("div",null,r.createElement(p.ActiveMacroChromeComponent,{scrollClassName:b}),!_&&!v&&r.createElement(l.ContextualToolbarComponent,{scrollClassName:b}),r.createElement(f.MentionSharePopoverComponent,{scrollClassName:b,limitedWidth:g,rootSharedFolderName:s||""}),!_&&!v&&r.createElement(d.InlineToolbarComponent,{scrollClassName:b,isMentionFeatureEnabled:this.props.features.mentions,isTaskFeatureEnabled:this.props.features.tasks,toolbarButtonOnboarding:this.props.toolbarButtonOnboarding}),!_&&!v&&r.createElement(c.LinkPromptComponent,{focusEditor:this.focusEditor}))))))},t.contextTypes={readOnlyCommentEditor:s.bool,container:s.object,scope:s.object,localization:s.object},t.childContextTypes={localization:s.object},t})(r.Component);t.FolderOverviewEditor=v}),define("spectrum_comments/folder_overview_editor/components/folder_overview_editor_container",["require","exports","tslib","spectrum_comments/comment_editor/types","spectrum_comments/comment_editor/layers/interaction","spectrum_comments/comment_editor/layers/text","spectrum_comments/comment_editor/layers/update","spectrum_comments/comment_editor/layers/style","spectrum_comments/comment_editor/core/editor_container_component","spectrum_comments/folder_overview_editor/layers/contextual_toolbar","spectrum_comments/folder_overview_editor/layers/scaffold","spectrum_comments/folder_overview_editor/types","spectrum_comments/folder_overview_editor/layers/draft_callback","spectrum_comments/folder_overview_editor/layers/hyperlink","spectrum_comments/folder_overview_editor/layers/global_style","spectrum_comments/comment_editor/layers/mentions_entity","spectrum_comments/comment_editor/layers/mentions_macro","spectrum_comments/comment_editor/layers/suggestions","spectrum_comments/folder_overview_editor/layers/inline_toolbar","spectrum_comments/folder_overview_editor/layers/block_auto_format","spectrum_comments/folder_overview_editor/layers/task","spectrum_comments/folder_overview_editor/layers/mention_share_flow","spectrum_comments/folder_overview_editor/layers/accessibility","spectrum_comments/folder_overview_editor/layers/fixed_toolbar","spectrum_comments/folder_overview_editor/layers/plain_text_snippet"],function(e,t,n,r,o,i,a,s,l,c,u,p,d,f,m,g,h,v,y,_,b,S,C,w,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var T={draft:r.DraftNames,folderOverview:p.FolderOverviewNames,macro:r.MacroNames,mentionSuggestions:r.MentionSuggestionNames,suggestion:r.SuggestionSelectionNames,contextualToolbar:p.ContextualToolbarNames,inlineToolbar:p.InlineToolbarNames,fixedToolbar:p.FixedToolbarNames,hyperlink:p.HyperlinkNames,plainTextSnippet:p.PlainTextSnippetNames,globalStyle:p.GlobalStyleNames,task:p.TaskNames,mentionShareFlow:p.MentionShareFlowNames,accessibility:p.AccessibilityNames},k=function(){},x=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),Object.defineProperty(t.prototype,"scopeNames",{get:function(){return T},enumerable:!0,configurable:!0}),t.prototype.getLayerProps=function(e){var t=e.features,n=t.inlineToolbar,r=t.tasks,o=t.mentions,i=t.restylingWithFixedToolbar,a=e.mentionShareFlowHandlers,s=void 0===a?S.DefaultMentionShareFlowHandlers:a,l=e.onOpenLink,c=void 0===l?k:l,u=e.enableEmailMention,p=e.onEditorStateChange,d=void 0===p?k:p,f=e.onMentionsQueryUpdated,m=void 0===f?k:f,g=e.showPlainTextSnippetWhenNotFocused,h=e.onTaskChecked,v=void 0===h?k:h,y=e.hideAllToolbars;return{inlineToolbar:n,tasks:r,mentions:o,mentionShareFlowHandlers:s,restylingWithFixedToolbar:i,onOpenLink:c,enableEmailMention:u,onEditorStateChange:d,onMentionsQueryUpdated:m,showPlainTextSnippetWhenNotFocused:g,onTaskChecked:v,hideAllToolbars:void 0!==y&&y}},t.prototype.mapPropsToLayers=function(e){var t=this.getLayerProps(e),n=t.inlineToolbar,r=t.tasks,l=t.mentions,u=t.mentionShareFlowHandlers,p=t.onOpenLink,T=t.enableEmailMention,k=t.onEditorStateChange,x=t.onMentionsQueryUpdated,O=t.restylingWithFixedToolbar,D=t.showPlainTextSnippetWhenNotFocused,M=t.onTaskChecked,F=t.hideAllToolbars;return[new o.InteractionLayer,new i.TextLayer,new s.StyleLayer,new m.GlobalStyleLayer,!F&&new c.ContextualToolbarLayer,!F&&n&&new y.InlineToolbarLayer,!F&&new f.HyperlinkLayer({onOpenLink:p}),new g.MentionsEntityLayer,l&&new h.MentionsMacroLayer({onMentionsQueryUpdated:x,disableEmailMention:!T}),r&&new b.TaskLayer({onTaskChecked:M}),new _.BlockAutoFormatLayer,!F&&O&&new w.FixedToolbarLayer,new v.SuggestionLayer,new S.MentionShareFlowLayer(u),new d.DraftCallbackLayer({onEditorStateChange:k}),new a.UpdateLayer,new C.AccessibilityLayer,D&&new E.PlainTextSnippetLayer].filter(function(e){return!!e})},t.prototype.createDefaultStatus=function(){var e=u.createDefaultStatus(this.scopeNames);return n.__assign({},e,{draft:n.__assign({},e.draft,{placeholder:this.props.placeholder||"",readOnly:!!this.props.readOnly}),mentionShareFlow:{popupProps:null},accessibility:{captureTab:!1}})},t.prototype.mapPropsToUpdates=function(e,t){var r={},o=!!e.readOnly||!!t.mentionShareFlow.popupProps;return e.editorState!==t.folderOverview.editorState&&(r=n.__assign({},r,{folderOverview:n.__assign({},t.folderOverview,{editorState:e.editorState})})),o!==t.draft.readOnly&&(r=n.__assign({},r,{draft:n.__assign({},t.draft,{editorState:e.editorState?e.editorState:t.draft.editorState,readOnly:o})})),e.mentionsMatches!==t.mentionSuggestions.userMap&&(r=n.__assign({},r,{mentionSuggestions:n.__assign({},t.mentionSuggestions,{userMap:e.mentionsMatches||{}})})),r},t})(l.EditorContainer);t.FolderOverviewContainer=x}),define("spectrum_comments/folder_overview_editor/components/global_style_component",["require","exports","tslib","react","spectrum_comments/comment_editor/core/editor_component","classnames"],function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){var e=this.container.getStatus().globalStyle.classNames,t=i(this.props.className,e);return r.createElement("div",{className:t},this.props.children)},t})(o.EditorComponent);t.GlobalStyleComponent=a}),define("spectrum_comments/folder_overview_editor/components/inline_toolbar_component",["require","exports","tslib","react","spectrum_comments/comment_editor/core/editor_component","spectrum_comments/folder_overview_editor/utils","spectrum_comments/folder_overview_editor/components/toolbar_component"],function(e,t,n,r,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=(function(e){function t(t){var n=e.call(this,t)||this;return n.setToolbarContainerRef=function(e){n.toolbarContainerRef=e},n.setToolbarComponentRef=function(e){n.toolbarComponentRef=e},n.state={position:null},n}return n.__extends(t,e),t.prototype.getPosition=function(){var e=this.props.scrollClassName,t=window.getSelection(),n=0!==t.rangeCount&&t.getRangeAt(0),r=n&&n.startContainer,o=r&&r.parentElement&&r.parentElement.getBoundingClientRect();if(!this.toolbarContainerRef||!o)return null;var a=i.getOffsetParent(this.toolbarContainerRef,e);if(!a)return null;var s=a.getBoundingClientRect();return{top:o.top-s.top}},t.prototype.getPositionOrCachedValue=function(){var e=this.getSelection();if(this.cachedPosition&&this.selectionForCachedPosition==e)return this.cachedPosition;var t=this.getPosition();return this.cachedPosition=t,this.selectionForCachedPosition=e,t},t.prototype.componentWillUpdate=function(){var e=this,t=this.status.draft.editorState.getSelection();this.status.inlineToolbar.props.isVisible&&this.state.selection!==t&&this.setState({selection:t,position:null},function(){setTimeout(function(){e.setState({position:e.getPositionOrCachedValue()})},0)})},t.prototype.getSelection=function(){return this.container.getStatus().draft.editorState.getSelection()},t.prototype.renderToolbar=function(e){var t=this.container.getStatus().draft.editorState,n=this.localization.folderOverviewToolbar||{},o=this.status.inlineToolbar.props.showOnlyMention;return r.createElement(a.ToolbarComponent,{position:e,localization:n,setToolbarComponentRef:this.setToolbarComponentRef},!o&&this.props.toolbarButtonOnboarding&&r.createElement(a.ToolbarOnboardingButton,{localization:n,onClick:this.props.toolbarButtonOnboarding,triggers:{draft:this.triggers.draft}}),!o&&r.createElement(a.ToolbarUnorderedListButton,{localization:n,state:t,triggers:{draft:this.triggers.draft}}),!o&&r.createElement(a.ToolbarOrderedListButton,{state:t,localization:n,triggers:{draft:this.triggers.draft}}),!o&&this.props.isTaskFeatureEnabled?r.createElement(a.ToolbarTaskButton,{localization:n,triggers:{draft:this.triggers.draft,task:this.triggers.task}}):null,this.props.isMentionFeatureEnabled?r.createElement(a.ToolbarMentionButton,{localization:n,triggers:{draft:this.triggers.draft}}):null)},t.prototype.render=function(){var e=this.status.inlineToolbar.props.isVisible,t=this.state.position,n=e&&t?this.renderToolbar(t):null;return r.createElement("div",{className:"sc-inline-toolbar-container",ref:this.setToolbarContainerRef},n)},t})(o.EditorComponent);t.InlineToolbarComponent=s}),define("spectrum_comments/folder_overview_editor/components/link_prompt_component",["require","exports","tslib","react","spectrum_comments/comment_editor/core/editor_component","spectrum/button"],function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClickOutside=function(e){t.linkContainerRef&&!t.linkContainerRef.contains(e.target)&&t.hideLinkPrompt()},t.setLinkPromptContainerRef=function(e){t.linkContainerRef=e},t.onSubmit=function(e){t.props.focusEditor(),t.triggers.hyperlink.createLink(e)},t}return n.__extends(t,e),t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleClickOutside)},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleClickOutside)},t.prototype.hideLinkPrompt=function(){this.triggers.hyperlink.updateLinkPromptProps(null)},t.prototype.render=function(){var e=this.container.getStatus().hyperlink.linkPromptProps;return r.createElement(s,{onSubmit:this.onSubmit,linkProps:e,containerRef:this.setLinkPromptContainerRef})},t})(o.EditorComponent);t.LinkPromptComponent=a;var s=(function(e){function t(t){var n=e.call(this,t)||this;return n.onEnterKey=function(e){13===(e.which||e.keyCode)&&n.canSubmit()&&n.props.onSubmit(n.state.inputValue)},n.onInputChange=function(e){n.setState({inputValue:e.currentTarget.value})},n.onCreateButtonClick=function(e){n.canSubmit()&&(n.props.onSubmit(n.state.inputValue),e.stopPropagation())},n.canSubmit=function(){return!!n.state.inputValue},n.setInputRef=function(e){n.inputRef=e},n.state={inputValue:""},n}return n.__extends(t,e),t.prototype.componentWillUpdate=function(e){var t=!!this.props.linkProps,n=!!e.linkProps;!t&&n&&this.componentWillShow()},t.prototype.componentDidUpdate=function(e){var t=!!this.props.linkProps,n=!!e.linkProps;t&&!n&&this.componentDidShow()},t.prototype.componentWillShow=function(){this.setState({inputValue:""})},t.prototype.componentDidShow=function(){this.inputRef&&this.inputRef.focus()},t.prototype.render=function(){if(!this.props.linkProps)return null;var e=this.props.linkProps,t=e.top,n=e.left,o={top:t,left:n};return r.createElement("div",{className:"sc-link-prompt",style:o,ref:this.props.containerRef},r.createElement("input",{className:"link-prompt-input",ref:this.setInputRef,onKeyPress:this.onEnterKey,placeholder:"Enter link URL",value:this.state.inputValue,onChange:this.onInputChange}),r.createElement(i.Button,{className:"submit-button",disabled:!this.canSubmit(),onClick:this.onCreateButtonClick},"Create"))},t})(r.Component)}),define("spectrum_comments/folder_overview_editor/components/link_span_component",["require","exports","tslib","react"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){t.props.onOpenLink(t.getUrl()),e.preventDefault(),e.stopPropagation()},t.onMouseUp=function(e){e.preventDefault(),e.stopPropagation()},t.onMouseDown=function(e){e.preventDefault(),e.stopPropagation()},t}return n.__extends(t,e),t.prototype.getUrl=function(){var e=this.props.contentState.getEntity(this.props.entityKey).getData().url;return e.match(/^[a-zA-Z0-9\+\-\.]+:\/\//)||(e="http://"+e),e},t.prototype.render=function(){return r.createElement("a",{className:"sc-editor-href",href:this.getUrl(),onClick:this.onClick,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},this.props.children)},t})(r.Component);t.LinkSpanComponent=o}),define("spectrum_comments/folder_overview_editor/components/mention_share_popover",["require","exports","tslib","react","spectrum_comments/comment_editor/core/editor_component","spectrum_comments/folder_overview_editor/components/popover_component","spectrum/button","draft-js"],function(e,t,n,r,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getPosition=function(e){var n=t.container.getStatus().mentionShareFlow.popupProps,r=n&&n.mentionKey;if(!r)return null;var o=e.querySelectorAll('[data-entity-key="'+r+'"]')[0];return o?o.getBoundingClientRect():null},t.onClickOnCancel=function(){t.closeSharePopup();var e=t.status.draft.editorState,n=s.EditorState.forceSelection(e,e.getSelection());t.triggers.draft.change(n)},t.onClickOnShare=function(){var e=t.container.getStatus().mentionShareFlow.popupProps;e&&t.triggers.mentionShareFlow.onShare(e),t.closeSharePopup()},t}return n.__extends(t,e),t.prototype.closeSharePopup=function(){this.triggers.mentionShareFlow.updatePopupProps(null)},t.prototype.getUserString=function(e){return e&&e.user?e.user.name.public||e.user.email:e&&"email"==e.mentionData.type?e.mentionData.identifier:""},t.prototype.render=function(){var e=this.status.mentionShareFlow.popupProps,t=this.localization.folderOverviewSharePopover,n=this.getUserString(e),o=t&&t.shareMessage(n,this.props.rootSharedFolderName),s=!!e;return r.createElement(i.PopoverComponent,{popoverWidth:300,className:"sc-mention-share-popover",scrollClassName:this.props.scrollClassName,limitedWidth:this.props.limitedWidth,computeTargetPosition:this.getPosition,isVisible:s},r.createElement("div",{className:"popup-title"},t&&t.shareTitle(n)),r.createElement("div",{className:"popup-message"},o),r.createElement("div",{className:"button-container"},r.createElement(a.Button,{className:"cancel-button",variant:"secondary",onClick:this.onClickOnCancel},t&&t.cancelLabel),r.createElement(a.Button,{variant:"primary",onClick:this.onClickOnShare},t&&t.continueLabel)))},t})(o.EditorComponent);t.MentionSharePopoverComponent=l}),define("spectrum_comments/folder_overview_editor/components/plain_text_snippet_component",["require","exports","tslib","react","spectrum_comments/comment_editor/core/editor_component"],function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.renderPlainTextSnippet=function(){var e=this.status.draft.editorState.getCurrentContent();return r.createElement("div",{className:"sc-folder-overview-plain-text-snippet sc-comment-editor-draft DraftEditor-root",onClick:this.props.focusEditor},e.getPlainText())},t.prototype.render=function(){return this.status.plainTextSnippet.show?this.renderPlainTextSnippet():null},t})(o.EditorComponent);t.PlainTextSnippetComponent=i}),define("spectrum_comments/folder_overview_editor/components/popover_component",["require","exports","tslib","react","spectrum_comments/folder_overview_editor/utils","classnames"],function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setPopoverContainerRef=function(e){t.popoverContainerRef=e},t}return n.__extends(t,e),t.prototype.getPosition=function(){var e=this.props.scrollClassName;if(!this.popoverContainerRef)return null;var t=o.getOffsetParent(this.popoverContainerRef,e);if(!t)return null;var n=this.props.computeTargetPosition(t);if(!this.popoverContainerRef||!n)return null;var r=t.getBoundingClientRect(),i=Math.round(n.left+n.width/2-r.left),a=10+this.props.popoverWidth/2,s=Math.min(Math.max(i,a),r.width-a),l={top:n.top-r.top,left:this.props.limitedWidth?0:s};return this.cachedPosition=l,l},t.prototype.getCachedPosition=function(){return this.cachedPosition},t.prototype.render=function(){var e=this.getPosition(),t=i("sc-popover",this.props.className),n=this.props.isVisible&&e?r.createElement("div",{className:t,style:e},this.props.children):null;return r.createElement("div",{className:"sc-popover-container",ref:this.setPopoverContainerRef},r.createElement(s,{transitionName:"popover"},n))},t})(r.Component);t.PopoverComponent=a;var s=(function(e){function t(t){var n=e.call(this,t)||this;return n.state={leave:!1,enter:!1,children:null},n}return n.__extends(t,e),t.prototype.cloneChildrenWithClass=function(e,t){return r.cloneElement(e,n.__assign({},e.props,{className:i(e.props.className,t)}))},t.prototype.componentWillReceiveProps=function(e){this.props.children&&!e.children?this.setState({leave:!0,enter:!1,children:this.props.children}):e.children&&!this.props.children&&this.setState({leave:!1,enter:!0})},t.prototype.render=function(){var e="",t=this.props.children;return this.state.leave&&(e=this.props.transitionName+"-leave",this.delayedResetTransitionState(),t=this.state.children),this.state.enter&&(e=this.props.transitionName+"-enter",this.delayedResetTransitionState()),t?this.cloneChildrenWithClass(t,e):null},t.prototype.delayedResetTransitionState=function(){var e=this;this.resetTransitionStateTimeout&&clearTimeout(this.resetTransitionStateTimeout),this.resetTransitionStateTimeout=setTimeout(function(){e.setState({leave:!1,enter:!1})},200)},t})(r.Component)}),define("spectrum_comments/folder_overview_editor/components/task_block",["require","exports","tslib","react","draft-js","classnames","spectrum/checkbox","spectrum_comments/comment_editor/core/editor_component"],function(e,t,n,r,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMouseDown=function(e){t.status.draft.readOnly||(e.stopPropagation(),e.preventDefault())},t.handleMouseUp=function(e){t.status.draft.readOnly||(t.props.blockProps.onToggleChecked(),e.stopPropagation(),e.preventDefault())},t.handleClick=function(e){t.status.draft.readOnly||(e.stopPropagation(),e.preventDefault())},t}return n.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.block,s=e.offsetKey,l=e.blockProps,c=0===this.props.block.getLength(),u=i("task-block",{checked:l.checked,readonly:this.status.draft.readOnly,"empty-block":c});return r.createElement("div",{className:u,"data-offset-key":s,"data-key":t.getKey()},r.createElement("div",{className:"task-block-checkbox-wrapper",suppressContentEditableWarning:!0,contentEditable:!1},r.createElement("div",{className:"task-block-clickable-div",onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseDown:this.handleMouseDown}),r.createElement(a.Checkbox,{className:"task-block-checkbox",checked:l.checked?"checked":"unchecked"}),c?r.createElement("div",{className:"sc-comment-editor-placeholder task-placeholder"},this.localization.folderOverviewTaskPlaceholder):null),r.createElement("div",{className:"checkable-list-item-block__text"},r.createElement(o.EditorBlock,n.__assign({},this.props))))},t})(s.EditorComponent);t.TaskComponent=l}),define("spectrum_comments/folder_overview_editor/components/toolbar_component",["require","exports","tslib","react","draft-js","spectrum_comments/folder_overview_editor/components/contextual_toolbar_icons","spectrum/tooltip/tooltip","classnames"],function(e,t,n,r,o,i,a,s){"use strict";function l(e,t){void 0===t&&(t="");var n;return s("toolbar-button",(n={"toolbar-button--active":e.active},n[t]=!!t,n))}Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){var t=i.toolbarSvgIcons[e.icon];return r.createElement(t,{key:e.icon})},u=function(e){return r.createElement("div",{className:"sc-toolbar-button-tooltip-content"},r.createElement("div",{className:"sc-toolbar-button-tooltip-content__message"},e.message),e.shortcut&&r.createElement("div",{className:"sc-toolbar-button-tooltip-content__shortcut"},e.shortcut))},p=function(e,t,n){var o=e.accelKey,i=e.altKey;return o?r.createElement("div",null,r.createElement("span",null,o),r.createElement("span",null," + "),n&&i&&r.createElement("span",null,r.createElement("span",null,i),r.createElement("span",null," + ")),r.createElement("span",null,t)):null},d=function(e,t){var n=e.spaceKey;return n?r.createElement("div",null,r.createElement("span",null,t),r.createElement("span",null," "),r.createElement("span",null,n)):null};t.ToolbarDivider=function(){return r.createElement("div",{className:"toolbar-divider",key:"-"})},t.ToolbarSpacer=function(){return r.createElement("div",{className:"toolbar-spacer",key:"/"})};var f=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.stopPropagation(),t.props.triggers.draft.keyCommand("bold")},t}return n.__extends(t,e),t.prototype.render=function(){var e=this.props.localization,t=e.boldMsg&&r.createElement(u,{message:e.boldMsg,shortcut:p(e,"B")});return r.createElement("div",{className:l(this.props,"toolbar-button-bold"),key:"bold",onClick:this.handleClick,"aria-label":e.boldMsg,role:"button"},r.createElement(a.Tooltip,{className:"sc-toolbar-tooltip",tooltipContent:t,positioning:"above"},r.createElement(c,{icon:i.ToolbarActionIcon.BOLD})))},t})(r.Component);t.ToolbarBoldButton=f;var m=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.stopPropagation(),t.props.triggers.draft.keyCommand("italic")},t}return n.__extends(t,e),t.prototype.render=function(){var e=this.props.localization,t=e.italicMsg&&r.createElement(u,{message:e.italicMsg,shortcut:p(e,"I")});return r.createElement("div",{role:"button","aria-label":e.italicMsg,className:l(this.props,"toolbar-button-italic"),key:"bold",onClick:this.handleClick},r.createElement(a.Tooltip,{className:"sc-toolbar-tooltip",tooltipContent:t,positioning:"above"},r.createElement(c,{icon:i.ToolbarActionIcon.ITALIC})))},t})(r.Component);t.ToolbarItalicButton=m;var g=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.stopPropagation();var n=t.props.state;t.props.triggers.draft.change(o.RichUtils.toggleInlineStyle(n,"STRIKETHROUGH"))},t}return n.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.localization,n=e.shortcutEnabled,o=n?p(t,"S",!0):null,s=t.strikeThroughMsg&&r.createElement(u,{message:t.strikeThroughMsg,shortcut:o});return r.createElement("div",{role:"button","aria-label":t.strikeThroughMsg,className:l(this.props,"toolbar-button-strike-through"),key:"strikethrough",onClick:this.handleClick},r.createElement(a.Tooltip,{className:"sc-toolbar-tooltip",tooltipContent:s,positioning:"above"},r.createElement(c,{icon:i.ToolbarActionIcon.STRIKE_THROUGH})))},t})(r.Component);t.ToolbarStrikeThroughButton=g;var h=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.stopPropagation();var n=t.props.state;t.props.triggers.draft.change(o.RichUtils.toggleBlockType(n,"unordered-list-item"))},t}return n.__extends(t,e),t.prototype.render=function(){var e=this.props.localization,t=e.unorderedListMsg&&r.createElement(u,{message:e.unorderedListMsg,shortcut:d(e,"-")});return r.createElement("div",{role:"button",
"aria-label":e.unorderedListMsg,className:l(this.props,"toolbar-button-unordered-list"),key:"ul",onClick:this.handleClick},r.createElement(a.Tooltip,{className:"sc-toolbar-tooltip",tooltipContent:t,positioning:"above"},r.createElement(c,{icon:i.ToolbarActionIcon.UNORDERED_LIST})))},t})(r.Component);t.ToolbarUnorderedListButton=h;var v=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.stopPropagation();var n=t.props.state;t.props.triggers.draft.change(o.RichUtils.toggleBlockType(n,"ordered-list-item"))},t}return n.__extends(t,e),t.prototype.render=function(){var e=this.props.localization,t=e.orderedListMsg&&r.createElement(u,{message:e.orderedListMsg,shortcut:d(e,"1.")});return r.createElement("div",{role:"button","aria-label":e.orderedListMsg,className:l(this.props,"toolbar-button-ordered-list"),key:"ol",onClick:this.handleClick},r.createElement(a.Tooltip,{className:"sc-toolbar-tooltip",tooltipContent:t,positioning:"above"},r.createElement(c,{icon:i.ToolbarActionIcon.ORDERED_LIST})))},t})(r.Component);t.ToolbarOrderedListButton=v;var y=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.stopPropagation(),t.props.triggers.draft.input("@")},t}return n.__extends(t,e),t.prototype.render=function(){var e=this.props.localization,t=e.mentionMsg&&r.createElement(u,{message:e.mentionMsg,shortcut:e.mentionShortcutMsg});return r.createElement("div",{role:"button","aria-label":e.mentionMsg,className:l(this.props,"toolbar-button-mention"),key:"mention",onClick:this.handleClick},r.createElement(a.Tooltip,{className:"sc-toolbar-tooltip",tooltipContent:t,positioning:"above"},r.createElement(c,{icon:i.ToolbarActionIcon.MENTION})))},t})(r.Component);t.ToolbarMentionButton=y;var _=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){t.props.blurEditor()},t}return n.__extends(t,e),t.prototype.render=function(){var e=this.props.localization;return r.createElement("div",{role:"button","aria-label":e.doneMsg,className:l(this.props,"toolbar-button-done"),key:"mention",onClick:this.handleClick},e.doneMsg)},t})(r.Component);t.ToolbarDoneButton=_;var b=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){t.props.triggers.task.toggleTaskBlock(null),e.stopPropagation()},t}return n.__extends(t,e),t.prototype.render=function(){var e=this.props.localization,t=e.taskMsg&&r.createElement(u,{message:e.taskMsg,shortcut:d(e,"[]")});return r.createElement("div",{role:"button","aria-label":e.taskMsg,className:l(this.props,"toolbar-button-task"),key:"task",onClick:this.handleClick},r.createElement(a.Tooltip,{className:"sc-toolbar-tooltip",tooltipContent:t,positioning:"above"},r.createElement(c,{icon:i.ToolbarActionIcon.TASK})))},t})(r.Component);t.ToolbarTaskButton=b;var S=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.localization,n=e.shortcutEnabled,o=n?p(t,"K"):null,s=t.linkMsg&&r.createElement(u,{message:t.linkMsg,shortcut:o});return r.createElement("div",{role:"button","aria-label":t.linkMsg,className:l(this.props,"toolbar-button-link"),key:"link",onClick:this.props.onClick},r.createElement(a.Tooltip,{className:"sc-toolbar-tooltip",tooltipContent:s,positioning:"above"},r.createElement(c,{icon:i.ToolbarActionIcon.LINK})))},t})(r.Component);t.ToolbarOpenLinkButton=S;var C=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){var e=this.props.localization,t=e.onboardingMsg&&r.createElement(u,{message:e.onboardingMsg});return r.createElement("div",{role:"button",className:l(this.props,"toolbar-button-onboarding"),key:"link","aria-label":e.onboardingMsg,onClick:this.props.onClick},r.createElement(a.Tooltip,{className:"sc-toolbar-tooltip",tooltipContent:t,positioning:"above"},r.createElement(c,{icon:i.ToolbarActionIcon.ONBOARDING})))},t})(r.Component);t.ToolbarOnboardingButton=C;var w=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(e){e.stopPropagation(),e.preventDefault()},t.setToolbarComponentRef=function(e){t.props.setToolbarComponentRef&&t.props.setToolbarComponentRef(e)},t}return n.__extends(t,e),t.prototype.render=function(){var e=this.props.localization,t=s("sc-toolbar-component",this.props.className);return r.createElement("div",{className:t,role:"group","aria-label":e.a11yToolbarMsg,style:this.props.position,ref:this.setToolbarComponentRef,onMouseDown:this.onMouseDown,key:"toolbar"},this.props.children)},t})(r.Component);t.ToolbarComponent=w}),define("spectrum_comments/folder_overview_editor",["require","exports","tslib","spectrum_comments/folder_overview_editor/components/folder_overview_editor"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.__exportStar(r,t)}),define("spectrum_comments/folder_overview_editor/layers/accessibility",["require","exports","tslib","spectrum_comments/comment_editor/core/class_decorators","spectrum_comments/folder_overview_editor/layers/scaffold","spectrum_comments/comment_editor/core/types"],function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.setCaptureTabIndent=function(e){return e.innerProps.evt},t.prototype.handleTabIndent=function(e){var t=e.innerProps.evt;"Escape"===t.key?e.triggers.accessibility.setCaptureTab(!1):9!==t.which&&(e.status.accessibility.captureTab||e.triggers.accessibility.setCaptureTab(!0))},n.__decorate([r.plug(o.intoFolderOverview.accessibility.on.setCaptureTab.update.captureTab)],t.prototype,"setCaptureTabIndent",null),n.__decorate([r.plug(o.intoFolderOverview.draft.on.key)],t.prototype,"handleTabIndent",null),t})(i.BaseLayer);t.AccessibilityLayer=a}),define("spectrum_comments/folder_overview_editor/layers/contextual_toolbar",["require","exports","tslib","spectrum_comments/comment_editor/core/class_decorators","spectrum_comments/folder_overview_editor/layers/scaffold","spectrum_comments/comment_editor/core/types"],function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.updateEditorState=function(e){var t=e.innerProps.evt,n=t.getSelection(),r=n.getHasFocus()&&!t.getSelection().isCollapsed();e.triggers.contextualToolbar.updateVisibility(r)},t.prototype.updateVisibility=function(e){return e.innerProps.evt},t.prototype.resetLinkPromptWhenToolbarShows=function(e){e.innerProps.evt&&e.triggers.hyperlink.updateLinkPromptProps(null)},n.__decorate([r.plug(o.intoFolderOverview.draft.on.change)],t.prototype,"updateEditorState",null),n.__decorate([r.plug(o.intoFolderOverview.contextualToolbar.on.updateVisibility.update.isVisible)],t.prototype,"updateVisibility",null),n.__decorate([r.plug(o.intoFolderOverview.contextualToolbar.on.updateVisibility)],t.prototype,"resetLinkPromptWhenToolbarShows",null),t})(i.BaseLayer);t.ContextualToolbarLayer=a}),define("spectrum_comments/folder_overview_editor/layers/draft_callback",["require","exports","tslib","spectrum_comments/comment_editor/core/class_decorators","spectrum_comments/folder_overview_editor/layers/scaffold","spectrum_comments/comment_editor/core/types","draft-js"],function(e,t,n,r,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=(function(e){function t(t){var n=e.call(this)||this;return n.options=t,n}return n.__extends(t,e),t.prototype.triggerInit=function(e){var t=e.status.folderOverview.editorState;e.innerProps.prevStatus.folderOverview.editorState!==t&&(e.triggers.draft.init(null),e.triggers.draft.change(t))},t.prototype.callOnContentChange=function(e){var t=e.innerProps.value;this.options.onEditorStateChange(t)},t.prototype.handleTabIndent=function(e){var t=e.innerProps.evt,n=e.innerProps.value;if(9===t.which&&e.status.accessibility.captureTab){var r=a.RichUtils.onTab(t,n,4);if(t.preventDefault(),r!==n)return r}},n.__decorate([r.plug(o.intoFolderOverview.folderOverview)],t.prototype,"triggerInit",null),n.__decorate([r.plug(o.intoFolderOverview.draft.on.change.update.editorState)],t.prototype,"callOnContentChange",null),n.__decorate([r.plug(o.intoFolderOverview.draft.on.key.update.editorState)],t.prototype,"handleTabIndent",null),t})(i.BaseLayer);t.DraftCallbackLayer=s}),define("spectrum_comments/folder_overview_editor/layers/fixed_toolbar",["require","exports","tslib","spectrum_comments/comment_editor/core/class_decorators","spectrum_comments/folder_overview_editor/layers/scaffold","spectrum_comments/comment_editor/core/types","draft-js","spectrum_comments/comment_editor/draft_utils","spectrum_comments/folder_overview_editor/components/fixed_toolbar_component"],function(e,t,n,r,o,i,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.onDraftChange=function(e){var t=e.innerProps.evt,n=s.getSelectionInlineStyle(t),r=s.getSelectionBlockTypes(t),o={bold:n.BOLD,strikethrough:n.STRIKETHROUGH,italic:n.ITALIC,task:"task-block"===r,orderedList:"ordered-list-item"===r,unorderedList:"unordered-list-item"===r};e.triggers.fixedToolbar.updateActiveFormatting(o)},t.prototype.onDraftFocus=function(e){this.updateToolbarVisibility(e.status,e.triggers)},t.prototype.onDraftBlur=function(e){this.updateToolbarVisibility(e.status,e.triggers)},t.prototype.updateToolbarVisibility=function(e,t){t.globalStyle.setClassName({className:"fixed-toolbar-visible",value:l.isFixedToolbarVisible(e)})},t.prototype.updateActiveFormatting=function(e){return e.innerProps.evt},t.prototype.handleKeyCommand=function(e){var t=e.innerProps,n=t.evt,r=t.value;if("strikethrough"===n)return a.RichUtils.toggleInlineStyle(r,"STRIKETHROUGH")},n.__decorate([r.plug(o.intoFolderOverview.draft.on.change)],t.prototype,"onDraftChange",null),n.__decorate([r.plug(o.intoFolderOverview.draft.on.focus)],t.prototype,"onDraftFocus",null),n.__decorate([r.plug(o.intoFolderOverview.draft.on.blur)],t.prototype,"onDraftBlur",null),n.__decorate([r.plug(o.intoFolderOverview.fixedToolbar.on.updateActiveFormatting.update.activeFormatting)],t.prototype,"updateActiveFormatting",null),n.__decorate([r.plug(o.intoFolderOverview.draft.on.keyCommand.update.editorState)],t.prototype,"handleKeyCommand",null),t})(i.BaseLayer);t.FixedToolbarLayer=c}),define("spectrum_comments/folder_overview_editor/layers/global_style",["require","exports","tslib","spectrum_comments/comment_editor/core/class_decorators","spectrum_comments/folder_overview_editor/layers/scaffold","spectrum_comments/comment_editor/core/types"],function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.hidePlaceholderWhenContentEmpty=function(e){var t=e.innerProps.evt,n=t.getCurrentContent(),r=!n.hasText()&&"unstyled"===n.getBlockMap().first().getType();e.triggers.globalStyle.setClassName({className:"empty-content",value:r})},t.prototype.updateClassNames=function(e){var t=e.status.globalStyle.classNames,n=e.innerProps.evt,r=n.className,o=n.value;return t[r]=o,t},n.__decorate([r.plug(o.intoFolderOverview.draft.on.change)],t.prototype,"hidePlaceholderWhenContentEmpty",null),n.__decorate([r.plug(o.intoFolderOverview.globalStyle.on.setClassName.update.classNames)],t.prototype,"updateClassNames",null),t})(i.BaseLayer);t.GlobalStyleLayer=a}),define("spectrum_comments/folder_overview_editor/layers/hyperlink",["require","exports","tslib","spectrum_comments/comment_editor/core/class_decorators","spectrum_comments/folder_overview_editor/layers/scaffold","spectrum_comments/comment_editor/core/types","draft-js","spectrum_comments/folder_overview_editor/components/link_span_component"],function(e,t,n,r,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=(function(e){function t(t){var n=e.call(this)||this;return n.options=t,n}return n.__extends(t,e),t.prototype.updateLinkPrompt=function(e){return e.innerProps.evt},t.prototype.createLink=function(e){var t=e.innerProps.evt.trim(),n=e.status.draft.editorState,r=n.getCurrentContent(),o=n.getSelection();o.isCollapsed()&&(r=a.Modifier.insertText(r,o,t),o=o.merge({focusOffset:o.getStartOffset()+t.length}));var i=r.createEntity("LINK","MUTABLE",{url:t}),s=i.getLastCreatedEntityKey(),l=a.EditorState.set(n,{currentContent:i}),c=a.RichUtils.toggleLink(l,o,s);return e.triggers.draft.change(c),null},t.prototype.openLink=function(e){this.options.onOpenLink(e.innerProps.evt)},t.prototype.addDecoratorsOnChange=function(e){return e.innerProps.value.concat([{strategy:function(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()},t)},props:{readOnly:e.status.draft.readOnly,onOpenLink:e.triggers.hyperlink.openLink},component:s.LinkSpanComponent}])},t.prototype.handleKeyCommand=function(e){var t=e.innerProps,n=t.evt;t.value;"create-link"===n&&e.triggers.hyperlink.updateLinkPromptProps({top:0,left:0})},n.__decorate([r.plug(o.intoFolderOverview.hyperlink.on.updateLinkPromptProps.update.linkPromptProps)],t.prototype,"updateLinkPrompt",null),n.__decorate([r.plug(o.intoFolderOverview.hyperlink.on.createLink.update.linkPromptProps)],t.prototype,"createLink",null),n.__decorate([r.plug(o.intoFolderOverview.hyperlink.on.openLink)],t.prototype,"openLink",null),n.__decorate([r.plug(o.intoFolderOverview.draft.on.init.update.decorators)],t.prototype,"addDecoratorsOnChange",null),n.__decorate([r.plug(o.intoFolderOverview.draft.on.keyCommand)],t.prototype,"handleKeyCommand",null),t})(i.BaseLayer);t.HyperlinkLayer=l}),define("spectrum_comments/folder_overview_editor/layers/inline_toolbar",["require","exports","tslib","spectrum_comments/comment_editor/core/class_decorators","spectrum_comments/folder_overview_editor/layers/scaffold","spectrum_comments/comment_editor/core/types"],function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.onDraftChange=function(e){var t=e.innerProps.evt;this.updateToolbarOnEditorStateChanges(t,e.triggers.inlineToolbar.updateProps),this.hidePlaceholderWhenContentEmpty(t,e.triggers.globalStyle.setClassName)},t.prototype.updateVisibility=function(e){return e.innerProps.evt},t.prototype.updateToolbarOnEditorStateChanges=function(e,t){var n=e.getSelection(),r=e.getCurrentContent().getBlockForKey(n.getStartKey()),o=r&&""==r.getText(),i="task-block"===r.getType();t({isVisible:n.getHasFocus()&&n.isCollapsed()&&o,showOnlyMention:i})},t.prototype.hidePlaceholderWhenContentEmpty=function(e,t){t({className:"editor-has-focus",value:e.getSelection().getHasFocus()})},n.__decorate([r.plug(o.intoFolderOverview.draft.on.change)],t.prototype,"onDraftChange",null),n.__decorate([r.plug(o.intoFolderOverview.inlineToolbar.on.updateProps.update.props)],t.prototype,"updateVisibility",null),t})(i.BaseLayer);t.InlineToolbarLayer=a}),define("spectrum_comments/folder_overview_editor/layers/mention_share_flow",["require","exports","tslib","spectrum_comments/comment_editor/core/class_decorators","spectrum_comments/folder_overview_editor/layers/scaffold","spectrum_comments/comment_editor/core/types","draft-js","spectrum_comments/folder_overview_editor/utils"],function(e,t,n,r,o,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultMentionShareFlowHandlers={onShare:function(){},onMention:function(){return new Promise(function(e){return e({userInFolder:!0,shouldShowSharePopup:!1})})}};var l=(function(e){function t(t){var n=e.call(this)||this;return n.options=t,n}return n.__extends(t,e),t.prototype.addPendingFlagToMention=function(e){var t=e.status.draft.editorState,n=e.innerProps.evt,r=n.mentionKey,o=n.mentionData,i=n.user,a=this.options.onMention(o,r),l=s.mergeMentionEntityData(t,r,!0);e.triggers.draft.change(l),a.then(function(n){if(n.shouldShowSharePopup)e.triggers.mentionShareFlow.updatePopupProps({mentionKey:r,mentionData:o,user:i});else if(n.userInFolder){var a=s.mergeMentionEntityData(t,r,!1);e.triggers.draft.change(a)}})},t.prototype.updatePopupProps=function(e){return e.triggers.draft.readOnly(!!e.innerProps.evt),e.innerProps.evt},t.prototype.onShare=function(e){var t=e.innerProps.evt,n=t.mentionKey,r=t.mentionData,o=t.user,i=function(){e.triggers.mentionShareFlow.onShareCompleted({mentionKey:n,mentionData:r,user:o})};this.options.onShare(r,n,i)},t.prototype.onShareCompleted=function(e){var t=e.innerProps.evt.mentionKey,n=e.status.draft.editorState,r=s.updateMentionEntityState(t,n),o=a.EditorState.forceSelection(r,r.getSelection());e.triggers.draft.change(o)},t.prototype.updateReadonly=function(e){return e.innerProps.evt},t.prototype.closePopupOnChange=function(e){e.innerProps.prevStatus.draft.editorState.getCurrentContent()!==e.status.draft.editorState.getCurrentContent()&&e.status.mentionShareFlow.popupProps&&e.triggers.mentionShareFlow.updatePopupProps(null)},n.__decorate([r.plug(o.intoFolderOverview.mentionSuggestions.on.onApplyMentionToRange)],t.prototype,"addPendingFlagToMention",null),n.__decorate([r.plug(o.intoFolderOverview.mentionShareFlow.on.updatePopupProps.update.popupProps)],t.prototype,"updatePopupProps",null),n.__decorate([r.plug(o.intoFolderOverview.mentionShareFlow.on.onShare)],t.prototype,"onShare",null),n.__decorate([r.plug(o.intoFolderOverview.mentionShareFlow.on.onShareCompleted)],t.prototype,"onShareCompleted",null),n.__decorate([r.plug(o.intoFolderOverview.draft.on.readOnly.update.readOnly)],t.prototype,"updateReadonly",null),n.__decorate([r.plug(o.intoFolderOverview.draft)],t.prototype,"closePopupOnChange",null),t})(i.BaseLayer);t.MentionShareFlowLayer=l}),define("spectrum_comments/folder_overview_editor/layers/plain_text_snippet",["require","exports","tslib","spectrum_comments/comment_editor/core/class_decorators","spectrum_comments/folder_overview_editor/layers/scaffold","spectrum_comments/comment_editor/core/types"],function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.updateSnippet=function(e){var t=e.innerProps.evt,n=t.getCurrentContent(),r=e.status,o=r.draft,i=r.macro,a=r.hyperlink,s=r.mentionShareFlow,l=!n.hasText()&&!o.isComposing,c=!(l||o.isFocused||i.active||s.popupProps||a.linkPromptProps);e.triggers.plainTextSnippet.update(c)},t.prototype.updateSnippetValue=function(e){var t=e.innerProps.evt;return e.triggers.globalStyle.setClassName({className:"show-plain-text-snippet",value:t}),t},n.__decorate([r.plug(o.intoFolderOverview.draft.on.change)],t.prototype,"updateSnippet",null),n.__decorate([r.plug(o.intoFolderOverview.plainTextSnippet.on.update.update.show)],t.prototype,"updateSnippetValue",null),t})(i.BaseLayer);t.PlainTextSnippetLayer=a}),define("spectrum_comments/folder_overview_editor/layers/scaffold",["require","exports","tslib","spectrum_comments/comment_editor/layers/scaffold","spectrum_comments/folder_overview_editor/types","spectrum_comments/comment_editor/core/class_decorators"],function(e,t,n,r,o,i){"use strict";function a(e){return r.filterSupportedFeatures(n.__assign({},r.getCommentEditorDefaultStatus(),{contextualToolbar:{isVisible:!1,updateLinkPromptProps:!1},inlineToolbar:{isVisible:!1},hyperlink:{},globalStyle:{classNames:{}},folderOverview:{},task:{},mentionShareFlow:{},accessibility:{captureTab:!1},fixedToolbar:{activeFormatting:{}},plainTextSnippet:{show:!1}}),e)}Object.defineProperty(t,"__esModule",{value:!0}),t.createDefaultStatus=a,t.intoFolderOverview=i.scaffold(o.folderOverviewNames)}),define("spectrum_comments/folder_overview_editor/layers/task",["require","exports","tslib","spectrum_comments/comment_editor/core/class_decorators","spectrum_comments/folder_overview_editor/layers/scaffold","spectrum_comments/comment_editor/core/types","draft-js","spectrum_comments/folder_overview_editor/components/task_block","spectrum_comments/comment_editor/draft_utils"],function(e,t,n,r,o,i,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=(function(e){function t(t){var n=e.call(this)||this;return n.taskOptions=t,n}return n.__extends(t,e),t.prototype.toggleTaskBlock=function(e){var t=e.status.draft.editorState,n=a.RichUtils.toggleBlockType(t,"task-block");e.triggers.draft.change(n)},t.prototype.setTaskState=function(e){var t=e.innerProps.evt,n=t.key,r=t.checked,o=e.status.draft.editorState;e.triggers.draft.change(l.mergeBlockDataByKey(o,n,{checked:r},!1)),this.taskOptions.onTaskChecked(n,r)},t.prototype.addBlockFn=function(e){var t=e.innerProps.value,r=function(t){var n=t.getData().get("checked"),r={onToggleChecked:function(){e.triggers.task.setTaskState({checked:!n,key:t.getKey()})},checked:n};return{component:s.TaskComponent,props:r}};return n.__assign({},t,{"task-block":r})},n.__decorate([r.plug(o.intoFolderOverview.task.on.toggleTaskBlock)],t.prototype,"toggleTaskBlock",null),n.__decorate([r.plug(o.intoFolderOverview.task.on.setTaskState)],t.prototype,"setTaskState",null),n.__decorate([r.plug(o.intoFolderOverview.draft.on.init.update.blockRenderers)],t.prototype,"addBlockFn",null),t})(i.BaseLayer);t.TaskLayer=c}),define("spectrum_comments/folder_overview_editor/types",["require","exports","tslib","spectrum_comments/comment_editor/types"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o;(function(e){e.evts=["updateVisibility","toggleCommand"],e.values=["isVisible"]})(o=t.ContextualToolbarNames||(t.ContextualToolbarNames={}));var i;(function(e){e.evts=["updateProps"],e.values=["props"]})(i=t.InlineToolbarNames||(t.InlineToolbarNames={}));var a;(function(e){e.evts=["updateActiveFormatting"],e.values=["activeFormatting"]})(a=t.FixedToolbarNames||(t.FixedToolbarNames={}));var s;(function(e){e.evts=["update"],e.values=["show"]})(s=t.PlainTextSnippetNames||(t.PlainTextSnippetNames={}));var l;(function(e){e.evts=["updateLinkPromptProps","createLink","openLink"],e.values=["linkPromptProps"]})(l=t.HyperlinkNames||(t.HyperlinkNames={}));var c;(function(e){e.evts=["toggleTaskBlock","setTaskState"],e.values=[]})(c=t.TaskNames||(t.TaskNames={}));var u;(function(e){e.evts=["updatePopupProps","onShare","onShareCompleted"],e.values=["popupProps"]})(u=t.MentionShareFlowNames||(t.MentionShareFlowNames={}));var p;(function(e){e.evts=["setClassName"],e.values=["classNames"]})(p=t.GlobalStyleNames||(t.GlobalStyleNames={}));var d;(function(e){e.evts=["setCaptureTab"],e.values=["captureTab"]})(d=t.AccessibilityNames||(t.AccessibilityNames={}));var f;(function(e){e.evts=[],e.values=["editorState"]})(f=t.FolderOverviewNames||(t.FolderOverviewNames={})),t.folderOverviewNames=n.__assign({},r.commentEditorNames,{folderOverview:f,contextualToolbar:o,inlineToolbar:i,hyperlink:l,fixedToolbar:a,globalStyle:p,plainTextSnippet:s,task:c,mentionShareFlow:u,accessibility:d})}),define("spectrum_comments/folder_overview_editor/utils",["require","exports","draft-js","spectrum_comments/comment_editor/draft_utils"],function(e,t,n,r){"use strict";function o(e,t){for(;e&&!e.classList.contains(t);)e=e.offsetParent;return e}function i(e,t){var n,r=t.getCurrentContent();try{n=r.getEntity(e)}catch(e){}return n&&"mention"===n.getType()?a(t,e,!1):t}function a(e,t,o){var i=e.getCurrentContent(),a=i.mergeEntityData(t,{pending:o}),s=n.EditorState.push(e,a,"apply-entity"),l=a.getSelectionAfter(),c=l.merge({focusOffset:l.getFocusOffset()+1}),u=n.Modifier.removeRange(n.Modifier.insertText(a,l," "),c,"backward"),p=r.replaceContent(s,u);return n.EditorState.forceSelection(p,s.getSelection())}Object.defineProperty(t,"__esModule",{value:!0}),t.getOffsetParent=o,t.updateMentionEntityState=i,t.mergeMentionEntityData=a});
//# sourceMappingURL=pkg-folder-overview.min.js-vfldWG_7_.map